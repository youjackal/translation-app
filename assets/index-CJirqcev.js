(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))A(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&A(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function A(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function IS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cm={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C;function Xx(){if($C)return Tu;$C=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(A,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:n,type:A,key:a,ref:i!==void 0?i:null,props:o}}return Tu.Fragment=e,Tu.jsx=t,Tu.jsxs=t,Tu}var ZC;function Wx(){return ZC||(ZC=1,cm.exports=Xx()),cm.exports}var I=Wx(),fm={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function $x(){if(jC)return Pe;jC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function k(P,ne,ce){this.props=P,this.context=ne,this.refs=M,this.updater=ce||Q}k.prototype.isReactComponent={},k.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function G(){}G.prototype=k.prototype;function X(P,ne,ce){this.props=P,this.context=ne,this.refs=M,this.updater=ce||Q}var te=X.prototype=new G;te.constructor=X,D(te,k.prototype),te.isPureReactComponent=!0;var re=Array.isArray;function $(){}var b={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function U(P,ne,ce){var he=ce.ref;return{$$typeof:n,type:P,key:ne,ref:he!==void 0?he:null,props:ce}}function N(P,ne){return U(P.type,ne,P.props)}function L(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function V(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ce){return ne[ce]})}var x=/\/+/g;function Ie(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):ne.toString(36)}function Je(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then($,$):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function q(P,ne,ce,he,_e){var Se=typeof P;(Se==="undefined"||Se==="boolean")&&(P=null);var ke=!1;if(P===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(P.$$typeof){case n:case e:ke=!0;break;case m:return ke=P._init,q(ke(P._payload),ne,ce,he,_e)}}if(ke)return _e=_e(P),ke=he===""?"."+Ie(P,0):he,re(_e)?(ce="",ke!=null&&(ce=ke.replace(x,"$&/")+"/"),q(_e,ne,ce,"",function(Kn){return Kn})):_e!=null&&(L(_e)&&(_e=N(_e,ce+(_e.key==null||P&&P.key===_e.key?"":(""+_e.key).replace(x,"$&/")+"/")+ke)),ne.push(_e)),1;ke=0;var Nt=he===""?".":he+":";if(re(P))for(var pt=0;pt<P.length;pt++)he=P[pt],Se=Nt+Ie(he,pt),ke+=q(he,ne,ce,Se,_e);else if(pt=T(P),typeof pt=="function")for(P=pt.call(P),pt=0;!(he=P.next()).done;)he=he.value,Se=Nt+Ie(he,pt++),ke+=q(he,ne,ce,Se,_e);else if(Se==="object"){if(typeof P.then=="function")return q(Je(P),ne,ce,he,_e);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ue(P,ne,ce){if(P==null)return P;var he=[],_e=0;return q(P,he,"","",function(Se){return ne.call(ce,Se,_e++)}),he}function we(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ce){(P._status===0||P._status===-1)&&(P._status=1,P._result=ce)},function(ce){(P._status===0||P._status===-1)&&(P._status=2,P._result=ce)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var De=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Oe={map:ue,forEach:function(P,ne,ce){ue(P,function(){ne.apply(this,arguments)},ce)},count:function(P){var ne=0;return ue(P,function(){ne++}),ne},toArray:function(P){return ue(P,function(ne){return ne})||[]},only:function(P){if(!L(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Pe.Activity=v,Pe.Children=Oe,Pe.Component=k,Pe.Fragment=t,Pe.Profiler=i,Pe.PureComponent=X,Pe.StrictMode=A,Pe.Suspense=f,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return b.H.useMemoCache(P)}},Pe.cache=function(P){return function(){return P.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(P,ne,ce){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=D({},P.props),_e=P.key;if(ne!=null)for(Se in ne.key!==void 0&&(_e=""+ne.key),ne)!R.call(ne,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ne.ref===void 0||(he[Se]=ne[Se]);var Se=arguments.length-2;if(Se===1)he.children=ce;else if(1<Se){for(var ke=Array(Se),Nt=0;Nt<Se;Nt++)ke[Nt]=arguments[Nt+2];he.children=ke}return U(P.type,_e,he)},Pe.createContext=function(P){return P={$$typeof:a,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Pe.createElement=function(P,ne,ce){var he,_e={},Se=null;if(ne!=null)for(he in ne.key!==void 0&&(Se=""+ne.key),ne)R.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=ne[he]);var ke=arguments.length-2;if(ke===1)_e.children=ce;else if(1<ke){for(var Nt=Array(ke),pt=0;pt<ke;pt++)Nt[pt]=arguments[pt+2];_e.children=Nt}if(P&&P.defaultProps)for(he in ke=P.defaultProps,ke)_e[he]===void 0&&(_e[he]=ke[he]);return U(P,Se,_e)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(P){return{$$typeof:u,render:P}},Pe.isValidElement=L,Pe.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:we}},Pe.memo=function(P,ne){return{$$typeof:d,type:P,compare:ne===void 0?null:ne}},Pe.startTransition=function(P){var ne=b.T,ce={};b.T=ce;try{var he=P(),_e=b.S;_e!==null&&_e(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then($,De)}catch(Se){De(Se)}finally{ne!==null&&ce.types!==null&&(ne.types=ce.types),b.T=ne}},Pe.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},Pe.use=function(P){return b.H.use(P)},Pe.useActionState=function(P,ne,ce){return b.H.useActionState(P,ne,ce)},Pe.useCallback=function(P,ne){return b.H.useCallback(P,ne)},Pe.useContext=function(P){return b.H.useContext(P)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(P,ne){return b.H.useDeferredValue(P,ne)},Pe.useEffect=function(P,ne){return b.H.useEffect(P,ne)},Pe.useEffectEvent=function(P){return b.H.useEffectEvent(P)},Pe.useId=function(){return b.H.useId()},Pe.useImperativeHandle=function(P,ne,ce){return b.H.useImperativeHandle(P,ne,ce)},Pe.useInsertionEffect=function(P,ne){return b.H.useInsertionEffect(P,ne)},Pe.useLayoutEffect=function(P,ne){return b.H.useLayoutEffect(P,ne)},Pe.useMemo=function(P,ne){return b.H.useMemo(P,ne)},Pe.useOptimistic=function(P,ne){return b.H.useOptimistic(P,ne)},Pe.useReducer=function(P,ne,ce){return b.H.useReducer(P,ne,ce)},Pe.useRef=function(P){return b.H.useRef(P)},Pe.useState=function(P){return b.H.useState(P)},Pe.useSyncExternalStore=function(P,ne,ce){return b.H.useSyncExternalStore(P,ne,ce)},Pe.useTransition=function(){return b.H.useTransition()},Pe.version="19.2.3",Pe}var eE;function h0(){return eE||(eE=1,fm.exports=$x()),fm.exports}var Me=h0();const Zx=IS(Me);var dm={exports:{}},Iu={},hm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function jx(){return tE||(tE=1,(function(n){function e(q,ue){var we=q.length;q.push(ue);e:for(;0<we;){var De=we-1>>>1,Oe=q[De];if(0<i(Oe,ue))q[De]=ue,q[we]=Oe,we=De;else break e}}function t(q){return q.length===0?null:q[0]}function A(q){if(q.length===0)return null;var ue=q[0],we=q.pop();if(we!==ue){q[0]=we;e:for(var De=0,Oe=q.length,P=Oe>>>1;De<P;){var ne=2*(De+1)-1,ce=q[ne],he=ne+1,_e=q[he];if(0>i(ce,we))he<Oe&&0>i(_e,ce)?(q[De]=_e,q[he]=we,De=he):(q[De]=ce,q[ne]=we,De=ne);else if(he<Oe&&0>i(_e,we))q[De]=_e,q[he]=we,De=he;else break e}}return ue}function i(q,ue){var we=q.sortIndex-ue.sortIndex;return we!==0?we:q.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var f=[],d=[],m=1,v=null,w=3,T=!1,Q=!1,D=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function te(q){for(var ue=t(d);ue!==null;){if(ue.callback===null)A(d);else if(ue.startTime<=q)A(d),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(d)}}function re(q){if(D=!1,te(q),!Q)if(t(f)!==null)Q=!0,$||($=!0,V());else{var ue=t(d);ue!==null&&Je(re,ue.startTime-q)}}var $=!1,b=-1,R=5,U=-1;function N(){return M?!0:!(n.unstable_now()-U<R)}function L(){if(M=!1,$){var q=n.unstable_now();U=q;var ue=!0;try{e:{Q=!1,D&&(D=!1,G(b),b=-1),T=!0;var we=w;try{t:{for(te(q),v=t(f);v!==null&&!(v.expirationTime>q&&N());){var De=v.callback;if(typeof De=="function"){v.callback=null,w=v.priorityLevel;var Oe=De(v.expirationTime<=q);if(q=n.unstable_now(),typeof Oe=="function"){v.callback=Oe,te(q),ue=!0;break t}v===t(f)&&A(f),te(q)}else A(f);v=t(f)}if(v!==null)ue=!0;else{var P=t(d);P!==null&&Je(re,P.startTime-q),ue=!1}}break e}finally{v=null,w=we,T=!1}ue=void 0}}finally{ue?V():$=!1}}}var V;if(typeof X=="function")V=function(){X(L)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ie=x.port2;x.port1.onmessage=L,V=function(){Ie.postMessage(null)}}else V=function(){k(L,0)};function Je(q,ue){b=k(function(){q(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(q){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var we=w;w=ue;try{return q()}finally{w=we}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(q,ue){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var we=w;w=q;try{return ue()}finally{w=we}},n.unstable_scheduleCallback=function(q,ue,we){var De=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?De+we:De):we=De,q){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=we+Oe,q={id:m++,callback:ue,priorityLevel:q,startTime:we,expirationTime:Oe,sortIndex:-1},we>De?(q.sortIndex=we,e(d,q),t(f)===null&&q===t(d)&&(D?(G(b),b=-1):D=!0,Je(re,we-De))):(q.sortIndex=Oe,e(f,q),Q||T||(Q=!0,$||($=!0,V()))),q},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(q){var ue=w;return function(){var we=w;w=ue;try{return q.apply(this,arguments)}finally{w=we}}}})(gm)),gm}var nE;function e1(){return nE||(nE=1,hm.exports=jx()),hm.exports}var pm={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function t1(){if(AE)return Dn;AE=1;var n=h0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var A={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:d,implementation:m}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Dn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Dn.flushSync=function(f){var d=a.T,m=A.p;try{if(a.T=null,A.p=2,f)return f()}finally{a.T=d,A.p=m,A.d.f()}},Dn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,A.d.C(f,d))},Dn.prefetchDNS=function(f){typeof f=="string"&&A.d.D(f)},Dn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,v=u(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?A.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:T}):m==="script"&&A.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Dn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);A.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&A.d.M(f)},Dn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=u(m,d.crossOrigin);A.d.L(f,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Dn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);A.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else A.d.m(f)},Dn.requestFormReset=function(f){A.d.r(f)},Dn.unstable_batchedUpdates=function(f,d){return f(d)},Dn.useFormState=function(f,d,m){return a.H.useFormState(f,d,m)},Dn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Dn.version="19.2.3",Dn}var rE;function n1(){if(rE)return pm.exports;rE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pm.exports=t1(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function A1(){if(iE)return Iu;iE=1;var n=e1(),e=h0(),t=n1();function A(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function a(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function u(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(A(188))}function d(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(A(188));return s!==r?null:r}for(var l=r,c=s;;){var y=l.return;if(y===null)break;var B=y.alternate;if(B===null){if(c=y.return,c!==null){l=c;continue}break}if(y.child===B.child){for(B=y.child;B;){if(B===l)return f(y),r;if(B===c)return f(y),s;B=B.sibling}throw Error(A(188))}if(l.return!==c.return)l=y,c=B;else{for(var E=!1,S=y.child;S;){if(S===l){E=!0,l=y,c=B;break}if(S===c){E=!0,c=y,l=B;break}S=S.sibling}if(!E){for(S=B.child;S;){if(S===l){E=!0,l=B,c=y;break}if(S===c){E=!0,c=B,l=y;break}S=S.sibling}if(!E)throw Error(A(189))}}if(l.alternate!==c)throw Error(A(190))}if(l.tag!==3)throw Error(A(188));return l.stateNode.current===l?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),X=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function Ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case re:return"Suspense";case $:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case Q:return"Portal";case X:return r.displayName||"Context";case G:return(r._context.displayName||"Context")+".Consumer";case te:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case b:return s=r.displayName||null,s!==null?s:Ie(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Ie(r(s))}catch{}}return null}var Je=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},De=[],Oe=-1;function P(r){return{current:r}}function ne(r){0>Oe||(r.current=De[Oe],De[Oe]=null,Oe--)}function ce(r,s){Oe++,De[Oe]=r.current,r.current=s}var he=P(null),_e=P(null),Se=P(null),ke=P(null);function Nt(r,s){switch(ce(Se,s),ce(_e,r),ce(he,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?vC(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=vC(s),r=wC(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ne(he),ce(he,r)}function pt(){ne(he),ne(_e),ne(Se)}function Kn(r){r.memoizedState!==null&&ce(ke,r);var s=he.current,l=wC(s,r.type);s!==l&&(ce(_e,r),ce(he,l))}function Er(r){_e.current===r&&(ne(he),ne(_e)),ke.current===r&&(ne(ke),wu._currentValue=we)}var _r,Wr;function Cn(r){if(_r===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);_r=s&&s[1]||"",Wr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_r+r+Wr}var Hi=!1;function Pi(r,s){if(!r||Hi)return"";Hi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(j){var W=j}Reflect.construct(r,[],se)}else{try{se.call()}catch(j){W=j}r.call(se.prototype)}}else{try{throw Error()}catch(j){W=j}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(j){if(j&&W&&typeof j.stack=="string")return[j.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=c.DetermineComponentFrameRoot(),E=B[0],S=B[1];if(E&&S){var H=E.split(`
`),Y=S.split(`
`);for(y=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;if(c===H.length||y===Y.length)for(c=H.length-1,y=Y.length-1;1<=c&&0<=y&&H[c]!==Y[y];)y--;for(;1<=c&&0<=y;c--,y--)if(H[c]!==Y[y]){if(c!==1||y!==1)do if(c--,y--,0>y||H[c]!==Y[y]){var Ae=`
`+H[c].replace(" at new "," at ");return r.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",r.displayName)),Ae}while(1<=c&&0<=y);break}}}finally{Hi=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Cn(l):""}function $r(r,s){switch(r.tag){case 26:case 27:case 5:return Cn(r.type);case 16:return Cn("Lazy");case 13:return r.child!==s&&s!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Pi(r.type,!1);case 11:return Pi(r.type.render,!1);case 1:return Pi(r.type,!0);case 31:return Cn("Activity");default:return""}}function Vi(r){try{var s="",l=null;do s+=$r(r,l),l=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Vt=Object.prototype.hasOwnProperty,Ot=n.unstable_scheduleCallback,fA=n.unstable_cancelCallback,Oi=n.unstable_shouldYield,$o=n.unstable_requestPaint,Ft=n.unstable_now,jn=n.unstable_getCurrentPriorityLevel,ki=n.unstable_ImmediatePriority,Zs=n.unstable_UserBlockingPriority,dn=n.unstable_NormalPriority,bl=n.unstable_LowPriority,js=n.unstable_IdlePriority,Zo=n.log,jo=n.unstable_setDisableYieldValue,eA=null,kt=null;function Gn(r){if(typeof Zo=="function"&&jo(r),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(eA,r)}catch{}}var Qt=Math.clz32?Math.clz32:ae,Ki=Math.log,UA=Math.LN2;function ae(r){return r>>>=0,r===0?32:31-(Ki(r)/UA|0)|0}var dA=256,Tr=262144,Kt=4194304;function FA(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function QA(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var y=0,B=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~B,c!==0?y=FA(c):(E&=S,E!==0?y=FA(E):l||(l=S&~r,l!==0&&(y=FA(l))))):(S=c&~B,S!==0?y=FA(S):E!==0?y=FA(E):l||(l=c&~r,l!==0&&(y=FA(l)))),y===0?0:s!==0&&s!==y&&(s&B)===0&&(B=y&-y,l=s&-s,B>=l||B===32&&(l&4194048)!==0)?s:y}function hA(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function xl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ea(){var r=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),r}function RA(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Zr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function eo(r,s,l,c,y,B){var E=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var S=r.entanglements,H=r.expirationTimes,Y=r.hiddenUpdates;for(l=E&~l;0<l;){var Ae=31-Qt(l),se=1<<Ae;S[Ae]=0,H[Ae]=-1;var W=Y[Ae];if(W!==null)for(Y[Ae]=null,Ae=0;Ae<W.length;Ae++){var j=W[Ae];j!==null&&(j.lane&=-536870913)}l&=~se}c!==0&&jr(r,c,0),B!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=B&~(E&~s))}function jr(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Qt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function to(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-Qt(l),y=1<<c;y&s|r[c]&s&&(r[c]|=s),l&=~y}}function no(r,s){var l=s&-s;return l=(l&42)!==0?1:ei(l),(l&(r.suspendedLanes|s))!==0?0:l}function ei(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ao(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:GC(r.type))}function gA(r,s){var l=ue.p;try{return ue.p=r,s()}finally{ue.p=l}}var En=Math.random().toString(36).slice(2),Rt="__reactFiber$"+En,Gt="__reactProps$"+En,bA="__reactContainer$"+En,Gi="__reactEvents$"+En,Nl="__reactListeners$"+En,ta="__reactHandles$"+En,na="__reactResources$"+En,xA="__reactMarker$"+En;function ti(r){delete r[Rt],delete r[Gt],delete r[Gi],delete r[Nl],delete r[ta]}function NA(r){var s=r[Rt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[bA]||l[Rt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=UC(r);r!==null;){if(l=r[Rt])return l;r=UC(r)}return s}r=l,l=r.parentNode}return null}function tA(r){if(r=r[Rt]||r[bA]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function zn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(A(33))}function pA(r){var s=r[na];return s||(s=r[na]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(r){r[xA]=!0}var ee=new Set,pe={};function de(r,s){Ee(r,s),Ee(r+"Capture",s)}function Ee(r,s){for(pe[r]=s,r=0;r<s.length;r++)ee.add(s[r])}var Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ze={},mn={};function nA(r){return Vt.call(mn,r)?!0:Vt.call(ze,r)?!1:Qe.test(r)?mn[r]=!0:(ze[r]=!0,!1)}function zt(r,s,l){if(nA(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function rt(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function _t(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}function Xt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Tt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function at(r,s,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,B=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(E){l=""+E,B.call(this,E)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function lt(r){if(!r._valueTracker){var s=Tt(r)?"checked":"value";r._valueTracker=at(r,s,""+r[s])}}function mA(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=Tt(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function DA(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ir=/[\n"\\]/g;function Nn(r){return r.replace(Ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ni(r,s,l,c,y,B,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Xt(s)):r.value!==""+Xt(s)&&(r.value=""+Xt(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?ro(r,E,Xt(s)):l!=null?ro(r,E,Xt(l)):c!=null&&r.removeAttribute("value"),y==null&&B!=null&&(r.defaultChecked=!!B),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Xt(S):r.removeAttribute("name")}function Aa(r,s,l,c,y,B,E,S){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(r.type=B),s!=null||l!=null){if(!(B!=="submit"&&B!=="reset"||s!=null)){lt(r);return}l=l!=null?""+Xt(l):"",s=s!=null?""+Xt(s):l,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),lt(r)}function ro(r,s,l){s==="number"&&DA(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function MA(r,s,l,c){if(r=r.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=s.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Xt(l),s=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,c&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Rc(r,s,l){if(s!=null&&(s=""+Xt(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+Xt(l):""}function qi(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(A(92));if(Je(c)){if(1<c.length)throw Error(A(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Xt(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),lt(r)}function AA(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||bc.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Ml(r,s,l){if(s!=null&&typeof s!="object")throw Error(A(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var y in s)c=s[y],s.hasOwnProperty(y)&&l[y]!==c&&Dl(r,y,c)}else for(var B in s)s.hasOwnProperty(B)&&Dl(r,B,s[B])}function ra(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(r){return zi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ar(){}var Ll=null;function LA(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ji=null,Sr=null;function io(r){var s=tA(r);if(s&&(r=s.stateNode)){var l=r[Gt]||null;e:switch(r=s.stateNode,s.type){case"input":if(ni(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var y=c[Gt]||null;if(!y)throw Error(A(90));ni(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&mA(c)}break e;case"textarea":Rc(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&MA(r,!!l.multiple,s,!1)}}}var sa=!1;function Yi(r,s,l){if(sa)return r(s,l);sa=!0;try{var c=r(s);return c}finally{if(sa=!1,(Ji!==null||Sr!==null)&&(Sf(),Ji&&(s=Ji,r=Sr,Sr=Ji=null,io(s),r)))for(s=0;s<r.length;s++)io(r[s])}}function rr(r,s){var l=r.stateNode;if(l===null)return null;var c=l[Gt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(A(231,s,typeof l));return l}var HA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=!1;if(HA)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){so=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{so=!1}var Ur=null,Hl=null,oo=null;function Pl(){if(oo)return oo;var r,s=Hl,l=s.length,c,y="value"in Ur?Ur.value:Ur.textContent,B=y.length;for(r=0;r<l&&s[r]===y[r];r++);var E=l-r;for(c=1;c<=E&&s[l-c]===y[B-c];c++);return oo=y.slice(r,1<c?1-c:void 0)}function ao(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ai(){return!0}function ir(){return!1}function _n(r){function s(l,c,y,B,E){this._reactName=l,this._targetInst=y,this.type=c,this.nativeEvent=B,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(l=r[S],this[S]=l?l(B):B[S]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Ai:ir,this.isPropagationStopped=ir,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),s}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=_n(ri),Xi=v({},ri,{view:0,detail:0}),Vl=_n(Xi),Wi,oa,Qr,aa=v({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Qr&&(Qr&&r.type==="mousemove"?(Wi=r.screenX-Qr.screenX,oa=r.screenY-Qr.screenY):oa=Wi=0,Qr=r),Wi)},movementY:function(r){return"movementY"in r?r.movementY:oa}}),Ol=_n(aa),lo=v({},aa,{dataTransfer:0}),Nc=_n(lo),Dc=v({},Xi,{relatedTarget:0}),uo=_n(Dc),kl=v({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=_n(kl),la=v({},ri,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Lc=_n(la),Hc=v({},ri,{data:0}),Rr=_n(Hc),Pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Oc[r])?!!s[r]:!1}function $i(){return kc}var Jn=v({},Xi,{key:function(r){if(r.key){var s=Pc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ao(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Vc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(r){return r.type==="keypress"?ao(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ao(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Kc=_n(Jn),Gc=v({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ii=_n(Gc),p=v({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),C=_n(p),_=v({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=_n(_),z=v({},aa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=_n(z),fe=v({},ri,{newState:0,oldState:0}),Ke=_n(fe),Wt=[9,13,27,32],ut=HA&&"CompositionEvent"in window,Dt=null;HA&&"documentMode"in document&&(Dt=document.documentMode);var PA=HA&&"TextEvent"in window&&!Dt,br=HA&&(!ut||Dt&&8<Dt&&11>=Dt),sr=" ",or=!1;function co(r,s){switch(r){case"keyup":return Wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ca=!1;function Bb(r,s){switch(r){case"compositionend":return ua(s);case"keypress":return s.which!==32?null:(or=!0,sr);case"textInput":return r=s.data,r===sr&&or?null:r;default:return null}}function vb(r,s){if(ca)return r==="compositionend"||!ut&&co(r,s)?(r=Pl(),oo=Hl=Ur=null,ca=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return br&&s.locale!=="ko"?null:s.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RB(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!wb[r.type]:s==="textarea"}function bB(r,s,l,c){Ji?Sr?Sr.push(c):Sr=[c]:Ji=c,s=Nf(s,"onChange"),0<s.length&&(l=new Fr("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var Kl=null,Gl=null;function Cb(r){hC(r,0)}function qc(r){var s=zn(r);if(mA(s))return r}function xB(r,s){if(r==="change")return s}var NB=!1;if(HA){var yg;if(HA){var Bg="oninput"in document;if(!Bg){var DB=document.createElement("div");DB.setAttribute("oninput","return;"),Bg=typeof DB.oninput=="function"}yg=Bg}else yg=!1;NB=yg&&(!document.documentMode||9<document.documentMode)}function MB(){Kl&&(Kl.detachEvent("onpropertychange",LB),Gl=Kl=null)}function LB(r){if(r.propertyName==="value"&&qc(Gl)){var s=[];bB(s,Gl,r,LA(r)),Yi(Cb,s)}}function Eb(r,s,l){r==="focusin"?(MB(),Kl=s,Gl=l,Kl.attachEvent("onpropertychange",LB)):r==="focusout"&&MB()}function _b(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qc(Gl)}function Tb(r,s){if(r==="click")return qc(s)}function Ib(r,s){if(r==="input"||r==="change")return qc(s)}function Sb(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var yA=typeof Object.is=="function"?Object.is:Sb;function ql(r,s){if(yA(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var y=l[c];if(!Vt.call(s,y)||!yA(r[y],s[y]))return!1}return!0}function HB(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function PB(r,s){var l=HB(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=HB(l)}}function VB(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?VB(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function OB(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=DA(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=DA(r.document)}return s}function vg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Ub=HA&&"documentMode"in document&&11>=document.documentMode,fa=null,wg=null,zl=null,Cg=!1;function kB(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cg||fa==null||fa!==DA(c)||(c=fa,"selectionStart"in c&&vg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zl&&ql(zl,c)||(zl=c,c=Nf(wg,"onSelect"),0<c.length&&(s=new Fr("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=fa)))}function fo(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var da={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},Eg={},KB={};HA&&(KB=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function ho(r){if(Eg[r])return Eg[r];if(!da[r])return r;var s=da[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in KB)return Eg[r]=s[l];return r}var GB=ho("animationend"),qB=ho("animationiteration"),zB=ho("animationstart"),Fb=ho("transitionrun"),Qb=ho("transitionstart"),Rb=ho("transitioncancel"),JB=ho("transitionend"),YB=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_g.push("scrollEnd");function ar(r,s){YB.set(r,s),de(s,[r])}var zc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},VA=[],ha=0,Tg=0;function Jc(){for(var r=ha,s=Tg=ha=0;s<r;){var l=VA[s];VA[s++]=null;var c=VA[s];VA[s++]=null;var y=VA[s];VA[s++]=null;var B=VA[s];if(VA[s++]=null,c!==null&&y!==null){var E=c.pending;E===null?y.next=y:(y.next=E.next,E.next=y),c.pending=y}B!==0&&XB(l,y,B)}}function Yc(r,s,l,c){VA[ha++]=r,VA[ha++]=s,VA[ha++]=l,VA[ha++]=c,Tg|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ig(r,s,l,c){return Yc(r,s,l,c),Xc(r)}function go(r,s){return Yc(r,null,null,s),Xc(r)}function XB(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var y=!1,B=r.return;B!==null;)B.childLanes|=l,c=B.alternate,c!==null&&(c.childLanes|=l),B.tag===22&&(r=B.stateNode,r===null||r._visibility&1||(y=!0)),r=B,B=B.return;return r.tag===3?(B=r.stateNode,y&&s!==null&&(y=31-Qt(l),r=B.hiddenUpdates,c=r[y],c===null?r[y]=[s]:c.push(s),s.lane=l|536870912),B):null}function Xc(r){if(50<hu)throw hu=0,Dp=null,Error(A(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ga={};function bb(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function BA(r,s,l,c){return new bb(r,s,l,c)}function Sg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function si(r,s){var l=r.alternate;return l===null?(l=BA(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function WB(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Wc(r,s,l,c,y,B){var E=0;if(c=r,typeof r=="function")Sg(r)&&(E=1);else if(typeof r=="string")E=Lx(r,l,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=BA(31,l,s,y),r.elementType=U,r.lanes=B,r;case D:return po(l.children,y,B,s);case M:E=8,y|=24;break;case k:return r=BA(12,l,s,y|2),r.elementType=k,r.lanes=B,r;case re:return r=BA(13,l,s,y),r.elementType=re,r.lanes=B,r;case $:return r=BA(19,l,s,y),r.elementType=$,r.lanes=B,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:E=10;break e;case G:E=9;break e;case te:E=11;break e;case b:E=14;break e;case R:E=16,c=null;break e}E=29,l=Error(A(130,r===null?"null":typeof r,"")),c=null}return s=BA(E,l,s,y),s.elementType=r,s.type=c,s.lanes=B,s}function po(r,s,l,c){return r=BA(7,r,c,s),r.lanes=l,r}function Ug(r,s,l){return r=BA(6,r,null,s),r.lanes=l,r}function $B(r){var s=BA(18,null,null,0);return s.stateNode=r,s}function Fg(r,s,l){return s=BA(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ZB=new WeakMap;function OA(r,s){if(typeof r=="object"&&r!==null){var l=ZB.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Vi(s)},ZB.set(r,s),s)}return{value:r,source:s,stack:Vi(s)}}var pa=[],ma=0,$c=null,Jl=0,kA=[],KA=0,Zi=null,xr=1,Nr="";function oi(r,s){pa[ma++]=Jl,pa[ma++]=$c,$c=r,Jl=s}function jB(r,s,l){kA[KA++]=xr,kA[KA++]=Nr,kA[KA++]=Zi,Zi=r;var c=xr;r=Nr;var y=32-Qt(c)-1;c&=~(1<<y),l+=1;var B=32-Qt(s)+y;if(30<B){var E=y-y%5;B=(c&(1<<E)-1).toString(32),c>>=E,y-=E,xr=1<<32-Qt(s)+y|l<<y|c,Nr=B+r}else xr=1<<B|l<<y|c,Nr=r}function Qg(r){r.return!==null&&(oi(r,1),jB(r,1,0))}function Rg(r){for(;r===$c;)$c=pa[--ma],pa[ma]=null,Jl=pa[--ma],pa[ma]=null;for(;r===Zi;)Zi=kA[--KA],kA[KA]=null,Nr=kA[--KA],kA[KA]=null,xr=kA[--KA],kA[KA]=null}function ev(r,s){kA[KA++]=xr,kA[KA++]=Nr,kA[KA++]=Zi,xr=s.id,Nr=s.overflow,Zi=r}var Tn=null,bt=null,nt=!1,ji=null,GA=!1,bg=Error(A(519));function es(r){var s=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(OA(s,r)),bg}function tv(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[Rt]=r,s[Gt]=c,l){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(l=0;l<pu.length;l++)Xe(pu[l],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),Aa(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),qi(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||yC(s.textContent,l)?(c.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),c.onScroll!=null&&Xe("scroll",s),c.onScrollEnd!=null&&Xe("scrollend",s),c.onClick!=null&&(s.onclick=Ar),s=!0):s=!1,s||es(r,!0)}function nv(r){for(Tn=r.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:GA=!1;return;case 27:case 3:GA=!0;return;default:Tn=Tn.return}}function ya(r){if(r!==Tn)return!1;if(!nt)return nv(r),nt=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Wp(r.type,r.memoizedProps)),l=!l),l&&bt&&es(r),nv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(317));bt=SC(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(317));bt=SC(r)}else s===27?(s=bt,hs(r.type)?(r=tm,tm=null,bt=r):bt=s):bt=Tn?zA(r.stateNode.nextSibling):null;return!0}function mo(){bt=Tn=null,nt=!1}function xg(){var r=ji;return r!==null&&(oA===null?oA=r:oA.push.apply(oA,r),ji=null),r}function Yl(r){ji===null?ji=[r]:ji.push(r)}var Ng=P(null),yo=null,ai=null;function ts(r,s,l){ce(Ng,s._currentValue),s._currentValue=l}function li(r){r._currentValue=Ng.current,ne(Ng)}function Dg(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Mg(r,s,l,c){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var B=y.dependencies;if(B!==null){var E=y.child;B=B.firstContext;e:for(;B!==null;){var S=B;B=y;for(var H=0;H<s.length;H++)if(S.context===s[H]){B.lanes|=l,S=B.alternate,S!==null&&(S.lanes|=l),Dg(B.return,l,r),c||(E=null);break e}B=S.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(A(341));E.lanes|=l,B=E.alternate,B!==null&&(B.lanes|=l),Dg(E,l,r),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===r){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Ba(r,s,l,c){r=null;for(var y=s,B=!1;y!==null;){if(!B){if((y.flags&524288)!==0)B=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(A(387));if(E=E.memoizedProps,E!==null){var S=y.type;yA(y.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(y===ke.current){if(E=y.alternate,E===null)throw Error(A(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(wu):r=[wu])}y=y.return}r!==null&&Mg(s,r,l,c),s.flags|=262144}function Zc(r){for(r=r.firstContext;r!==null;){if(!yA(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bo(r){yo=r,ai=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function In(r){return Av(yo,r)}function jc(r,s){return yo===null&&Bo(r),Av(r,s)}function Av(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ai===null){if(r===null)throw Error(A(308));ai=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ai=ai.next=s;return l}var xb=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},Nb=n.unstable_scheduleCallback,Db=n.unstable_NormalPriority,rn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lg(){return{controller:new xb,data:new Map,refCount:0}}function Xl(r){r.refCount--,r.refCount===0&&Nb(Db,function(){r.controller.abort()})}var Wl=null,Hg=0,va=0,wa=null;function Mb(r,s){if(Wl===null){var l=Wl=[];Hg=0,va=Op(),wa={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Hg++,s.then(rv,rv),s}function rv(){if(--Hg===0&&Wl!==null){wa!==null&&(wa.status="fulfilled");var r=Wl;Wl=null,va=0,wa=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Lb(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(c.status="rejected",c.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),c}var iv=q.S;q.S=function(r,s){kw=Ft(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Mb(r,s),iv!==null&&iv(r,s)};var vo=P(null);function Pg(){var r=vo.current;return r!==null?r:Ct.pooledCache}function ef(r,s){s===null?ce(vo,vo.current):ce(vo,s.pool)}function sv(){var r=Pg();return r===null?null:{parent:rn._currentValue,pool:r}}var Ca=Error(A(460)),Vg=Error(A(474)),tf=Error(A(542)),nf={then:function(){}};function ov(r){return r=r.status,r==="fulfilled"||r==="rejected"}function av(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Ar,Ar),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,uv(r),r;default:if(typeof s.status=="string")s.then(Ar,Ar);else{if(r=Ct,r!==null&&100<r.shellSuspendCounter)throw Error(A(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=c}},function(c){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,uv(r),r}throw Co=s,Ca}}function wo(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Co=l,Ca):l}}var Co=null;function lv(){if(Co===null)throw Error(A(459));var r=Co;return Co=null,r}function uv(r){if(r===Ca||r===tf)throw Error(A(483))}var Ea=null,$l=0;function Af(r){var s=$l;return $l+=1,Ea===null&&(Ea=[]),av(Ea,r,s)}function Zl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function rf(r,s){throw s.$$typeof===w?Error(A(525)):(r=Object.prototype.toString.call(s),Error(A(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function cv(r){function s(K,O){if(r){var J=K.deletions;J===null?(K.deletions=[O],K.flags|=16):J.push(O)}}function l(K,O){if(!r)return null;for(;O!==null;)s(K,O),O=O.sibling;return null}function c(K){for(var O=new Map;K!==null;)K.key!==null?O.set(K.key,K):O.set(K.index,K),K=K.sibling;return O}function y(K,O){return K=si(K,O),K.index=0,K.sibling=null,K}function B(K,O,J){return K.index=J,r?(J=K.alternate,J!==null?(J=J.index,J<O?(K.flags|=67108866,O):J):(K.flags|=67108866,O)):(K.flags|=1048576,O)}function E(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function S(K,O,J,ie){return O===null||O.tag!==6?(O=Ug(J,K.mode,ie),O.return=K,O):(O=y(O,J),O.return=K,O)}function H(K,O,J,ie){var Ue=J.type;return Ue===D?Ae(K,O,J.props.children,ie,J.key):O!==null&&(O.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===R&&wo(Ue)===O.type)?(O=y(O,J.props),Zl(O,J),O.return=K,O):(O=Wc(J.type,J.key,J.props,null,K.mode,ie),Zl(O,J),O.return=K,O)}function Y(K,O,J,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==J.containerInfo||O.stateNode.implementation!==J.implementation?(O=Fg(J,K.mode,ie),O.return=K,O):(O=y(O,J.children||[]),O.return=K,O)}function Ae(K,O,J,ie,Ue){return O===null||O.tag!==7?(O=po(J,K.mode,ie,Ue),O.return=K,O):(O=y(O,J),O.return=K,O)}function se(K,O,J){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ug(""+O,K.mode,J),O.return=K,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return J=Wc(O.type,O.key,O.props,null,K.mode,J),Zl(J,O),J.return=K,J;case Q:return O=Fg(O,K.mode,J),O.return=K,O;case R:return O=wo(O),se(K,O,J)}if(Je(O)||V(O))return O=po(O,K.mode,J,null),O.return=K,O;if(typeof O.then=="function")return se(K,Af(O),J);if(O.$$typeof===X)return se(K,jc(K,O),J);rf(K,O)}return null}function W(K,O,J,ie){var Ue=O!==null?O.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ue!==null?null:S(K,O,""+J,ie);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case T:return J.key===Ue?H(K,O,J,ie):null;case Q:return J.key===Ue?Y(K,O,J,ie):null;case R:return J=wo(J),W(K,O,J,ie)}if(Je(J)||V(J))return Ue!==null?null:Ae(K,O,J,ie,null);if(typeof J.then=="function")return W(K,O,Af(J),ie);if(J.$$typeof===X)return W(K,O,jc(K,J),ie);rf(K,J)}return null}function j(K,O,J,ie,Ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return K=K.get(J)||null,S(O,K,""+ie,Ue);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return K=K.get(ie.key===null?J:ie.key)||null,H(O,K,ie,Ue);case Q:return K=K.get(ie.key===null?J:ie.key)||null,Y(O,K,ie,Ue);case R:return ie=wo(ie),j(K,O,J,ie,Ue)}if(Je(ie)||V(ie))return K=K.get(J)||null,Ae(O,K,ie,Ue,null);if(typeof ie.then=="function")return j(K,O,J,Af(ie),Ue);if(ie.$$typeof===X)return j(K,O,J,jc(O,ie),Ue);rf(O,ie)}return null}function Ce(K,O,J,ie){for(var Ue=null,it=null,Te=O,qe=O=0,$e=null;Te!==null&&qe<J.length;qe++){Te.index>qe?($e=Te,Te=null):$e=Te.sibling;var st=W(K,Te,J[qe],ie);if(st===null){Te===null&&(Te=$e);break}r&&Te&&st.alternate===null&&s(K,Te),O=B(st,O,qe),it===null?Ue=st:it.sibling=st,it=st,Te=$e}if(qe===J.length)return l(K,Te),nt&&oi(K,qe),Ue;if(Te===null){for(;qe<J.length;qe++)Te=se(K,J[qe],ie),Te!==null&&(O=B(Te,O,qe),it===null?Ue=Te:it.sibling=Te,it=Te);return nt&&oi(K,qe),Ue}for(Te=c(Te);qe<J.length;qe++)$e=j(Te,K,qe,J[qe],ie),$e!==null&&(r&&$e.alternate!==null&&Te.delete($e.key===null?qe:$e.key),O=B($e,O,qe),it===null?Ue=$e:it.sibling=$e,it=$e);return r&&Te.forEach(function(Bs){return s(K,Bs)}),nt&&oi(K,qe),Ue}function be(K,O,J,ie){if(J==null)throw Error(A(151));for(var Ue=null,it=null,Te=O,qe=O=0,$e=null,st=J.next();Te!==null&&!st.done;qe++,st=J.next()){Te.index>qe?($e=Te,Te=null):$e=Te.sibling;var Bs=W(K,Te,st.value,ie);if(Bs===null){Te===null&&(Te=$e);break}r&&Te&&Bs.alternate===null&&s(K,Te),O=B(Bs,O,qe),it===null?Ue=Bs:it.sibling=Bs,it=Bs,Te=$e}if(st.done)return l(K,Te),nt&&oi(K,qe),Ue;if(Te===null){for(;!st.done;qe++,st=J.next())st=se(K,st.value,ie),st!==null&&(O=B(st,O,qe),it===null?Ue=st:it.sibling=st,it=st);return nt&&oi(K,qe),Ue}for(Te=c(Te);!st.done;qe++,st=J.next())st=j(Te,K,qe,st.value,ie),st!==null&&(r&&st.alternate!==null&&Te.delete(st.key===null?qe:st.key),O=B(st,O,qe),it===null?Ue=st:it.sibling=st,it=st);return r&&Te.forEach(function(Yx){return s(K,Yx)}),nt&&oi(K,qe),Ue}function vt(K,O,J,ie){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case T:e:{for(var Ue=J.key;O!==null;){if(O.key===Ue){if(Ue=J.type,Ue===D){if(O.tag===7){l(K,O.sibling),ie=y(O,J.props.children),ie.return=K,K=ie;break e}}else if(O.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===R&&wo(Ue)===O.type){l(K,O.sibling),ie=y(O,J.props),Zl(ie,J),ie.return=K,K=ie;break e}l(K,O);break}else s(K,O);O=O.sibling}J.type===D?(ie=po(J.props.children,K.mode,ie,J.key),ie.return=K,K=ie):(ie=Wc(J.type,J.key,J.props,null,K.mode,ie),Zl(ie,J),ie.return=K,K=ie)}return E(K);case Q:e:{for(Ue=J.key;O!==null;){if(O.key===Ue)if(O.tag===4&&O.stateNode.containerInfo===J.containerInfo&&O.stateNode.implementation===J.implementation){l(K,O.sibling),ie=y(O,J.children||[]),ie.return=K,K=ie;break e}else{l(K,O);break}else s(K,O);O=O.sibling}ie=Fg(J,K.mode,ie),ie.return=K,K=ie}return E(K);case R:return J=wo(J),vt(K,O,J,ie)}if(Je(J))return Ce(K,O,J,ie);if(V(J)){if(Ue=V(J),typeof Ue!="function")throw Error(A(150));return J=Ue.call(J),be(K,O,J,ie)}if(typeof J.then=="function")return vt(K,O,Af(J),ie);if(J.$$typeof===X)return vt(K,O,jc(K,J),ie);rf(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,O!==null&&O.tag===6?(l(K,O.sibling),ie=y(O,J),ie.return=K,K=ie):(l(K,O),ie=Ug(J,K.mode,ie),ie.return=K,K=ie),E(K)):l(K,O)}return function(K,O,J,ie){try{$l=0;var Ue=vt(K,O,J,ie);return Ea=null,Ue}catch(Te){if(Te===Ca||Te===tf)throw Te;var it=BA(29,Te,null,K.mode);return it.lanes=ie,it.return=K,it}finally{}}}var Eo=cv(!0),fv=cv(!1),ns=!1;function Og(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function As(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function rs(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var y=c.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),c.pending=s,s=Xc(r),XB(r,null,l),s}return Yc(r,c,s,l),Xc(r)}function jl(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,to(r,l)}}function Kg(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var y=null,B=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};B===null?y=B=E:B=B.next=E,l=l.next}while(l!==null);B===null?y=B=s:B=B.next=s}else y=B=s;l={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:B,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Gg=!1;function eu(){if(Gg){var r=wa;if(r!==null)throw r}}function tu(r,s,l,c){Gg=!1;var y=r.updateQueue;ns=!1;var B=y.firstBaseUpdate,E=y.lastBaseUpdate,S=y.shared.pending;if(S!==null){y.shared.pending=null;var H=S,Y=H.next;H.next=null,E===null?B=Y:E.next=Y,E=H;var Ae=r.alternate;Ae!==null&&(Ae=Ae.updateQueue,S=Ae.lastBaseUpdate,S!==E&&(S===null?Ae.firstBaseUpdate=Y:S.next=Y,Ae.lastBaseUpdate=H))}if(B!==null){var se=y.baseState;E=0,Ae=Y=H=null,S=B;do{var W=S.lane&-536870913,j=W!==S.lane;if(j?(We&W)===W:(c&W)===W){W!==0&&W===va&&(Gg=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ce=r,be=S;W=s;var vt=l;switch(be.tag){case 1:if(Ce=be.payload,typeof Ce=="function"){se=Ce.call(vt,se,W);break e}se=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=be.payload,W=typeof Ce=="function"?Ce.call(vt,se,W):Ce,W==null)break e;se=v({},se,W);break e;case 2:ns=!0}}W=S.callback,W!==null&&(r.flags|=64,j&&(r.flags|=8192),j=y.callbacks,j===null?y.callbacks=[W]:j.push(W))}else j={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Ae===null?(Y=Ae=j,H=se):Ae=Ae.next=j,E|=W;if(S=S.next,S===null){if(S=y.shared.pending,S===null)break;j=S,S=j.next,j.next=null,y.lastBaseUpdate=j,y.shared.pending=null}}while(!0);Ae===null&&(H=se),y.baseState=H,y.firstBaseUpdate=Y,y.lastBaseUpdate=Ae,B===null&&(y.shared.lanes=0),ls|=E,r.lanes=E,r.memoizedState=se}}function dv(r,s){if(typeof r!="function")throw Error(A(191,r));r.call(s)}function hv(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)dv(l[r],s)}var _a=P(null),sf=P(0);function gv(r,s){r=yi,ce(sf,r),ce(_a,s),yi=r|s.baseLanes}function qg(){ce(sf,yi),ce(_a,_a.current)}function zg(){yi=sf.current,ne(_a),ne(sf)}var vA=P(null),qA=null;function is(r){var s=r.alternate;ce($t,$t.current&1),ce(vA,r),qA===null&&(s===null||_a.current!==null||s.memoizedState!==null)&&(qA=r)}function Jg(r){ce($t,$t.current),ce(vA,r),qA===null&&(qA=r)}function pv(r){r.tag===22?(ce($t,$t.current),ce(vA,r),qA===null&&(qA=r)):ss()}function ss(){ce($t,$t.current),ce(vA,vA.current)}function wA(r){ne(vA),qA===r&&(qA=null),ne($t)}var $t=P(0);function of(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jp(l)||em(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ui=0,Ge=null,yt=null,sn=null,af=!1,Ta=!1,_o=!1,lf=0,nu=0,Ia=null,Hb=0;function Jt(){throw Error(A(321))}function Yg(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!yA(r[l],s[l]))return!1;return!0}function Xg(r,s,l,c,y,B){return ui=B,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=r===null||r.memoizedState===null?jv:up,_o=!1,B=l(c,y),_o=!1,Ta&&(B=yv(s,l,c,y)),mv(r),B}function mv(r){q.H=iu;var s=yt!==null&&yt.next!==null;if(ui=0,sn=yt=Ge=null,af=!1,nu=0,Ia=null,s)throw Error(A(300));r===null||on||(r=r.dependencies,r!==null&&Zc(r)&&(on=!0))}function yv(r,s,l,c){Ge=r;var y=0;do{if(Ta&&(Ia=null),nu=0,Ta=!1,25<=y)throw Error(A(301));if(y+=1,sn=yt=null,r.updateQueue!=null){var B=r.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}q.H=ew,B=s(l,c)}while(Ta);return B}function Pb(){var r=q.H,s=r.useState()[0];return s=typeof s.then=="function"?Au(s):s,r=r.useState()[0],(yt!==null?yt.memoizedState:null)!==r&&(Ge.flags|=1024),s}function Wg(){var r=lf!==0;return lf=0,r}function $g(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function Zg(r){if(af){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}af=!1}ui=0,sn=yt=Ge=null,Ta=!1,nu=lf=0,Ia=null}function Yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Ge.memoizedState=sn=r:sn=sn.next=r,sn}function Zt(){if(yt===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=sn===null?Ge.memoizedState:sn.next;if(s!==null)sn=s,yt=r;else{if(r===null)throw Ge.alternate===null?Error(A(467)):Error(A(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},sn===null?Ge.memoizedState=sn=r:sn=sn.next=r}return sn}function uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(r){var s=nu;return nu+=1,Ia===null&&(Ia=[]),r=av(Ia,r,s),s=Ge,(sn===null?s.memoizedState:sn.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?jv:up),r}function cf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Au(r);if(r.$$typeof===X)return In(r)}throw Error(A(438,String(r)))}function jg(r){var s=null,l=Ge.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=uf(),Ge.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=N;return s.index++,l}function ci(r,s){return typeof s=="function"?s(r):s}function ff(r){var s=Zt();return ep(s,yt,r)}function ep(r,s,l){var c=r.queue;if(c===null)throw Error(A(311));c.lastRenderedReducer=l;var y=r.baseQueue,B=c.pending;if(B!==null){if(y!==null){var E=y.next;y.next=B.next,B.next=E}s.baseQueue=y=B,c.pending=null}if(B=r.baseState,y===null)r.memoizedState=B;else{s=y.next;var S=E=null,H=null,Y=s,Ae=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(We&se)===se:(ui&se)===se){var W=Y.revertLane;if(W===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===va&&(Ae=!0);else if((ui&W)===W){Y=Y.next,W===va&&(Ae=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},H===null?(S=H=se,E=B):H=H.next=se,Ge.lanes|=W,ls|=W;se=Y.action,_o&&l(B,se),B=Y.hasEagerState?Y.eagerState:l(B,se)}else W={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},H===null?(S=H=W,E=B):H=H.next=W,Ge.lanes|=se,ls|=se;Y=Y.next}while(Y!==null&&Y!==s);if(H===null?E=B:H.next=S,!yA(B,r.memoizedState)&&(on=!0,Ae&&(l=wa,l!==null)))throw l;r.memoizedState=B,r.baseState=E,r.baseQueue=H,c.lastRenderedState=B}return y===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function tp(r){var s=Zt(),l=s.queue;if(l===null)throw Error(A(311));l.lastRenderedReducer=r;var c=l.dispatch,y=l.pending,B=s.memoizedState;if(y!==null){l.pending=null;var E=y=y.next;do B=r(B,E.action),E=E.next;while(E!==y);yA(B,s.memoizedState)||(on=!0),s.memoizedState=B,s.baseQueue===null&&(s.baseState=B),l.lastRenderedState=B}return[B,c]}function Bv(r,s,l){var c=Ge,y=Zt(),B=nt;if(B){if(l===void 0)throw Error(A(407));l=l()}else l=s();var E=!yA((yt||y).memoizedState,l);if(E&&(y.memoizedState=l,on=!0),y=y.queue,rp(Cv.bind(null,c,y,r),[r]),y.getSnapshot!==s||E||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,Sa(9,{destroy:void 0},wv.bind(null,c,y,l,s),null),Ct===null)throw Error(A(349));B||(ui&127)!==0||vv(c,s,l)}return l}function vv(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ge.updateQueue,s===null?(s=uf(),Ge.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function wv(r,s,l,c){s.value=l,s.getSnapshot=c,Ev(s)&&_v(r)}function Cv(r,s,l){return l(function(){Ev(s)&&_v(r)})}function Ev(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!yA(r,l)}catch{return!0}}function _v(r){var s=go(r,2);s!==null&&aA(s,r,2)}function np(r){var s=Yn();if(typeof r=="function"){var l=r;if(r=l(),_o){Gn(!0);try{l()}finally{Gn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:r},s}function Tv(r,s,l,c){return r.baseState=l,ep(r,yt,typeof c=="function"?c:ci)}function Vb(r,s,l,c,y){if(gf(r))throw Error(A(485));if(r=s.action,r!==null){var B={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){B.listeners.push(E)}};q.T!==null?l(!0):B.isTransition=!1,c(B),l=s.pending,l===null?(B.next=s.pending=B,Iv(s,B)):(B.next=l.next,s.pending=l.next=B)}}function Iv(r,s){var l=s.action,c=s.payload,y=r.state;if(s.isTransition){var B=q.T,E={};q.T=E;try{var S=l(y,c),H=q.S;H!==null&&H(E,S),Sv(r,s,S)}catch(Y){Ap(r,s,Y)}finally{B!==null&&E.types!==null&&(B.types=E.types),q.T=B}}else try{B=l(y,c),Sv(r,s,B)}catch(Y){Ap(r,s,Y)}}function Sv(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Uv(r,s,c)},function(c){return Ap(r,s,c)}):Uv(r,s,l)}function Uv(r,s,l){s.status="fulfilled",s.value=l,Fv(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,Iv(r,l)))}function Ap(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Fv(s),s=s.next;while(s!==c)}r.action=null}function Fv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Qv(r,s){return s}function Rv(r,s){if(nt){var l=Ct.formState;if(l!==null){e:{var c=Ge;if(nt){if(bt){t:{for(var y=bt,B=GA;y.nodeType!==8;){if(!B){y=null;break t}if(y=zA(y.nextSibling),y===null){y=null;break t}}B=y.data,y=B==="F!"||B==="F"?y:null}if(y){bt=zA(y.nextSibling),c=y.data==="F!";break e}}es(c)}c=!1}c&&(s=l[0])}}return l=Yn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qv,lastRenderedState:s},l.queue=c,l=Wv.bind(null,Ge,c),c.dispatch=l,c=np(!1),B=lp.bind(null,Ge,!1,c.queue),c=Yn(),y={state:s,dispatch:null,action:r,pending:null},c.queue=y,l=Vb.bind(null,Ge,y,B,l),y.dispatch=l,c.memoizedState=r,[s,l,!1]}function bv(r){var s=Zt();return xv(s,yt,r)}function xv(r,s,l){if(s=ep(r,s,Qv)[0],r=ff(ci)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Au(s)}catch(E){throw E===Ca?tf:E}else c=s;s=Zt();var y=s.queue,B=y.dispatch;return l!==s.memoizedState&&(Ge.flags|=2048,Sa(9,{destroy:void 0},Ob.bind(null,y,l),null)),[c,B,r]}function Ob(r,s){r.action=s}function Nv(r){var s=Zt(),l=yt;if(l!==null)return xv(s,l,r);Zt(),s=s.memoizedState,l=Zt();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function Sa(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=uf(),Ge.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function Dv(){return Zt().memoizedState}function df(r,s,l,c){var y=Yn();Ge.flags|=r,y.memoizedState=Sa(1|s,{destroy:void 0},l,c===void 0?null:c)}function hf(r,s,l,c){var y=Zt();c=c===void 0?null:c;var B=y.memoizedState.inst;yt!==null&&c!==null&&Yg(c,yt.memoizedState.deps)?y.memoizedState=Sa(s,B,l,c):(Ge.flags|=r,y.memoizedState=Sa(1|s,B,l,c))}function Mv(r,s){df(8390656,8,r,s)}function rp(r,s){hf(2048,8,r,s)}function kb(r){Ge.flags|=4;var s=Ge.updateQueue;if(s===null)s=uf(),Ge.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function Lv(r){var s=Zt().memoizedState;return kb({ref:s,nextImpl:r}),function(){if((ct&2)!==0)throw Error(A(440));return s.impl.apply(void 0,arguments)}}function Hv(r,s){return hf(4,2,r,s)}function Pv(r,s){return hf(4,4,r,s)}function Vv(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ov(r,s,l){l=l!=null?l.concat([r]):null,hf(4,4,Vv.bind(null,s,r),l)}function ip(){}function kv(r,s){var l=Zt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Yg(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function Kv(r,s){var l=Zt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Yg(s,c[1]))return c[0];if(c=r(),_o){Gn(!0);try{r()}finally{Gn(!1)}}return l.memoizedState=[c,s],c}function sp(r,s,l){return l===void 0||(ui&1073741824)!==0&&(We&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=Gw(),Ge.lanes|=r,ls|=r,l)}function Gv(r,s,l,c){return yA(l,s)?l:_a.current!==null?(r=sp(r,l,c),yA(r,s)||(on=!0),r):(ui&42)===0||(ui&1073741824)!==0&&(We&261930)===0?(on=!0,r.memoizedState=l):(r=Gw(),Ge.lanes|=r,ls|=r,s)}function qv(r,s,l,c,y){var B=ue.p;ue.p=B!==0&&8>B?B:8;var E=q.T,S={};q.T=S,lp(r,!1,s,l);try{var H=y(),Y=q.S;if(Y!==null&&Y(S,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var Ae=Lb(H,c);ru(r,s,Ae,_A(r))}else ru(r,s,c,_A(r))}catch(se){ru(r,s,{then:function(){},status:"rejected",reason:se},_A())}finally{ue.p=B,E!==null&&S.types!==null&&(E.types=S.types),q.T=E}}function Kb(){}function op(r,s,l,c){if(r.tag!==5)throw Error(A(476));var y=zv(r).queue;qv(r,y,s,we,l===null?Kb:function(){return Jv(r),l(c)})}function zv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:we},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Jv(r){var s=zv(r);s.next===null&&(s=r.alternate.memoizedState),ru(r,s.next.queue,{},_A())}function ap(){return In(wu)}function Yv(){return Zt().memoizedState}function Xv(){return Zt().memoizedState}function Gb(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=_A();r=As(l);var c=rs(s,r,l);c!==null&&(aA(c,s,l),jl(c,s,l)),s={cache:Lg()},r.payload=s;return}s=s.return}}function qb(r,s,l){var c=_A();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gf(r)?$v(s,l):(l=Ig(r,s,l,c),l!==null&&(aA(l,r,c),Zv(l,s,c)))}function Wv(r,s,l){var c=_A();ru(r,s,l,c)}function ru(r,s,l,c){var y={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(gf(r))$v(s,y);else{var B=r.alternate;if(r.lanes===0&&(B===null||B.lanes===0)&&(B=s.lastRenderedReducer,B!==null))try{var E=s.lastRenderedState,S=B(E,l);if(y.hasEagerState=!0,y.eagerState=S,yA(S,E))return Yc(r,s,y,0),Ct===null&&Jc(),!1}catch{}finally{}if(l=Ig(r,s,y,c),l!==null)return aA(l,r,c),Zv(l,s,c),!0}return!1}function lp(r,s,l,c){if(c={lane:2,revertLane:Op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},gf(r)){if(s)throw Error(A(479))}else s=Ig(r,l,c,2),s!==null&&aA(s,r,2)}function gf(r){var s=r.alternate;return r===Ge||s!==null&&s===Ge}function $v(r,s){Ta=af=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Zv(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,to(r,l)}}var iu={readContext:In,use:cf,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};iu.useEffectEvent=Jt;var jv={readContext:In,use:cf,useCallback:function(r,s){return Yn().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:Mv,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,df(4194308,4,Vv.bind(null,s,r),l)},useLayoutEffect:function(r,s){return df(4194308,4,r,s)},useInsertionEffect:function(r,s){df(4,2,r,s)},useMemo:function(r,s){var l=Yn();s=s===void 0?null:s;var c=r();if(_o){Gn(!0);try{r()}finally{Gn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=Yn();if(l!==void 0){var y=l(s);if(_o){Gn(!0);try{l(s)}finally{Gn(!1)}}}else y=s;return c.memoizedState=c.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},c.queue=r,r=r.dispatch=qb.bind(null,Ge,r),[c.memoizedState,r]},useRef:function(r){var s=Yn();return r={current:r},s.memoizedState=r},useState:function(r){r=np(r);var s=r.queue,l=Wv.bind(null,Ge,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:ip,useDeferredValue:function(r,s){var l=Yn();return sp(l,r,s)},useTransition:function(){var r=np(!1);return r=qv.bind(null,Ge,r.queue,!0,!1),Yn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=Ge,y=Yn();if(nt){if(l===void 0)throw Error(A(407));l=l()}else{if(l=s(),Ct===null)throw Error(A(349));(We&127)!==0||vv(c,s,l)}y.memoizedState=l;var B={value:l,getSnapshot:s};return y.queue=B,Mv(Cv.bind(null,c,B,r),[r]),c.flags|=2048,Sa(9,{destroy:void 0},wv.bind(null,c,B,l,s),null),l},useId:function(){var r=Yn(),s=Ct.identifierPrefix;if(nt){var l=Nr,c=xr;l=(c&~(1<<32-Qt(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=lf++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Hb++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:ap,useFormState:Rv,useActionState:Rv,useOptimistic:function(r){var s=Yn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=lp.bind(null,Ge,!0,l),l.dispatch=s,[r,s]},useMemoCache:jg,useCacheRefresh:function(){return Yn().memoizedState=Gb.bind(null,Ge)},useEffectEvent:function(r){var s=Yn(),l={impl:r};return s.memoizedState=l,function(){if((ct&2)!==0)throw Error(A(440));return l.impl.apply(void 0,arguments)}}},up={readContext:In,use:cf,useCallback:kv,useContext:In,useEffect:rp,useImperativeHandle:Ov,useInsertionEffect:Hv,useLayoutEffect:Pv,useMemo:Kv,useReducer:ff,useRef:Dv,useState:function(){return ff(ci)},useDebugValue:ip,useDeferredValue:function(r,s){var l=Zt();return Gv(l,yt.memoizedState,r,s)},useTransition:function(){var r=ff(ci)[0],s=Zt().memoizedState;return[typeof r=="boolean"?r:Au(r),s]},useSyncExternalStore:Bv,useId:Yv,useHostTransitionStatus:ap,useFormState:bv,useActionState:bv,useOptimistic:function(r,s){var l=Zt();return Tv(l,yt,r,s)},useMemoCache:jg,useCacheRefresh:Xv};up.useEffectEvent=Lv;var ew={readContext:In,use:cf,useCallback:kv,useContext:In,useEffect:rp,useImperativeHandle:Ov,useInsertionEffect:Hv,useLayoutEffect:Pv,useMemo:Kv,useReducer:tp,useRef:Dv,useState:function(){return tp(ci)},useDebugValue:ip,useDeferredValue:function(r,s){var l=Zt();return yt===null?sp(l,r,s):Gv(l,yt.memoizedState,r,s)},useTransition:function(){var r=tp(ci)[0],s=Zt().memoizedState;return[typeof r=="boolean"?r:Au(r),s]},useSyncExternalStore:Bv,useId:Yv,useHostTransitionStatus:ap,useFormState:Nv,useActionState:Nv,useOptimistic:function(r,s){var l=Zt();return yt!==null?Tv(l,yt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:jg,useCacheRefresh:Xv};ew.useEffectEvent=Lv;function cp(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var fp={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=_A(),y=As(c);y.payload=s,l!=null&&(y.callback=l),s=rs(r,y,c),s!==null&&(aA(s,r,c),jl(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=_A(),y=As(c);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=rs(r,y,c),s!==null&&(aA(s,r,c),jl(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=_A(),c=As(l);c.tag=2,s!=null&&(c.callback=s),s=rs(r,c,l),s!==null&&(aA(s,r,l),jl(s,r,l))}};function tw(r,s,l,c,y,B,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,B,E):s.prototype&&s.prototype.isPureReactComponent?!ql(l,c)||!ql(y,B):!0}function nw(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&fp.enqueueReplaceState(s,s.state,null)}function To(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var y in r)l[y]===void 0&&(l[y]=r[y])}return l}function Aw(r){zc(r)}function rw(r){console.error(r)}function iw(r){zc(r)}function pf(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function sw(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function dp(r,s,l){return l=As(l),l.tag=3,l.payload={element:null},l.callback=function(){pf(r,s)},l}function ow(r){return r=As(r),r.tag=3,r}function aw(r,s,l,c){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var B=c.value;r.payload=function(){return y(B)},r.callback=function(){sw(s,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){sw(s,l,c),typeof y!="function"&&(us===null?us=new Set([this]):us.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function zb(r,s,l,c,y){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Ba(s,l,y,!0),l=vA.current,l!==null){switch(l.tag){case 31:case 13:return qA===null?Uf():l.alternate===null&&Yt===0&&(Yt=3),l.flags&=-257,l.flags|=65536,l.lanes=y,c===nf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Hp(r,c,y)),!1;case 22:return l.flags|=65536,c===nf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Hp(r,c,y)),!1}throw Error(A(435,l.tag))}return Hp(r,c,y),Uf(),!1}if(nt)return s=vA.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,c!==bg&&(r=Error(A(422),{cause:c}),Yl(OA(r,l)))):(c!==bg&&(s=Error(A(423),{cause:c}),Yl(OA(s,l))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,c=OA(c,l),y=dp(r.stateNode,c,y),Kg(r,y),Yt!==4&&(Yt=2)),!1;var B=Error(A(520),{cause:c});if(B=OA(B,l),du===null?du=[B]:du.push(B),Yt!==4&&(Yt=2),s===null)return!0;c=OA(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=y&-y,l.lanes|=r,r=dp(l.stateNode,c,r),Kg(l,r),!1;case 1:if(s=l.type,B=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(us===null||!us.has(B))))return l.flags|=65536,y&=-y,l.lanes|=y,y=ow(y),aw(y,r,l,c),Kg(l,y),!1}l=l.return}while(l!==null);return!1}var hp=Error(A(461)),on=!1;function Sn(r,s,l,c){s.child=r===null?fv(s,null,l,c):Eo(s,r.child,l,c)}function lw(r,s,l,c,y){l=l.render;var B=s.ref;if("ref"in c){var E={};for(var S in c)S!=="ref"&&(E[S]=c[S])}else E=c;return Bo(s),c=Xg(r,s,l,E,B,y),S=Wg(),r!==null&&!on?($g(r,s,y),fi(r,s,y)):(nt&&S&&Qg(s),s.flags|=1,Sn(r,s,c,y),s.child)}function uw(r,s,l,c,y){if(r===null){var B=l.type;return typeof B=="function"&&!Sg(B)&&B.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=B,cw(r,s,B,c,y)):(r=Wc(l.type,null,c,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(B=r.child,!Cp(r,y)){var E=B.memoizedProps;if(l=l.compare,l=l!==null?l:ql,l(E,c)&&r.ref===s.ref)return fi(r,s,y)}return s.flags|=1,r=si(B,c),r.ref=s.ref,r.return=s,s.child=r}function cw(r,s,l,c,y){if(r!==null){var B=r.memoizedProps;if(ql(B,c)&&r.ref===s.ref)if(on=!1,s.pendingProps=c=B,Cp(r,y))(r.flags&131072)!==0&&(on=!0);else return s.lanes=r.lanes,fi(r,s,y)}return gp(r,s,l,c,y)}function fw(r,s,l,c){var y=c.children,B=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(B=B!==null?B.baseLanes|l:l,r!==null){for(c=s.child=r.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~B}else c=0,s.child=null;return dw(r,s,B,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ef(s,B!==null?B.cachePool:null),B!==null?gv(s,B):qg(),pv(s);else return c=s.lanes=536870912,dw(r,s,B!==null?B.baseLanes|l:l,l,c)}else B!==null?(ef(s,B.cachePool),gv(s,B),ss(),s.memoizedState=null):(r!==null&&ef(s,null),qg(),ss());return Sn(r,s,y,l),s.child}function su(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function dw(r,s,l,c,y){var B=Pg();return B=B===null?null:{parent:rn._currentValue,pool:B},s.memoizedState={baseLanes:l,cachePool:B},r!==null&&ef(s,null),qg(),pv(s),r!==null&&Ba(r,s,c,!0),s.childLanes=y,null}function mf(r,s){return s=Bf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function hw(r,s,l){return Eo(s,r.child,null,l),r=mf(s,s.pendingProps),r.flags|=2,wA(s),s.memoizedState=null,r}function Jb(r,s,l){var c=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(nt){if(c.mode==="hidden")return r=mf(s,c),s.lanes=536870912,su(null,r);if(Jg(s),(r=bt)?(r=IC(r,GA),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Zi!==null?{id:xr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},l=$B(r),l.return=s,s.child=l,Tn=s,bt=null)):r=null,r===null)throw es(s);return s.lanes=536870912,null}return mf(s,c)}var B=r.memoizedState;if(B!==null){var E=B.dehydrated;if(Jg(s),y)if(s.flags&256)s.flags&=-257,s=hw(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(A(558));else if(on||Ba(r,s,l,!1),y=(l&r.childLanes)!==0,on||y){if(c=Ct,c!==null&&(E=no(c,l),E!==0&&E!==B.retryLane))throw B.retryLane=E,go(r,E),aA(c,r,E),hp;Uf(),s=hw(r,s,l)}else r=B.treeContext,bt=zA(E.nextSibling),Tn=s,nt=!0,ji=null,GA=!1,r!==null&&ev(s,r),s=mf(s,c),s.flags|=4096;return s}return r=si(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function yf(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(A(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function gp(r,s,l,c,y){return Bo(s),l=Xg(r,s,l,c,void 0,y),c=Wg(),r!==null&&!on?($g(r,s,y),fi(r,s,y)):(nt&&c&&Qg(s),s.flags|=1,Sn(r,s,l,y),s.child)}function gw(r,s,l,c,y,B){return Bo(s),s.updateQueue=null,l=yv(s,c,l,y),mv(r),c=Wg(),r!==null&&!on?($g(r,s,B),fi(r,s,B)):(nt&&c&&Qg(s),s.flags|=1,Sn(r,s,l,B),s.child)}function pw(r,s,l,c,y){if(Bo(s),s.stateNode===null){var B=ga,E=l.contextType;typeof E=="object"&&E!==null&&(B=In(E)),B=new l(c,B),s.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=fp,s.stateNode=B,B._reactInternals=s,B=s.stateNode,B.props=c,B.state=s.memoizedState,B.refs={},Og(s),E=l.contextType,B.context=typeof E=="object"&&E!==null?In(E):ga,B.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(cp(s,l,E,c),B.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(E=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),E!==B.state&&fp.enqueueReplaceState(B,B.state,null),tu(s,c,B,y),eu(),B.state=s.memoizedState),typeof B.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){B=s.stateNode;var S=s.memoizedProps,H=To(l,S);B.props=H;var Y=B.context,Ae=l.contextType;E=ga,typeof Ae=="object"&&Ae!==null&&(E=In(Ae));var se=l.getDerivedStateFromProps;Ae=typeof se=="function"||typeof B.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Ae||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(S||Y!==E)&&nw(s,B,c,E),ns=!1;var W=s.memoizedState;B.state=W,tu(s,c,B,y),eu(),Y=s.memoizedState,S||W!==Y||ns?(typeof se=="function"&&(cp(s,l,se,c),Y=s.memoizedState),(H=ns||tw(s,l,H,c,W,Y,E))?(Ae||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(s.flags|=4194308)):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Y),B.props=c,B.state=Y,B.context=E,c=H):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{B=s.stateNode,kg(r,s),E=s.memoizedProps,Ae=To(l,E),B.props=Ae,se=s.pendingProps,W=B.context,Y=l.contextType,H=ga,typeof Y=="object"&&Y!==null&&(H=In(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(E!==se||W!==H)&&nw(s,B,c,H),ns=!1,W=s.memoizedState,B.state=W,tu(s,c,B,y),eu();var j=s.memoizedState;E!==se||W!==j||ns||r!==null&&r.dependencies!==null&&Zc(r.dependencies)?(typeof S=="function"&&(cp(s,l,S,c),j=s.memoizedState),(Ae=ns||tw(s,l,Ae,c,W,j,H)||r!==null&&r.dependencies!==null&&Zc(r.dependencies))?(Y||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(c,j,H),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(c,j,H)),typeof B.componentDidUpdate=="function"&&(s.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof B.componentDidUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=j),B.props=c,B.state=j,B.context=H,c=Ae):(typeof B.componentDidUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),c=!1)}return B=c,yf(r,s),c=(s.flags&128)!==0,B||c?(B=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:B.render(),s.flags|=1,r!==null&&c?(s.child=Eo(s,r.child,null,y),s.child=Eo(s,null,l,y)):Sn(r,s,l,y),s.memoizedState=B.state,r=s.child):r=fi(r,s,y),r}function mw(r,s,l,c){return mo(),s.flags|=256,Sn(r,s,l,c),s.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(r){return{baseLanes:r,cachePool:sv()}}function yp(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=EA),r}function yw(r,s,l){var c=s.pendingProps,y=!1,B=(s.flags&128)!==0,E;if((E=B)||(E=r!==null&&r.memoizedState===null?!1:($t.current&2)!==0),E&&(y=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(nt){if(y?is(s):ss(),(r=bt)?(r=IC(r,GA),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Zi!==null?{id:xr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},l=$B(r),l.return=s,s.child=l,Tn=s,bt=null)):r=null,r===null)throw es(s);return em(r)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,y?(ss(),y=s.mode,S=Bf({mode:"hidden",children:S},y),c=po(c,y,l,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=mp(l),c.childLanes=yp(r,E,l),s.memoizedState=pp,su(null,c)):(is(s),Bp(s,S))}var H=r.memoizedState;if(H!==null&&(S=H.dehydrated,S!==null)){if(B)s.flags&256?(is(s),s.flags&=-257,s=vp(r,s,l)):s.memoizedState!==null?(ss(),s.child=r.child,s.flags|=128,s=null):(ss(),S=c.fallback,y=s.mode,c=Bf({mode:"visible",children:c.children},y),S=po(S,y,l,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,Eo(s,r.child,null,l),c=s.child,c.memoizedState=mp(l),c.childLanes=yp(r,E,l),s.memoizedState=pp,s=su(null,c));else if(is(s),em(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Y=E.dgst;E=Y,c=Error(A(419)),c.stack="",c.digest=E,Yl({value:c,source:null,stack:null}),s=vp(r,s,l)}else if(on||Ba(r,s,l,!1),E=(l&r.childLanes)!==0,on||E){if(E=Ct,E!==null&&(c=no(E,l),c!==0&&c!==H.retryLane))throw H.retryLane=c,go(r,c),aA(E,r,c),hp;jp(S)||Uf(),s=vp(r,s,l)}else jp(S)?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,bt=zA(S.nextSibling),Tn=s,nt=!0,ji=null,GA=!1,r!==null&&ev(s,r),s=Bp(s,c.children),s.flags|=4096);return s}return y?(ss(),S=c.fallback,y=s.mode,H=r.child,Y=H.sibling,c=si(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,Y!==null?S=si(Y,S):(S=po(S,y,l,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,su(null,c),c=s.child,S=r.child.memoizedState,S===null?S=mp(l):(y=S.cachePool,y!==null?(H=rn._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=sv(),S={baseLanes:S.baseLanes|l,cachePool:y}),c.memoizedState=S,c.childLanes=yp(r,E,l),s.memoizedState=pp,su(r.child,c)):(is(s),l=r.child,r=l.sibling,l=si(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=l,s.memoizedState=null,l)}function Bp(r,s){return s=Bf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Bf(r,s){return r=BA(22,r,null,s),r.lanes=0,r}function vp(r,s,l){return Eo(s,r.child,null,l),r=Bp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Bw(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Dg(r.return,s,l)}function wp(r,s,l,c,y,B){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:y,treeForkCount:B}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=l,E.tailMode=y,E.treeForkCount=B)}function vw(r,s,l){var c=s.pendingProps,y=c.revealOrder,B=c.tail;c=c.children;var E=$t.current,S=(E&2)!==0;if(S?(E=E&1|2,s.flags|=128):E&=1,ce($t,E),Sn(r,s,c,l),c=nt?Jl:0,!S&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Bw(r,l,s);else if(r.tag===19)Bw(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)r=l.alternate,r!==null&&of(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),wp(s,!1,y,l,B,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&of(r)===null){s.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}wp(s,!0,l,null,B,c);break;case"together":wp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function fi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ls|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Ba(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(A(153));if(s.child!==null){for(r=s.child,l=si(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=si(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Cp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Zc(r)))}function Yb(r,s,l){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),ts(s,rn,r.memoizedState.cache),mo();break;case 27:case 5:Kn(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:ts(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Jg(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(is(s),s.flags|=128,null):(l&s.child.childLanes)!==0?yw(r,s,l):(is(s),r=fi(r,s,l),r!==null?r.sibling:null);is(s);break;case 19:var y=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Ba(r,s,l,!1),c=(l&s.childLanes)!==0),y){if(c)return vw(r,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ce($t,$t.current),c)break;return null;case 22:return s.lanes=0,fw(r,s,l,s.pendingProps);case 24:ts(s,rn,r.memoizedState.cache)}return fi(r,s,l)}function ww(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)on=!0;else{if(!Cp(r,l)&&(s.flags&128)===0)return on=!1,Yb(r,s,l);on=(r.flags&131072)!==0}else on=!1,nt&&(s.flags&1048576)!==0&&jB(s,Jl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=wo(s.elementType),s.type=r,typeof r=="function")Sg(r)?(c=To(r,c),s.tag=1,s=pw(null,s,r,c,l)):(s.tag=0,s=gp(null,s,r,c,l));else{if(r!=null){var y=r.$$typeof;if(y===te){s.tag=11,s=lw(null,s,r,c,l);break e}else if(y===b){s.tag=14,s=uw(null,s,r,c,l);break e}}throw s=Ie(r)||r,Error(A(306,s,""))}}return s;case 0:return gp(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,y=To(c,s.pendingProps),pw(r,s,c,y,l);case 3:e:{if(Nt(s,s.stateNode.containerInfo),r===null)throw Error(A(387));c=s.pendingProps;var B=s.memoizedState;y=B.element,kg(r,s),tu(s,c,null,l);var E=s.memoizedState;if(c=E.cache,ts(s,rn,c),c!==B.cache&&Mg(s,[rn],l,!0),eu(),c=E.element,B.isDehydrated)if(B={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=B,s.memoizedState=B,s.flags&256){s=mw(r,s,c,l);break e}else if(c!==y){y=OA(Error(A(424)),s),Yl(y),s=mw(r,s,c,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=zA(r.firstChild),Tn=s,nt=!0,ji=null,GA=!0,l=fv(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(mo(),c===y){s=fi(r,s,l);break e}Sn(r,s,c,l)}s=s.child}return s;case 26:return yf(r,s),r===null?(l=bC(s.type,null,s.pendingProps,null))?s.memoizedState=l:nt||(l=s.type,r=s.pendingProps,c=Df(Se.current).createElement(l),c[Rt]=s,c[Gt]=r,Un(c,l,r),qt(c),s.stateNode=c):s.memoizedState=bC(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Kn(s),r===null&&nt&&(c=s.stateNode=FC(s.type,s.pendingProps,Se.current),Tn=s,GA=!0,y=bt,hs(s.type)?(tm=y,bt=zA(c.firstChild)):bt=y),Sn(r,s,s.pendingProps.children,l),yf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&nt&&((y=c=bt)&&(c=_x(c,s.type,s.pendingProps,GA),c!==null?(s.stateNode=c,Tn=s,bt=zA(c.firstChild),GA=!1,y=!0):y=!1),y||es(s)),Kn(s),y=s.type,B=s.pendingProps,E=r!==null?r.memoizedProps:null,c=B.children,Wp(y,B)?c=null:E!==null&&Wp(y,E)&&(s.flags|=32),s.memoizedState!==null&&(y=Xg(r,s,Pb,null,null,l),wu._currentValue=y),yf(r,s),Sn(r,s,c,l),s.child;case 6:return r===null&&nt&&((r=l=bt)&&(l=Tx(l,s.pendingProps,GA),l!==null?(s.stateNode=l,Tn=s,bt=null,r=!0):r=!1),r||es(s)),null;case 13:return yw(r,s,l);case 4:return Nt(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Eo(s,null,c,l):Sn(r,s,c,l),s.child;case 11:return lw(r,s,s.type,s.pendingProps,l);case 7:return Sn(r,s,s.pendingProps,l),s.child;case 8:return Sn(r,s,s.pendingProps.children,l),s.child;case 12:return Sn(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ts(s,s.type,c.value),Sn(r,s,c.children,l),s.child;case 9:return y=s.type._context,c=s.pendingProps.children,Bo(s),y=In(y),c=c(y),s.flags|=1,Sn(r,s,c,l),s.child;case 14:return uw(r,s,s.type,s.pendingProps,l);case 15:return cw(r,s,s.type,s.pendingProps,l);case 19:return vw(r,s,l);case 31:return Jb(r,s,l);case 22:return fw(r,s,l,s.pendingProps);case 24:return Bo(s),c=In(rn),r===null?(y=Pg(),y===null&&(y=Ct,B=Lg(),y.pooledCache=B,B.refCount++,B!==null&&(y.pooledCacheLanes|=l),y=B),s.memoizedState={parent:c,cache:y},Og(s),ts(s,rn,y)):((r.lanes&l)!==0&&(kg(r,s),tu(s,null,null,l),eu()),y=r.memoizedState,B=s.memoizedState,y.parent!==c?(y={parent:c,cache:c},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),ts(s,rn,c)):(c=B.cache,ts(s,rn,c),c!==y.cache&&Mg(s,[rn],l,!0))),Sn(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(A(156,s.tag))}function di(r){r.flags|=4}function Ep(r,s,l,c,y){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(Yw())r.flags|=8192;else throw Co=nf,Vg}else r.flags&=-16777217}function Cw(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!LC(s))if(Yw())r.flags|=8192;else throw Co=nf,Vg}function vf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ea():536870912,r.lanes|=s,Ra|=s)}function ou(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function Xb(r,s,l){var c=s.pendingProps;switch(Rg(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return xt(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),li(rn),pt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(ya(s)?di(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xg())),xt(s),null;case 26:var y=s.type,B=s.memoizedState;return r===null?(di(s),B!==null?(xt(s),Cw(s,B)):(xt(s),Ep(s,y,null,c,l))):B?B!==r.memoizedState?(di(s),xt(s),Cw(s,B)):(xt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&di(s),xt(s),Ep(s,y,r,c,l)),null;case 27:if(Er(s),l=Se.current,y=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&di(s);else{if(!c){if(s.stateNode===null)throw Error(A(166));return xt(s),null}r=he.current,ya(s)?tv(s):(r=FC(y,c,l),s.stateNode=r,di(s))}return xt(s),null;case 5:if(Er(s),y=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&di(s);else{if(!c){if(s.stateNode===null)throw Error(A(166));return xt(s),null}if(B=he.current,ya(s))tv(s);else{var E=Df(Se.current);switch(B){case 1:B=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:B=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":B=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":B=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":B=E.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?B.multiple=!0:c.size&&(B.size=c.size);break;default:B=typeof c.is=="string"?E.createElement(y,{is:c.is}):E.createElement(y)}}B[Rt]=s,B[Gt]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)B.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=B;e:switch(Un(B,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&di(s)}}return xt(s),Ep(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&di(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(A(166));if(r=Se.current,ya(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,y=Tn,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}r[Rt]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||yC(r.nodeValue,l)),r||es(s,!0)}else r=Df(r).createTextNode(c),r[Rt]=s,s.stateNode=r}return xt(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(c=ya(s),l!==null){if(r===null){if(!c)throw Error(A(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(557));r[Rt]=s}else mo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),r=!1}else l=xg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(wA(s),s):(wA(s),null);if((s.flags&128)!==0)throw Error(A(558))}return xt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=ya(s),c!==null&&c.dehydrated!==null){if(r===null){if(!y)throw Error(A(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(A(317));y[Rt]=s}else mo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),y=!1}else y=xg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(wA(s),s):(wA(s),null)}return wA(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=s.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),B=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(B=c.memoizedState.cachePool.pool),B!==y&&(c.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),vf(s,s.updateQueue),xt(s),null);case 4:return pt(),r===null&&qp(s.stateNode.containerInfo),xt(s),null;case 10:return li(s.type),xt(s),null;case 19:if(ne($t),c=s.memoizedState,c===null)return xt(s),null;if(y=(s.flags&128)!==0,B=c.rendering,B===null)if(y)ou(c,!1);else{if(Yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(B=of(r),B!==null){for(s.flags|=128,ou(c,!1),r=B.updateQueue,s.updateQueue=r,vf(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)WB(l,r),l=l.sibling;return ce($t,$t.current&1|2),nt&&oi(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&Ft()>Tf&&(s.flags|=128,y=!0,ou(c,!1),s.lanes=4194304)}else{if(!y)if(r=of(B),r!==null){if(s.flags|=128,y=!0,r=r.updateQueue,s.updateQueue=r,vf(s,r),ou(c,!0),c.tail===null&&c.tailMode==="hidden"&&!B.alternate&&!nt)return xt(s),null}else 2*Ft()-c.renderingStartTime>Tf&&l!==536870912&&(s.flags|=128,y=!0,ou(c,!1),s.lanes=4194304);c.isBackwards?(B.sibling=s.child,s.child=B):(r=c.last,r!==null?r.sibling=B:s.child=B,c.last=B)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Ft(),r.sibling=null,l=$t.current,ce($t,y?l&1|2:l&1),nt&&oi(s,c.treeForkCount),r):(xt(s),null);case 22:case 23:return wA(s),zg(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),l=s.updateQueue,l!==null&&vf(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&ne(vo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),li(rn),xt(s),null;case 25:return null;case 30:return null}throw Error(A(156,s.tag))}function Wb(r,s){switch(Rg(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return li(rn),pt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Er(s),null;case 31:if(s.memoizedState!==null){if(wA(s),s.alternate===null)throw Error(A(340));mo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(wA(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(A(340));mo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ne($t),null;case 4:return pt(),null;case 10:return li(s.type),null;case 22:case 23:return wA(s),zg(),r!==null&&ne(vo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return li(rn),null;case 25:return null;default:return null}}function Ew(r,s){switch(Rg(s),s.tag){case 3:li(rn),pt();break;case 26:case 27:case 5:Er(s);break;case 4:pt();break;case 31:s.memoizedState!==null&&wA(s);break;case 13:wA(s);break;case 19:ne($t);break;case 10:li(s.type);break;case 22:case 23:wA(s),zg(),r!==null&&ne(vo);break;case 24:li(rn)}}function au(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var y=c.next;l=y;do{if((l.tag&r)===r){c=void 0;var B=l.create,E=l.inst;c=B(),E.destroy=c}l=l.next}while(l!==y)}}catch(S){gt(s,s.return,S)}}function os(r,s,l){try{var c=s.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var B=y.next;c=B;do{if((c.tag&r)===r){var E=c.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,y=s;var H=l,Y=S;try{Y()}catch(Ae){gt(y,H,Ae)}}}c=c.next}while(c!==B)}}catch(Ae){gt(s,s.return,Ae)}}function _w(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{hv(s,l)}catch(c){gt(r,r.return,c)}}}function Tw(r,s,l){l.props=To(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){gt(r,s,c)}}function lu(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(y){gt(r,s,y)}}function Dr(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(y){gt(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){gt(r,s,y)}else l.current=null}function Iw(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(y){gt(r,r.return,y)}}function _p(r,s,l){try{var c=r.stateNode;yx(c,r.type,l,s),c[Gt]=s}catch(y){gt(r,r.return,y)}}function Sw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&hs(r.type)||r.tag===4}function Tp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Sw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&hs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ip(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ar));else if(c!==4&&(c===27&&hs(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Ip(r,s,l),r=r.sibling;r!==null;)Ip(r,s,l),r=r.sibling}function wf(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&hs(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(wf(r,s,l),r=r.sibling;r!==null;)wf(r,s,l),r=r.sibling}function Uw(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Un(s,c,l),s[Rt]=r,s[Gt]=l}catch(B){gt(r,r.return,B)}}var hi=!1,an=!1,Sp=!1,Fw=typeof WeakSet=="function"?WeakSet:Set,yn=null;function $b(r,s){if(r=r.containerInfo,Yp=kf,r=OB(r),vg(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var y=c.anchorOffset,B=c.focusNode;c=c.focusOffset;try{l.nodeType,B.nodeType}catch{l=null;break e}var E=0,S=-1,H=-1,Y=0,Ae=0,se=r,W=null;t:for(;;){for(var j;se!==l||y!==0&&se.nodeType!==3||(S=E+y),se!==B||c!==0&&se.nodeType!==3||(H=E+c),se.nodeType===3&&(E+=se.nodeValue.length),(j=se.firstChild)!==null;)W=se,se=j;for(;;){if(se===r)break t;if(W===l&&++Y===y&&(S=E),W===B&&++Ae===c&&(H=E),(j=se.nextSibling)!==null)break;se=W,W=se.parentNode}se=j}l=S===-1||H===-1?null:{start:S,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xp={focusedElem:r,selectionRange:l},kf=!1,yn=s;yn!==null;)if(s=yn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,yn=r;else for(;yn!==null;){switch(s=yn,B=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)y=r[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&B!==null){r=void 0,l=s,y=B.memoizedProps,B=B.memoizedState,c=l.stateNode;try{var Ce=To(l.type,y);r=c.getSnapshotBeforeUpdate(Ce,B),c.__reactInternalSnapshotBeforeUpdate=r}catch(be){gt(l,l.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)Zp(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Zp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(A(163))}if(r=s.sibling,r!==null){r.return=s.return,yn=r;break}yn=s.return}}function Qw(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:pi(r,l),c&4&&au(5,l);break;case 1:if(pi(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(E){gt(l,l.return,E)}else{var y=To(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){gt(l,l.return,E)}}c&64&&_w(l),c&512&&lu(l,l.return);break;case 3:if(pi(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{hv(r,s)}catch(E){gt(l,l.return,E)}}break;case 27:s===null&&c&4&&Uw(l);case 26:case 5:pi(r,l),s===null&&c&4&&Iw(l),c&512&&lu(l,l.return);break;case 12:pi(r,l);break;case 31:pi(r,l),c&4&&xw(r,l);break;case 13:pi(r,l),c&4&&Nw(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=sx.bind(null,l),Ix(r,l))));break;case 22:if(c=l.memoizedState!==null||hi,!c){s=s!==null&&s.memoizedState!==null||an,y=hi;var B=an;hi=c,(an=s)&&!B?mi(r,l,(l.subtreeFlags&8772)!==0):pi(r,l),hi=y,an=B}break;case 30:break;default:pi(r,l)}}function Rw(r){var s=r.alternate;s!==null&&(r.alternate=null,Rw(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ti(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Mt=null,rA=!1;function gi(r,s,l){for(l=l.child;l!==null;)bw(r,s,l),l=l.sibling}function bw(r,s,l){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(eA,l)}catch{}switch(l.tag){case 26:an||Dr(l,s),gi(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:an||Dr(l,s);var c=Mt,y=rA;hs(l.type)&&(Mt=l.stateNode,rA=!1),gi(r,s,l),yu(l.stateNode),Mt=c,rA=y;break;case 5:an||Dr(l,s);case 6:if(c=Mt,y=rA,Mt=null,gi(r,s,l),Mt=c,rA=y,Mt!==null)if(rA)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(l.stateNode)}catch(B){gt(l,s,B)}else try{Mt.removeChild(l.stateNode)}catch(B){gt(l,s,B)}break;case 18:Mt!==null&&(rA?(r=Mt,_C(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Pa(r)):_C(Mt,l.stateNode));break;case 4:c=Mt,y=rA,Mt=l.stateNode.containerInfo,rA=!0,gi(r,s,l),Mt=c,rA=y;break;case 0:case 11:case 14:case 15:os(2,l,s),an||os(4,l,s),gi(r,s,l);break;case 1:an||(Dr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Tw(l,s,c)),gi(r,s,l);break;case 21:gi(r,s,l);break;case 22:an=(c=an)||l.memoizedState!==null,gi(r,s,l),an=c;break;default:gi(r,s,l)}}function xw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Pa(r)}catch(l){gt(s,s.return,l)}}}function Nw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pa(r)}catch(l){gt(s,s.return,l)}}function Zb(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Fw),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Fw),s;default:throw Error(A(435,r.tag))}}function Cf(r,s){var l=Zb(r);s.forEach(function(c){if(!l.has(c)){l.add(c);var y=ox.bind(null,r,c);c.then(y,y)}})}function iA(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var y=l[c],B=r,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(hs(S.type)){Mt=S.stateNode,rA=!1;break e}break;case 5:Mt=S.stateNode,rA=!1;break e;case 3:case 4:Mt=S.stateNode.containerInfo,rA=!0;break e}S=S.return}if(Mt===null)throw Error(A(160));bw(B,E,y),Mt=null,rA=!1,B=y.alternate,B!==null&&(B.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Dw(s,r),s=s.sibling}var lr=null;function Dw(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:iA(s,r),sA(r),c&4&&(os(3,r,r.return),au(3,r),os(5,r,r.return));break;case 1:iA(s,r),sA(r),c&512&&(an||l===null||Dr(l,l.return)),c&64&&hi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var y=lr;if(iA(s,r),sA(r),c&512&&(an||l===null||Dr(l,l.return)),c&4){var B=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":B=y.getElementsByTagName("title")[0],(!B||B[xA]||B[Rt]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=y.createElement(c),y.head.insertBefore(B,y.querySelector("head > title"))),Un(B,c,l),B[Rt]=r,qt(B),c=B;break e;case"link":var E=DC("link","href",y).get(c+(l.href||""));if(E){for(var S=0;S<E.length;S++)if(B=E[S],B.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&B.getAttribute("rel")===(l.rel==null?null:l.rel)&&B.getAttribute("title")===(l.title==null?null:l.title)&&B.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(S,1);break t}}B=y.createElement(c),Un(B,c,l),y.head.appendChild(B);break;case"meta":if(E=DC("meta","content",y).get(c+(l.content||""))){for(S=0;S<E.length;S++)if(B=E[S],B.getAttribute("content")===(l.content==null?null:""+l.content)&&B.getAttribute("name")===(l.name==null?null:l.name)&&B.getAttribute("property")===(l.property==null?null:l.property)&&B.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&B.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(S,1);break t}}B=y.createElement(c),Un(B,c,l),y.head.appendChild(B);break;default:throw Error(A(468,c))}B[Rt]=r,qt(B),c=B}r.stateNode=c}else MC(y,r.type,r.stateNode);else r.stateNode=NC(y,c,r.memoizedProps);else B!==c?(B===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):B.count--,c===null?MC(y,r.type,r.stateNode):NC(y,c,r.memoizedProps)):c===null&&r.stateNode!==null&&_p(r,r.memoizedProps,l.memoizedProps)}break;case 27:iA(s,r),sA(r),c&512&&(an||l===null||Dr(l,l.return)),l!==null&&c&4&&_p(r,r.memoizedProps,l.memoizedProps);break;case 5:if(iA(s,r),sA(r),c&512&&(an||l===null||Dr(l,l.return)),r.flags&32){y=r.stateNode;try{AA(y,"")}catch(Ce){gt(r,r.return,Ce)}}c&4&&r.stateNode!=null&&(y=r.memoizedProps,_p(r,y,l!==null?l.memoizedProps:y)),c&1024&&(Sp=!0);break;case 6:if(iA(s,r),sA(r),c&4){if(r.stateNode===null)throw Error(A(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(Ce){gt(r,r.return,Ce)}}break;case 3:if(Hf=null,y=lr,lr=Mf(s.containerInfo),iA(s,r),lr=y,sA(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Pa(s.containerInfo)}catch(Ce){gt(r,r.return,Ce)}Sp&&(Sp=!1,Mw(r));break;case 4:c=lr,lr=Mf(r.stateNode.containerInfo),iA(s,r),sA(r),lr=c;break;case 12:iA(s,r),sA(r);break;case 31:iA(s,r),sA(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cf(r,c)));break;case 13:iA(s,r),sA(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_f=Ft()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cf(r,c)));break;case 22:y=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,Y=hi,Ae=an;if(hi=Y||y,an=Ae||H,iA(s,r),an=Ae,hi=Y,sA(r),c&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||H||hi||an||Io(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){H=l=s;try{if(B=H.stateNode,y)E=B.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=H.stateNode;var se=H.memoizedProps.style,W=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ce){gt(H,H.return,Ce)}}}else if(s.tag===6){if(l===null){H=s;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Ce){gt(H,H.return,Ce)}}}else if(s.tag===18){if(l===null){H=s;try{var j=H.stateNode;y?TC(j,!0):TC(H.stateNode,!1)}catch(Ce){gt(H,H.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Cf(r,l))));break;case 19:iA(s,r),sA(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cf(r,c)));break;case 30:break;case 21:break;default:iA(s,r),sA(r)}}function sA(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(Sw(c)){l=c;break}c=c.return}if(l==null)throw Error(A(160));switch(l.tag){case 27:var y=l.stateNode,B=Tp(r);wf(r,B,y);break;case 5:var E=l.stateNode;l.flags&32&&(AA(E,""),l.flags&=-33);var S=Tp(r);wf(r,S,E);break;case 3:case 4:var H=l.stateNode.containerInfo,Y=Tp(r);Ip(r,Y,H);break;default:throw Error(A(161))}}catch(Ae){gt(r,r.return,Ae)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Mw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Mw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function pi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Qw(r,s.alternate,s),s=s.sibling}function Io(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:os(4,s,s.return),Io(s);break;case 1:Dr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Tw(s,s.return,l),Io(s);break;case 27:yu(s.stateNode);case 26:case 5:Dr(s,s.return),Io(s);break;case 22:s.memoizedState===null&&Io(s);break;case 30:Io(s);break;default:Io(s)}r=r.sibling}}function mi(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,y=r,B=s,E=B.flags;switch(B.tag){case 0:case 11:case 15:mi(y,B,l),au(4,B);break;case 1:if(mi(y,B,l),c=B,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Y){gt(c,c.return,Y)}if(c=B,y=c.updateQueue,y!==null){var S=c.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)dv(H[y],S)}catch(Y){gt(c,c.return,Y)}}l&&E&64&&_w(B),lu(B,B.return);break;case 27:Uw(B);case 26:case 5:mi(y,B,l),l&&c===null&&E&4&&Iw(B),lu(B,B.return);break;case 12:mi(y,B,l);break;case 31:mi(y,B,l),l&&E&4&&xw(y,B);break;case 13:mi(y,B,l),l&&E&4&&Nw(y,B);break;case 22:B.memoizedState===null&&mi(y,B,l),lu(B,B.return);break;case 30:break;default:mi(y,B,l)}s=s.sibling}}function Up(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Xl(l))}function Fp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Xl(r))}function ur(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lw(r,s,l,c),s=s.sibling}function Lw(r,s,l,c){var y=s.flags;switch(s.tag){case 0:case 11:case 15:ur(r,s,l,c),y&2048&&au(9,s);break;case 1:ur(r,s,l,c);break;case 3:ur(r,s,l,c),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Xl(r)));break;case 12:if(y&2048){ur(r,s,l,c),r=s.stateNode;try{var B=s.memoizedProps,E=B.id,S=B.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){gt(s,s.return,H)}}else ur(r,s,l,c);break;case 31:ur(r,s,l,c);break;case 13:ur(r,s,l,c);break;case 23:break;case 22:B=s.stateNode,E=s.alternate,s.memoizedState!==null?B._visibility&2?ur(r,s,l,c):uu(r,s):B._visibility&2?ur(r,s,l,c):(B._visibility|=2,Ua(r,s,l,c,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Up(E,s);break;case 24:ur(r,s,l,c),y&2048&&Fp(s.alternate,s);break;default:ur(r,s,l,c)}}function Ua(r,s,l,c,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var B=r,E=s,S=l,H=c,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Ua(B,E,S,H,y),au(8,E);break;case 23:break;case 22:var Ae=E.stateNode;E.memoizedState!==null?Ae._visibility&2?Ua(B,E,S,H,y):uu(B,E):(Ae._visibility|=2,Ua(B,E,S,H,y)),y&&Y&2048&&Up(E.alternate,E);break;case 24:Ua(B,E,S,H,y),y&&Y&2048&&Fp(E.alternate,E);break;default:Ua(B,E,S,H,y)}s=s.sibling}}function uu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,y=c.flags;switch(c.tag){case 22:uu(l,c),y&2048&&Up(c.alternate,c);break;case 24:uu(l,c),y&2048&&Fp(c.alternate,c);break;default:uu(l,c)}s=s.sibling}}var cu=8192;function Fa(r,s,l){if(r.subtreeFlags&cu)for(r=r.child;r!==null;)Hw(r,s,l),r=r.sibling}function Hw(r,s,l){switch(r.tag){case 26:Fa(r,s,l),r.flags&cu&&r.memoizedState!==null&&Hx(l,lr,r.memoizedState,r.memoizedProps);break;case 5:Fa(r,s,l);break;case 3:case 4:var c=lr;lr=Mf(r.stateNode.containerInfo),Fa(r,s,l),lr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=cu,cu=16777216,Fa(r,s,l),cu=c):Fa(r,s,l));break;default:Fa(r,s,l)}}function Pw(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function fu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];yn=c,Ow(c,r)}Pw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vw(r),r=r.sibling}function Vw(r){switch(r.tag){case 0:case 11:case 15:fu(r),r.flags&2048&&os(9,r,r.return);break;case 3:fu(r);break;case 12:fu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ef(r)):fu(r);break;default:fu(r)}}function Ef(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];yn=c,Ow(c,r)}Pw(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:os(8,s,s.return),Ef(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Ef(s));break;default:Ef(s)}r=r.sibling}}function Ow(r,s){for(;yn!==null;){var l=yn;switch(l.tag){case 0:case 11:case 15:os(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Xl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,yn=c;else e:for(l=r;yn!==null;){c=yn;var y=c.sibling,B=c.return;if(Rw(c),c===l){yn=null;break e}if(y!==null){y.return=B,yn=y;break e}yn=B}}}var jb={getCacheForType:function(r){var s=In(rn),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return In(rn).controller.signal}},ex=typeof WeakMap=="function"?WeakMap:Map,ct=0,Ct=null,Ye=null,We=0,ht=0,CA=null,as=!1,Qa=!1,Qp=!1,yi=0,Yt=0,ls=0,So=0,Rp=0,EA=0,Ra=0,du=null,oA=null,bp=!1,_f=0,kw=0,Tf=1/0,If=null,us=null,hn=0,cs=null,ba=null,Bi=0,xp=0,Np=null,Kw=null,hu=0,Dp=null;function _A(){return(ct&2)!==0&&We!==0?We&-We:q.T!==null?Op():Ao()}function Gw(){if(EA===0)if((We&536870912)===0||nt){var r=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),EA=r}else EA=536870912;return r=vA.current,r!==null&&(r.flags|=32),EA}function aA(r,s,l){(r===Ct&&(ht===2||ht===9)||r.cancelPendingCommit!==null)&&(xa(r,0),fs(r,We,EA,!1)),Zr(r,l),((ct&2)===0||r!==Ct)&&(r===Ct&&((ct&2)===0&&(So|=l),Yt===4&&fs(r,We,EA,!1)),Mr(r))}function qw(r,s,l){if((ct&6)!==0)throw Error(A(327));var c=!l&&(s&127)===0&&(s&r.expiredLanes)===0||hA(r,s),y=c?Ax(r,s):Lp(r,s,!0),B=c;do{if(y===0){Qa&&!c&&fs(r,s,0,!1);break}else{if(l=r.current.alternate,B&&!tx(l)){y=Lp(r,s,!1),B=!1;continue}if(y===2){if(B=s,r.errorRecoveryDisabledLanes&B)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=r;y=du;var H=S.current.memoizedState.isDehydrated;if(H&&(xa(S,E).flags|=256),E=Lp(S,E,!1),E!==2){if(Qp&&!H){S.errorRecoveryDisabledLanes|=B,So|=B,y=4;break e}B=oA,oA=y,B!==null&&(oA===null?oA=B:oA.push.apply(oA,B))}y=E}if(B=!1,y!==2)continue}}if(y===1){xa(r,0),fs(r,s,0,!0);break}e:{switch(c=r,B=y,B){case 0:case 1:throw Error(A(345));case 4:if((s&4194048)!==s)break;case 6:fs(c,s,EA,!as);break e;case 2:oA=null;break;case 3:case 5:break;default:throw Error(A(329))}if((s&62914560)===s&&(y=_f+300-Ft(),10<y)){if(fs(c,s,EA,!as),QA(c,0,!0)!==0)break e;Bi=s,c.timeoutHandle=CC(zw.bind(null,c,l,oA,If,bp,s,EA,So,Ra,as,B,"Throttled",-0,0),y);break e}zw(c,l,oA,If,bp,s,EA,So,Ra,as,B,null,-0,0)}}break}while(!0);Mr(r)}function zw(r,s,l,c,y,B,E,S,H,Y,Ae,se,W,j){if(r.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ar},Hw(s,B,se);var Ce=(B&62914560)===B?_f-Ft():(B&4194048)===B?kw-Ft():0;if(Ce=Px(se,Ce),Ce!==null){Bi=B,r.cancelPendingCommit=Ce(eC.bind(null,r,s,B,l,c,y,E,S,H,Ae,se,null,W,j)),fs(r,B,E,!Y);return}}eC(r,s,B,l,c,y,E,S,H)}function tx(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var y=l[c],B=y.getSnapshot;y=y.value;try{if(!yA(B(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fs(r,s,l,c){s&=~Rp,s&=~So,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var y=s;0<y;){var B=31-Qt(y),E=1<<B;c[B]=-1,y&=~E}l!==0&&jr(r,l,s)}function Sf(){return(ct&6)===0?(gu(0),!1):!0}function Mp(){if(Ye!==null){if(ht===0)var r=Ye.return;else r=Ye,ai=yo=null,Zg(r),Ea=null,$l=0,r=Ye;for(;r!==null;)Ew(r.alternate,r),r=r.return;Ye=null}}function xa(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,wx(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Bi=0,Mp(),Ct=r,Ye=l=si(r.current,null),We=s,ht=0,CA=null,as=!1,Qa=hA(r,s),Qp=!1,Ra=EA=Rp=So=ls=Yt=0,oA=du=null,bp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var y=31-Qt(c),B=1<<y;s|=r[y],c&=~B}return yi=s,Jc(),l}function Jw(r,s){Ge=null,q.H=iu,s===Ca||s===tf?(s=lv(),ht=3):s===Vg?(s=lv(),ht=4):ht=s===hp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,CA=s,Ye===null&&(Yt=1,pf(r,OA(s,r.current)))}function Yw(){var r=vA.current;return r===null?!0:(We&4194048)===We?qA===null:(We&62914560)===We||(We&536870912)!==0?r===qA:!1}function Xw(){var r=q.H;return q.H=iu,r===null?iu:r}function Ww(){var r=q.A;return q.A=jb,r}function Uf(){Yt=4,as||(We&4194048)!==We&&vA.current!==null||(Qa=!0),(ls&134217727)===0&&(So&134217727)===0||Ct===null||fs(Ct,We,EA,!1)}function Lp(r,s,l){var c=ct;ct|=2;var y=Xw(),B=Ww();(Ct!==r||We!==s)&&(If=null,xa(r,s)),s=!1;var E=Yt;e:do try{if(ht!==0&&Ye!==null){var S=Ye,H=CA;switch(ht){case 8:Mp(),E=6;break e;case 3:case 2:case 9:case 6:vA.current===null&&(s=!0);var Y=ht;if(ht=0,CA=null,Na(r,S,H,Y),l&&Qa){E=0;break e}break;default:Y=ht,ht=0,CA=null,Na(r,S,H,Y)}}nx(),E=Yt;break}catch(Ae){Jw(r,Ae)}while(!0);return s&&r.shellSuspendCounter++,ai=yo=null,ct=c,q.H=y,q.A=B,Ye===null&&(Ct=null,We=0,Jc()),E}function nx(){for(;Ye!==null;)$w(Ye)}function Ax(r,s){var l=ct;ct|=2;var c=Xw(),y=Ww();Ct!==r||We!==s?(If=null,Tf=Ft()+500,xa(r,s)):Qa=hA(r,s);e:do try{if(ht!==0&&Ye!==null){s=Ye;var B=CA;t:switch(ht){case 1:ht=0,CA=null,Na(r,s,B,1);break;case 2:case 9:if(ov(B)){ht=0,CA=null,Zw(s);break}s=function(){ht!==2&&ht!==9||Ct!==r||(ht=7),Mr(r)},B.then(s,s);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:ov(B)?(ht=0,CA=null,Zw(s)):(ht=0,CA=null,Na(r,s,B,7));break;case 5:var E=null;switch(Ye.tag){case 26:E=Ye.memoizedState;case 5:case 27:var S=Ye;if(E?LC(E):S.stateNode.complete){ht=0,CA=null;var H=S.sibling;if(H!==null)Ye=H;else{var Y=S.return;Y!==null?(Ye=Y,Ff(Y)):Ye=null}break t}}ht=0,CA=null,Na(r,s,B,5);break;case 6:ht=0,CA=null,Na(r,s,B,6);break;case 8:Mp(),Yt=6;break e;default:throw Error(A(462))}}rx();break}catch(Ae){Jw(r,Ae)}while(!0);return ai=yo=null,q.H=c,q.A=y,ct=l,Ye!==null?0:(Ct=null,We=0,Jc(),Yt)}function rx(){for(;Ye!==null&&!Oi();)$w(Ye)}function $w(r){var s=ww(r.alternate,r,yi);r.memoizedProps=r.pendingProps,s===null?Ff(r):Ye=s}function Zw(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=gw(l,s,s.pendingProps,s.type,void 0,We);break;case 11:s=gw(l,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Zg(s);default:Ew(l,s),s=Ye=WB(s,yi),s=ww(l,s,yi)}r.memoizedProps=r.pendingProps,s===null?Ff(r):Ye=s}function Na(r,s,l,c){ai=yo=null,Zg(s),Ea=null,$l=0;var y=s.return;try{if(zb(r,y,s,l,We)){Yt=1,pf(r,OA(l,r.current)),Ye=null;return}}catch(B){if(y!==null)throw Ye=y,B;Yt=1,pf(r,OA(l,r.current)),Ye=null;return}s.flags&32768?(nt||c===1?r=!0:Qa||(We&536870912)!==0?r=!1:(as=r=!0,(c===2||c===9||c===3||c===6)&&(c=vA.current,c!==null&&c.tag===13&&(c.flags|=16384))),jw(s,r)):Ff(s)}function Ff(r){var s=r;do{if((s.flags&32768)!==0){jw(s,as);return}r=s.return;var l=Xb(s.alternate,s,yi);if(l!==null){Ye=l;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=r}while(s!==null);Yt===0&&(Yt=5)}function jw(r,s){do{var l=Wb(r.alternate,r);if(l!==null){l.flags&=32767,Ye=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Ye=r;return}Ye=r=l}while(r!==null);Yt=6,Ye=null}function eC(r,s,l,c,y,B,E,S,H){r.cancelPendingCommit=null;do Qf();while(hn!==0);if((ct&6)!==0)throw Error(A(327));if(s!==null){if(s===r.current)throw Error(A(177));if(B=s.lanes|s.childLanes,B|=Tg,eo(r,l,B,E,S,H),r===Ct&&(Ye=Ct=null,We=0),ba=s,cs=r,Bi=l,xp=B,Np=y,Kw=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ax(dn,function(){return iC(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,y=ue.p,ue.p=2,E=ct,ct|=4;try{$b(r,s,l)}finally{ct=E,ue.p=y,q.T=c}}hn=1,tC(),nC(),AC()}}function tC(){if(hn===1){hn=0;var r=cs,s=ba,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var c=ue.p;ue.p=2;var y=ct;ct|=4;try{Dw(s,r);var B=Xp,E=OB(r.containerInfo),S=B.focusedElem,H=B.selectionRange;if(E!==S&&S&&S.ownerDocument&&VB(S.ownerDocument.documentElement,S)){if(H!==null&&vg(S)){var Y=H.start,Ae=H.end;if(Ae===void 0&&(Ae=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(Ae,S.value.length);else{var se=S.ownerDocument||document,W=se&&se.defaultView||window;if(W.getSelection){var j=W.getSelection(),Ce=S.textContent.length,be=Math.min(H.start,Ce),vt=H.end===void 0?be:Math.min(H.end,Ce);!j.extend&&be>vt&&(E=vt,vt=be,be=E);var K=PB(S,be),O=PB(S,vt);if(K&&O&&(j.rangeCount!==1||j.anchorNode!==K.node||j.anchorOffset!==K.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var J=se.createRange();J.setStart(K.node,K.offset),j.removeAllRanges(),be>vt?(j.addRange(J),j.extend(O.node,O.offset)):(J.setEnd(O.node,O.offset),j.addRange(J))}}}}for(se=[],j=S;j=j.parentNode;)j.nodeType===1&&se.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}kf=!!Yp,Xp=Yp=null}finally{ct=y,ue.p=c,q.T=l}}r.current=s,hn=2}}function nC(){if(hn===2){hn=0;var r=cs,s=ba,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var c=ue.p;ue.p=2;var y=ct;ct|=4;try{Qw(r,s.alternate,s)}finally{ct=y,ue.p=c,q.T=l}}hn=3}}function AC(){if(hn===4||hn===3){hn=0,$o();var r=cs,s=ba,l=Bi,c=Kw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?hn=5:(hn=0,ba=cs=null,rC(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(us=null),qn(l),s=s.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(eA,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=q.T,y=ue.p,ue.p=2,q.T=null;try{for(var B=r.onRecoverableError,E=0;E<c.length;E++){var S=c[E];B(S.value,{componentStack:S.stack})}}finally{q.T=s,ue.p=y}}(Bi&3)!==0&&Qf(),Mr(r),y=r.pendingLanes,(l&261930)!==0&&(y&42)!==0?r===Dp?hu++:(hu=0,Dp=r):hu=0,gu(0)}}function rC(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Xl(s)))}function Qf(){return tC(),nC(),AC(),iC()}function iC(){if(hn!==5)return!1;var r=cs,s=xp;xp=0;var l=qn(Bi),c=q.T,y=ue.p;try{ue.p=32>l?32:l,q.T=null,l=Np,Np=null;var B=cs,E=Bi;if(hn=0,ba=cs=null,Bi=0,(ct&6)!==0)throw Error(A(331));var S=ct;if(ct|=4,Vw(B.current),Lw(B,B.current,E,l),ct=S,gu(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(eA,B)}catch{}return!0}finally{ue.p=y,q.T=c,rC(r,s)}}function sC(r,s,l){s=OA(l,s),s=dp(r.stateNode,s,2),r=rs(r,s,2),r!==null&&(Zr(r,2),Mr(r))}function gt(r,s,l){if(r.tag===3)sC(r,r,l);else for(;s!==null;){if(s.tag===3){sC(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(us===null||!us.has(c))){r=OA(l,r),l=ow(2),c=rs(s,l,2),c!==null&&(aw(l,c,s,r),Zr(c,2),Mr(c));break}}s=s.return}}function Hp(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new ex;var y=new Set;c.set(s,y)}else y=c.get(s),y===void 0&&(y=new Set,c.set(s,y));y.has(l)||(Qp=!0,y.add(l),r=ix.bind(null,r,s,l),s.then(r,r))}function ix(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Ct===r&&(We&l)===l&&(Yt===4||Yt===3&&(We&62914560)===We&&300>Ft()-_f?(ct&2)===0&&xa(r,0):Rp|=l,Ra===We&&(Ra=0)),Mr(r)}function oC(r,s){s===0&&(s=ea()),r=go(r,s),r!==null&&(Zr(r,s),Mr(r))}function sx(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),oC(r,l)}function ox(r,s){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(A(314))}c!==null&&c.delete(s),oC(r,l)}function ax(r,s){return Ot(r,s)}var Rf=null,Da=null,Pp=!1,bf=!1,Vp=!1,ds=0;function Mr(r){r!==Da&&r.next===null&&(Da===null?Rf=Da=r:Da=Da.next=r),bf=!0,Pp||(Pp=!0,ux())}function gu(r,s){if(!Vp&&bf){Vp=!0;do for(var l=!1,c=Rf;c!==null;){if(r!==0){var y=c.pendingLanes;if(y===0)var B=0;else{var E=c.suspendedLanes,S=c.pingedLanes;B=(1<<31-Qt(42|r)+1)-1,B&=y&~(E&~S),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(l=!0,cC(c,B))}else B=We,B=QA(c,c===Ct?B:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(B&3)===0||hA(c,B)||(l=!0,cC(c,B));c=c.next}while(l);Vp=!1}}function lx(){aC()}function aC(){bf=Pp=!1;var r=0;ds!==0&&vx()&&(r=ds);for(var s=Ft(),l=null,c=Rf;c!==null;){var y=c.next,B=lC(c,s);B===0?(c.next=null,l===null?Rf=y:l.next=y,y===null&&(Da=l)):(l=c,(r!==0||(B&3)!==0)&&(bf=!0)),c=y}hn!==0&&hn!==5||gu(r),ds!==0&&(ds=0)}function lC(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,y=r.expirationTimes,B=r.pendingLanes&-62914561;0<B;){var E=31-Qt(B),S=1<<E,H=y[E];H===-1?((S&l)===0||(S&c)!==0)&&(y[E]=xl(S,s)):H<=s&&(r.expiredLanes|=S),B&=~S}if(s=Ct,l=We,l=QA(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(ht===2||ht===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&fA(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||hA(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&fA(c),qn(l)){case 2:case 8:l=Zs;break;case 32:l=dn;break;case 268435456:l=js;break;default:l=dn}return c=uC.bind(null,r),l=Ot(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&fA(c),r.callbackPriority=2,r.callbackNode=null,2}function uC(r,s){if(hn!==0&&hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Qf()&&r.callbackNode!==l)return null;var c=We;return c=QA(r,r===Ct?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(qw(r,c,s),lC(r,Ft()),r.callbackNode!=null&&r.callbackNode===l?uC.bind(null,r):null)}function cC(r,s){if(Qf())return null;qw(r,s,!0)}function ux(){Cx(function(){(ct&6)!==0?Ot(ki,lx):aC()})}function Op(){if(ds===0){var r=va;r===0&&(r=dA,dA<<=1,(dA&261888)===0&&(dA=256)),ds=r}return ds}function fC(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ia(""+r)}function dC(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function cx(r,s,l,c,y){if(s==="submit"&&l&&l.stateNode===y){var B=fC((y[Gt]||null).action),E=c.submitter;E&&(s=(s=E[Gt]||null)?fC(s.formAction):E.getAttribute("formAction"),s!==null&&(B=s,E=null));var S=new Fr("action","action",null,c,y);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ds!==0){var H=E?dC(y,E):new FormData(y);op(l,{pending:!0,data:H,method:y.method,action:B},null,H)}}else typeof B=="function"&&(S.preventDefault(),H=E?dC(y,E):new FormData(y),op(l,{pending:!0,data:H,method:y.method,action:B},B,H))},currentTarget:y}]})}}for(var kp=0;kp<_g.length;kp++){var Kp=_g[kp],fx=Kp.toLowerCase(),dx=Kp[0].toUpperCase()+Kp.slice(1);ar(fx,"on"+dx)}ar(GB,"onAnimationEnd"),ar(qB,"onAnimationIteration"),ar(zB,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(Fb,"onTransitionRun"),ar(Qb,"onTransitionStart"),ar(Rb,"onTransitionCancel"),ar(JB,"onTransitionEnd"),Ee("onMouseEnter",["mouseout","mouseover"]),Ee("onMouseLeave",["mouseout","mouseover"]),Ee("onPointerEnter",["pointerout","pointerover"]),Ee("onPointerLeave",["pointerout","pointerover"]),de("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),de("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),de("onBeforeInput",["compositionend","keypress","textInput","paste"]),de("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function hC(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],y=c.event;c=c.listeners;e:{var B=void 0;if(s)for(var E=c.length-1;0<=E;E--){var S=c[E],H=S.instance,Y=S.currentTarget;if(S=S.listener,H!==B&&y.isPropagationStopped())break e;B=S,y.currentTarget=Y;try{B(y)}catch(Ae){zc(Ae)}y.currentTarget=null,B=H}else for(E=0;E<c.length;E++){if(S=c[E],H=S.instance,Y=S.currentTarget,S=S.listener,H!==B&&y.isPropagationStopped())break e;B=S,y.currentTarget=Y;try{B(y)}catch(Ae){zc(Ae)}y.currentTarget=null,B=H}}}}function Xe(r,s){var l=s[Gi];l===void 0&&(l=s[Gi]=new Set);var c=r+"__bubble";l.has(c)||(gC(s,r,2,!1),l.add(c))}function Gp(r,s,l){var c=0;s&&(c|=4),gC(l,r,c,s)}var xf="_reactListening"+Math.random().toString(36).slice(2);function qp(r){if(!r[xf]){r[xf]=!0,ee.forEach(function(l){l!=="selectionchange"&&(hx.has(l)||Gp(l,!1,r),Gp(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[xf]||(s[xf]=!0,Gp("selectionchange",!1,s))}}function gC(r,s,l,c){switch(GC(s)){case 2:var y=kx;break;case 8:y=Kx;break;default:y=sm}l=y.bind(null,s,l,r),y=void 0,!so||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),c?y!==void 0?r.addEventListener(s,l,{capture:!0,passive:y}):r.addEventListener(s,l,!0):y!==void 0?r.addEventListener(s,l,{passive:y}):r.addEventListener(s,l,!1)}function zp(r,s,l,c,y){var B=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var S=c.stateNode.containerInfo;if(S===y)break;if(E===4)for(E=c.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;S!==null;){if(E=NA(S),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){c=B=E;continue e}S=S.parentNode}}c=c.return}Yi(function(){var Y=B,Ae=LA(l),se=[];e:{var W=YB.get(r);if(W!==void 0){var j=Fr,Ce=r;switch(r){case"keypress":if(ao(l)===0)break e;case"keydown":case"keyup":j=Kc;break;case"focusin":Ce="focus",j=uo;break;case"focusout":Ce="blur",j=uo;break;case"beforeblur":case"afterblur":j=uo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=C;break;case GB:case qB:case zB:j=Mc;break;case JB:j=F;break;case"scroll":case"scrollend":j=Vl;break;case"wheel":j=Z;break;case"copy":case"cut":case"paste":j=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=ii;break;case"toggle":case"beforetoggle":j=Ke}var be=(s&4)!==0,vt=!be&&(r==="scroll"||r==="scrollend"),K=be?W!==null?W+"Capture":null:W;be=[];for(var O=Y,J;O!==null;){var ie=O;if(J=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||J===null||K===null||(ie=rr(O,K),ie!=null&&be.push(mu(O,ie,J))),vt)break;O=O.return}0<be.length&&(W=new j(W,Ce,null,l,Ae),se.push({event:W,listeners:be}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",j=r==="mouseout"||r==="pointerout",W&&l!==Ll&&(Ce=l.relatedTarget||l.fromElement)&&(NA(Ce)||Ce[bA]))break e;if((j||W)&&(W=Ae.window===Ae?Ae:(W=Ae.ownerDocument)?W.defaultView||W.parentWindow:window,j?(Ce=l.relatedTarget||l.toElement,j=Y,Ce=Ce?NA(Ce):null,Ce!==null&&(vt=o(Ce),be=Ce.tag,Ce!==vt||be!==5&&be!==27&&be!==6)&&(Ce=null)):(j=null,Ce=Y),j!==Ce)){if(be=Ol,ie="onMouseLeave",K="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(be=ii,ie="onPointerLeave",K="onPointerEnter",O="pointer"),vt=j==null?W:zn(j),J=Ce==null?W:zn(Ce),W=new be(ie,O+"leave",j,l,Ae),W.target=vt,W.relatedTarget=J,ie=null,NA(Ae)===Y&&(be=new be(K,O+"enter",Ce,l,Ae),be.target=J,be.relatedTarget=vt,ie=be),vt=ie,j&&Ce)t:{for(be=gx,K=j,O=Ce,J=0,ie=K;ie;ie=be(ie))J++;ie=0;for(var Ue=O;Ue;Ue=be(Ue))ie++;for(;0<J-ie;)K=be(K),J--;for(;0<ie-J;)O=be(O),ie--;for(;J--;){if(K===O||O!==null&&K===O.alternate){be=K;break t}K=be(K),O=be(O)}be=null}else be=null;j!==null&&pC(se,W,j,be,!1),Ce!==null&&vt!==null&&pC(se,vt,Ce,be,!0)}}e:{if(W=Y?zn(Y):window,j=W.nodeName&&W.nodeName.toLowerCase(),j==="select"||j==="input"&&W.type==="file")var it=xB;else if(RB(W))if(NB)it=Ib;else{it=_b;var Te=Eb}else j=W.nodeName,!j||j.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&ra(Y.elementType)&&(it=xB):it=Tb;if(it&&(it=it(r,Y))){bB(se,it,l,Ae);break e}Te&&Te(r,W,Y),r==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&ro(W,"number",W.value)}switch(Te=Y?zn(Y):window,r){case"focusin":(RB(Te)||Te.contentEditable==="true")&&(fa=Te,wg=Y,zl=null);break;case"focusout":zl=wg=fa=null;break;case"mousedown":Cg=!0;break;case"contextmenu":case"mouseup":case"dragend":Cg=!1,kB(se,l,Ae);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":kB(se,l,Ae)}var qe;if(ut)e:{switch(r){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ca?co(r,l)&&($e="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(br&&l.locale!=="ko"&&(ca||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ca&&(qe=Pl()):(Ur=Ae,Hl="value"in Ur?Ur.value:Ur.textContent,ca=!0)),Te=Nf(Y,$e),0<Te.length&&($e=new Rr($e,r,null,l,Ae),se.push({event:$e,listeners:Te}),qe?$e.data=qe:(qe=ua(l),qe!==null&&($e.data=qe)))),(qe=PA?Bb(r,l):vb(r,l))&&($e=Nf(Y,"onBeforeInput"),0<$e.length&&(Te=new Rr("onBeforeInput","beforeinput",null,l,Ae),se.push({event:Te,listeners:$e}),Te.data=qe)),cx(se,r,Y,l,Ae)}hC(se,s)})}function mu(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Nf(r,s){for(var l=s+"Capture",c=[];r!==null;){var y=r,B=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||B===null||(y=rr(r,l),y!=null&&c.unshift(mu(r,y,B)),y=rr(r,s),y!=null&&c.push(mu(r,y,B))),r.tag===3)return c;r=r.return}return[]}function gx(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pC(r,s,l,c,y){for(var B=s._reactName,E=[];l!==null&&l!==c;){var S=l,H=S.alternate,Y=S.stateNode;if(S=S.tag,H!==null&&H===c)break;S!==5&&S!==26&&S!==27||Y===null||(H=Y,y?(Y=rr(l,B),Y!=null&&E.unshift(mu(l,Y,H))):y||(Y=rr(l,B),Y!=null&&E.push(mu(l,Y,H)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var px=/\r\n?/g,mx=/\u0000|\uFFFD/g;function mC(r){return(typeof r=="string"?r:""+r).replace(px,`
`).replace(mx,"")}function yC(r,s){return s=mC(s),mC(r)===s}function Bt(r,s,l,c,y,B){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||AA(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&AA(r,""+c);break;case"className":rt(r,"class",c);break;case"tabIndex":rt(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(r,l,c);break;case"style":Ml(r,c,B);break;case"data":if(s!=="object"){rt(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=ia(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(l==="formAction"?(s!=="input"&&Bt(r,s,"name",y.name,y,null),Bt(r,s,"formEncType",y.formEncType,y,null),Bt(r,s,"formMethod",y.formMethod,y,null),Bt(r,s,"formTarget",y.formTarget,y,null)):(Bt(r,s,"encType",y.encType,y,null),Bt(r,s,"method",y.method,y,null),Bt(r,s,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=ia(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Ar);break;case"onScroll":c!=null&&Xe("scroll",r);break;case"onScrollEnd":c!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(A(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(A(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=ia(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),zt(r,"popover",c);break;case"xlinkActuate":_t(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_t(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_t(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_t(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_t(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_t(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_t(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_t(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_t(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":zt(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xc.get(l)||l,zt(r,l,c))}}function Jp(r,s,l,c,y,B){switch(l){case"style":Ml(r,c,B);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(A(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(A(60));r.innerHTML=l}}break;case"children":typeof c=="string"?AA(r,c):(typeof c=="number"||typeof c=="bigint")&&AA(r,""+c);break;case"onScroll":c!=null&&Xe("scroll",r);break;case"onScrollEnd":c!=null&&Xe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pe.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),B=r[Gt]||null,B=B!=null?B[l]:null,typeof B=="function"&&r.removeEventListener(s,B,y),typeof c=="function")){typeof B!="function"&&B!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,y);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):zt(r,l,c)}}}function Un(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var c=!1,y=!1,B;for(B in l)if(l.hasOwnProperty(B)){var E=l[B];if(E!=null)switch(B){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,s));default:Bt(r,s,B,E,l,null)}}y&&Bt(r,s,"srcSet",l.srcSet,l,null),c&&Bt(r,s,"src",l.src,l,null);return;case"input":Xe("invalid",r);var S=B=E=y=null,H=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var Ae=l[c];if(Ae!=null)switch(c){case"name":y=Ae;break;case"type":E=Ae;break;case"checked":H=Ae;break;case"defaultChecked":Y=Ae;break;case"value":B=Ae;break;case"defaultValue":S=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(A(137,s));break;default:Bt(r,s,c,Ae,l,null)}}Aa(r,B,S,H,Y,E,y,!1);return;case"select":Xe("invalid",r),c=E=B=null;for(y in l)if(l.hasOwnProperty(y)&&(S=l[y],S!=null))switch(y){case"value":B=S;break;case"defaultValue":E=S;break;case"multiple":c=S;default:Bt(r,s,y,S,l,null)}s=B,l=E,r.multiple=!!c,s!=null?MA(r,!!c,s,!1):l!=null&&MA(r,!!c,l,!0);return;case"textarea":Xe("invalid",r),B=y=c=null;for(E in l)if(l.hasOwnProperty(E)&&(S=l[E],S!=null))switch(E){case"value":c=S;break;case"defaultValue":y=S;break;case"children":B=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(A(91));break;default:Bt(r,s,E,S,l,null)}qi(r,c,y,B);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(r,s,H,c,l,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(c=0;c<pu.length;c++)Xe(pu[c],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,s));default:Bt(r,s,Y,c,l,null)}return;default:if(ra(s)){for(Ae in l)l.hasOwnProperty(Ae)&&(c=l[Ae],c!==void 0&&Jp(r,s,Ae,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&Bt(r,s,S,c,l,null))}function yx(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,B=null,E=null,S=null,H=null,Y=null,Ae=null;for(j in l){var se=l[j];if(l.hasOwnProperty(j)&&se!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":H=se;default:c.hasOwnProperty(j)||Bt(r,s,j,null,c,se)}}for(var W in c){var j=c[W];if(se=l[W],c.hasOwnProperty(W)&&(j!=null||se!=null))switch(W){case"type":B=j;break;case"name":y=j;break;case"checked":Y=j;break;case"defaultChecked":Ae=j;break;case"value":E=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(A(137,s));break;default:j!==se&&Bt(r,s,W,j,c,se)}}ni(r,E,S,H,Y,Ae,B,y);return;case"select":j=E=S=W=null;for(B in l)if(H=l[B],l.hasOwnProperty(B)&&H!=null)switch(B){case"value":break;case"multiple":j=H;default:c.hasOwnProperty(B)||Bt(r,s,B,null,c,H)}for(y in c)if(B=c[y],H=l[y],c.hasOwnProperty(y)&&(B!=null||H!=null))switch(y){case"value":W=B;break;case"defaultValue":S=B;break;case"multiple":E=B;default:B!==H&&Bt(r,s,y,B,c,H)}s=S,l=E,c=j,W!=null?MA(r,!!l,W,!1):!!c!=!!l&&(s!=null?MA(r,!!l,s,!0):MA(r,!!l,l?[]:"",!1));return;case"textarea":j=W=null;for(S in l)if(y=l[S],l.hasOwnProperty(S)&&y!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Bt(r,s,S,null,c,y)}for(E in c)if(y=c[E],B=l[E],c.hasOwnProperty(E)&&(y!=null||B!=null))switch(E){case"value":W=y;break;case"defaultValue":j=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(A(91));break;default:y!==B&&Bt(r,s,E,y,c,B)}Rc(r,W,j);return;case"option":for(var Ce in l)if(W=l[Ce],l.hasOwnProperty(Ce)&&W!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:Bt(r,s,Ce,null,c,W)}for(H in c)if(W=c[H],j=l[H],c.hasOwnProperty(H)&&W!==j&&(W!=null||j!=null))switch(H){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Bt(r,s,H,W,c,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)W=l[be],l.hasOwnProperty(be)&&W!=null&&!c.hasOwnProperty(be)&&Bt(r,s,be,null,c,W);for(Y in c)if(W=c[Y],j=l[Y],c.hasOwnProperty(Y)&&W!==j&&(W!=null||j!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(A(137,s));break;default:Bt(r,s,Y,W,c,j)}return;default:if(ra(s)){for(var vt in l)W=l[vt],l.hasOwnProperty(vt)&&W!==void 0&&!c.hasOwnProperty(vt)&&Jp(r,s,vt,void 0,c,W);for(Ae in c)W=c[Ae],j=l[Ae],!c.hasOwnProperty(Ae)||W===j||W===void 0&&j===void 0||Jp(r,s,Ae,W,c,j);return}}for(var K in l)W=l[K],l.hasOwnProperty(K)&&W!=null&&!c.hasOwnProperty(K)&&Bt(r,s,K,null,c,W);for(se in c)W=c[se],j=l[se],!c.hasOwnProperty(se)||W===j||W==null&&j==null||Bt(r,s,se,W,c,j)}function BC(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var y=l[c],B=y.transferSize,E=y.initiatorType,S=y.duration;if(B&&S&&BC(E)){for(E=0,S=y.responseEnd,c+=1;c<l.length;c++){var H=l[c],Y=H.startTime;if(Y>S)break;var Ae=H.transferSize,se=H.initiatorType;Ae&&BC(se)&&(H=H.responseEnd,E+=Ae*(H<S?1:(S-Y)/(H-Y)))}if(--c,s+=8*(B+E)/(y.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Yp=null,Xp=null;function Df(r){return r.nodeType===9?r:r.ownerDocument}function vC(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wC(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Wp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $p=null;function vx(){var r=window.event;return r&&r.type==="popstate"?r===$p?!1:($p=r,!0):($p=null,!1)}var CC=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,EC=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof EC<"u"?function(r){return EC.resolve(null).then(r).catch(Ex)}:CC;function Ex(r){setTimeout(function(){throw r})}function hs(r){return r==="head"}function _C(r,s){var l=s,c=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(y),Pa(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")yu(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,yu(l);for(var B=l.firstChild;B;){var E=B.nextSibling,S=B.nodeName;B[xA]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&B.rel.toLowerCase()==="stylesheet"||l.removeChild(B),B=E}}else l==="body"&&yu(r.ownerDocument.body);l=y}while(l);Pa(s)}function TC(r,s){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function Zp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zp(l),ti(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function _x(r,s,l,c){for(;r.nodeType===1;){var y=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[xA])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(B=r.getAttribute("rel"),B==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(B!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(B=r.getAttribute("src"),(B!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&B&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var B=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===B)return r}else return r;if(r=zA(r.nextSibling),r===null)break}return null}function Tx(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=zA(r.nextSibling),r===null))return null;return r}function IC(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=zA(r.nextSibling),r===null))return null;return r}function jp(r){return r.data==="$?"||r.data==="$~"}function em(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Ix(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function zA(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var tm=null;function SC(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return zA(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function UC(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function FC(r,s,l){switch(s=Df(l),r){case"html":if(r=s.documentElement,!r)throw Error(A(452));return r;case"head":if(r=s.head,!r)throw Error(A(453));return r;case"body":if(r=s.body,!r)throw Error(A(454));return r;default:throw Error(A(451))}}function yu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ti(r)}var JA=new Map,QC=new Set;function Mf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var vi=ue.d;ue.d={f:Sx,r:Ux,D:Fx,C:Qx,L:Rx,m:bx,X:Nx,S:xx,M:Dx};function Sx(){var r=vi.f(),s=Sf();return r||s}function Ux(r){var s=tA(r);s!==null&&s.tag===5&&s.type==="form"?Jv(s):vi.r(r)}var Ma=typeof document>"u"?null:document;function RC(r,s,l){var c=Ma;if(c&&typeof s=="string"&&s){var y=Nn(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),QC.has(y)||(QC.add(y),r={rel:r,crossOrigin:l,href:s},c.querySelector(y)===null&&(s=c.createElement("link"),Un(s,"link",r),qt(s),c.head.appendChild(s)))}}function Fx(r){vi.D(r),RC("dns-prefetch",r,null)}function Qx(r,s){vi.C(r,s),RC("preconnect",r,s)}function Rx(r,s,l){vi.L(r,s,l);var c=Ma;if(c&&r&&s){var y='link[rel="preload"][as="'+Nn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Nn(l.imageSizes)+'"]')):y+='[href="'+Nn(r)+'"]';var B=y;switch(s){case"style":B=La(r);break;case"script":B=Ha(r)}JA.has(B)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),JA.set(B,r),c.querySelector(y)!==null||s==="style"&&c.querySelector(Bu(B))||s==="script"&&c.querySelector(vu(B))||(s=c.createElement("link"),Un(s,"link",r),qt(s),c.head.appendChild(s)))}}function bx(r,s){vi.m(r,s);var l=Ma;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Nn(c)+'"][href="'+Nn(r)+'"]',B=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=Ha(r)}if(!JA.has(B)&&(r=v({rel:"modulepreload",href:r},s),JA.set(B,r),l.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vu(B)))return}c=l.createElement("link"),Un(c,"link",r),qt(c),l.head.appendChild(c)}}}function xx(r,s,l){vi.S(r,s,l);var c=Ma;if(c&&r){var y=pA(c).hoistableStyles,B=La(r);s=s||"default";var E=y.get(B);if(!E){var S={loading:0,preload:null};if(E=c.querySelector(Bu(B)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=JA.get(B))&&nm(r,l);var H=E=c.createElement("link");qt(H),Un(H,"link",r),H._p=new Promise(function(Y,Ae){H.onload=Y,H.onerror=Ae}),H.addEventListener("load",function(){S.loading|=1}),H.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lf(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:S},y.set(B,E)}}}function Nx(r,s){vi.X(r,s);var l=Ma;if(l&&r){var c=pA(l).hoistableScripts,y=Ha(r),B=c.get(y);B||(B=l.querySelector(vu(y)),B||(r=v({src:r,async:!0},s),(s=JA.get(y))&&Am(r,s),B=l.createElement("script"),qt(B),Un(B,"link",r),l.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},c.set(y,B))}}function Dx(r,s){vi.M(r,s);var l=Ma;if(l&&r){var c=pA(l).hoistableScripts,y=Ha(r),B=c.get(y);B||(B=l.querySelector(vu(y)),B||(r=v({src:r,async:!0,type:"module"},s),(s=JA.get(y))&&Am(r,s),B=l.createElement("script"),qt(B),Un(B,"link",r),l.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},c.set(y,B))}}function bC(r,s,l,c){var y=(y=Se.current)?Mf(y):null;if(!y)throw Error(A(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=La(l.href),l=pA(y).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=La(l.href);var B=pA(y).hoistableStyles,E=B.get(r);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(r,E),(B=y.querySelector(Bu(r)))&&!B._p&&(E.instance=B,E.state.loading=5),JA.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},JA.set(r,l),B||Mx(y,r,l,E.state))),s&&c===null)throw Error(A(528,""));return E}if(s&&c!==null)throw Error(A(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ha(l),l=pA(y).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,r))}}function La(r){return'href="'+Nn(r)+'"'}function Bu(r){return'link[rel="stylesheet"]['+r+"]"}function xC(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Mx(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Un(s,"link",l),qt(s),r.head.appendChild(s))}function Ha(r){return'[src="'+Nn(r)+'"]'}function vu(r){return"script[async]"+r}function NC(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Nn(l.href)+'"]');if(c)return s.instance=c,qt(c),c;var y=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),qt(c),Un(c,"style",y),Lf(c,l.precedence,r),s.instance=c;case"stylesheet":y=La(l.href);var B=r.querySelector(Bu(y));if(B)return s.state.loading|=4,s.instance=B,qt(B),B;c=xC(l),(y=JA.get(y))&&nm(c,y),B=(r.ownerDocument||r).createElement("link"),qt(B);var E=B;return E._p=new Promise(function(S,H){E.onload=S,E.onerror=H}),Un(B,"link",c),s.state.loading|=4,Lf(B,l.precedence,r),s.instance=B;case"script":return B=Ha(l.src),(y=r.querySelector(vu(B)))?(s.instance=y,qt(y),y):(c=l,(y=JA.get(B))&&(c=v({},l),Am(c,y)),r=r.ownerDocument||r,y=r.createElement("script"),qt(y),Un(y,"link",c),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(A(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Lf(c,l.precedence,r));return s.instance}function Lf(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,B=y,E=0;E<c.length;E++){var S=c[E];if(S.dataset.precedence===s)B=S;else if(B!==y)break}B?B.parentNode.insertBefore(r,B.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function nm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Am(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Hf=null;function DC(r,s,l){if(Hf===null){var c=new Map,y=Hf=new Map;y.set(l,c)}else y=Hf,c=y.get(l),c||(c=new Map,y.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),y=0;y<l.length;y++){var B=l[y];if(!(B[xA]||B[Rt]||r==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var E=B.getAttribute(s)||"";E=r+E;var S=c.get(E);S?S.push(B):c.set(E,[B])}}return c}function MC(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function Lx(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function LC(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Hx(r,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=La(c.href),B=s.querySelector(Bu(y));if(B){s=B._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Pf.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=B,qt(B);return}B=s.ownerDocument||s,c=xC(c),(y=JA.get(y))&&nm(c,y),B=B.createElement("link"),qt(B);var E=B;E._p=new Promise(function(S,H){E.onload=S,E.onerror=H}),Un(B,"link",c),l.instance=B}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Pf.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var rm=0;function Px(r,s){return r.stylesheets&&r.count===0&&Of(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&Of(r,r.stylesheets),r.unsuspend){var B=r.unsuspend;r.unsuspend=null,B()}},6e4+s);0<r.imgBytes&&rm===0&&(rm=62500*Bx());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Of(r,r.stylesheets),r.unsuspend)){var B=r.unsuspend;r.unsuspend=null,B()}},(r.imgBytes>rm?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function Pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Vf=null;function Of(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Vf=new Map,s.forEach(Vx,r),Vf=null,Pf.call(r))}function Vx(r,s){if(!(s.state.loading&4)){var l=Vf.get(r);if(l)var c=l.get(null);else{l=new Map,Vf.set(r,l);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<y.length;B++){var E=y[B];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}y=s.instance,E=y.getAttribute("data-precedence"),B=l.get(E)||c,B===c&&l.set(null,y),l.set(E,y),this.count++,c=Pf.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),B?B.parentNode.insertBefore(y,B.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var wu={$$typeof:X,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function Ox(r,s,l,c,y,B,E,S,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=RA(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RA(0),this.hiddenUpdates=RA(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=B,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function HC(r,s,l,c,y,B,E,S,H,Y,Ae,se){return r=new Ox(r,s,l,E,H,Y,Ae,se,S),s=1,B===!0&&(s|=24),B=BA(3,null,null,s),r.current=B,B.stateNode=r,s=Lg(),s.refCount++,r.pooledCache=s,s.refCount++,B.memoizedState={element:c,isDehydrated:l,cache:s},Og(B),r}function PC(r){return r?(r=ga,r):ga}function VC(r,s,l,c,y,B){y=PC(y),c.context===null?c.context=y:c.pendingContext=y,c=As(s),c.payload={element:l},B=B===void 0?null:B,B!==null&&(c.callback=B),l=rs(r,c,s),l!==null&&(aA(l,r,s),jl(l,r,s))}function OC(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function im(r,s){OC(r,s),(r=r.alternate)&&OC(r,s)}function kC(r){if(r.tag===13||r.tag===31){var s=go(r,67108864);s!==null&&aA(s,r,67108864),im(r,67108864)}}function KC(r){if(r.tag===13||r.tag===31){var s=_A();s=ei(s);var l=go(r,s);l!==null&&aA(l,r,s),im(r,s)}}var kf=!0;function kx(r,s,l,c){var y=q.T;q.T=null;var B=ue.p;try{ue.p=2,sm(r,s,l,c)}finally{ue.p=B,q.T=y}}function Kx(r,s,l,c){var y=q.T;q.T=null;var B=ue.p;try{ue.p=8,sm(r,s,l,c)}finally{ue.p=B,q.T=y}}function sm(r,s,l,c){if(kf){var y=om(c);if(y===null)zp(r,s,c,Kf,l),qC(r,c);else if(qx(y,r,s,l,c))c.stopPropagation();else if(qC(r,c),s&4&&-1<Gx.indexOf(r)){for(;y!==null;){var B=tA(y);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var E=FA(B.pendingLanes);if(E!==0){var S=B;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var H=1<<31-Qt(E);S.entanglements[1]|=H,E&=~H}Mr(B),(ct&6)===0&&(Tf=Ft()+500,gu(0))}}break;case 31:case 13:S=go(B,2),S!==null&&aA(S,B,2),Sf(),im(B,2)}if(B=om(c),B===null&&zp(r,s,c,Kf,l),B===y)break;y=B}y!==null&&c.stopPropagation()}else zp(r,s,c,null,l)}}function om(r){return r=LA(r),am(r)}var Kf=null;function am(r){if(Kf=null,r=NA(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=a(s),r!==null)return r;r=null}else if(l===31){if(r=u(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Kf=r,null}function GC(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jn()){case ki:return 2;case Zs:return 8;case dn:case bl:return 32;case js:return 268435456;default:return 32}default:return 32}}var lm=!1,gs=null,ps=null,ms=null,Cu=new Map,Eu=new Map,ys=[],Gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qC(r,s){switch(r){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(s.pointerId)}}function _u(r,s,l,c,y,B){return r===null||r.nativeEvent!==B?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:B,targetContainers:[y]},s!==null&&(s=tA(s),s!==null&&kC(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function qx(r,s,l,c,y){switch(s){case"focusin":return gs=_u(gs,r,s,l,c,y),!0;case"dragenter":return ps=_u(ps,r,s,l,c,y),!0;case"mouseover":return ms=_u(ms,r,s,l,c,y),!0;case"pointerover":var B=y.pointerId;return Cu.set(B,_u(Cu.get(B)||null,r,s,l,c,y)),!0;case"gotpointercapture":return B=y.pointerId,Eu.set(B,_u(Eu.get(B)||null,r,s,l,c,y)),!0}return!1}function zC(r){var s=NA(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=a(l),s!==null){r.blockedOn=s,gA(r.priority,function(){KC(l)});return}}else if(s===31){if(s=u(l),s!==null){r.blockedOn=s,gA(r.priority,function(){KC(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=om(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Ll=c,l.target.dispatchEvent(c),Ll=null}else return s=tA(l),s!==null&&kC(s),r.blockedOn=l,!1;s.shift()}return!0}function JC(r,s,l){Gf(r)&&l.delete(s)}function zx(){lm=!1,gs!==null&&Gf(gs)&&(gs=null),ps!==null&&Gf(ps)&&(ps=null),ms!==null&&Gf(ms)&&(ms=null),Cu.forEach(JC),Eu.forEach(JC)}function qf(r,s){r.blockedOn===s&&(r.blockedOn=null,lm||(lm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zx)))}var zf=null;function YC(r){zf!==r&&(zf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zf===r&&(zf=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],y=r[s+2];if(typeof c!="function"){if(am(c||l)===null)continue;break}var B=tA(l);B!==null&&(r.splice(s,3),s-=3,op(B,{pending:!0,data:y,method:l.method,action:c},c,y))}}))}function Pa(r){function s(H){return qf(H,r)}gs!==null&&qf(gs,r),ps!==null&&qf(ps,r),ms!==null&&qf(ms,r),Cu.forEach(s),Eu.forEach(s);for(var l=0;l<ys.length;l++){var c=ys[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ys.length&&(l=ys[0],l.blockedOn===null);)zC(l),l.blockedOn===null&&ys.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var y=l[c],B=l[c+1],E=y[Gt]||null;if(typeof B=="function")E||YC(l);else if(E){var S=null;if(B&&B.hasAttribute("formAction")){if(y=B,E=B[Gt]||null)S=E.formAction;else if(am(y)!==null)continue}else S=E.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),YC(l)}}}function XC(){function r(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function um(r){this._internalRoot=r}Jf.prototype.render=um.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(A(409));var l=s.current,c=_A();VC(l,c,r,s,null,null)},Jf.prototype.unmount=um.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;VC(r.current,2,null,r,null,null),Sf(),s[bA]=null}};function Jf(r){this._internalRoot=r}Jf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ao();r={blockedOn:null,target:r,priority:s};for(var l=0;l<ys.length&&s!==0&&s<ys[l].priority;l++);ys.splice(l,0,r),l===0&&zC(r)}};var WC=e.version;if(WC!=="19.2.3")throw Error(A(527,WC,"19.2.3"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(A(188)):(r=Object.keys(r).join(","),Error(A(268,r)));return r=d(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var Jx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{eA=Yf.inject(Jx),kt=Yf}catch{}}return Iu.createRoot=function(r,s){if(!i(r))throw Error(A(299));var l=!1,c="",y=Aw,B=rw,E=iw;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(B=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=HC(r,1,!1,null,null,l,c,null,y,B,E,XC),r[bA]=s.current,qp(r),new um(s)},Iu.hydrateRoot=function(r,s,l){if(!i(r))throw Error(A(299));var c=!1,y="",B=Aw,E=rw,S=iw,H=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(B=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(H=l.formState)),s=HC(r,1,!0,s,l??null,c,y,H,B,E,S,XC),s.context=PC(null),l=s.current,c=_A(),c=ei(c),y=As(c),y.callback=null,rs(l,y,c),l=c,s.current.lanes=l,Zr(s,l),Mr(s),r[bA]=s.current,qp(r),new Jf(s)},Iu.version="19.2.3",Iu}var sE;function r1(){if(sE)return dm.exports;sE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dm.exports=A1(),dm.exports}var i1=r1();const s1=IS(i1);var Re=(n=>(n.LANDING="LANDING",n.HOME="HOME",n.UPLOAD="UPLOAD",n.LOADING="LOADING",n.MENU="MENU",n.CHECKOUT="CHECKOUT",n.HISTORY="HISTORY",n.RECEIPT="RECEIPT",n.WORDPAL_HOME="WORDPAL_HOME",n.WORDPAL_UPLOAD="WORDPAL_UPLOAD",n.WORDPAL_RESULT="WORDPAL_RESULT",n.PORTABLE_TRANSLATOR="PORTABLE_TRANSLATOR",n))(Re||{});const Ht={Camera:()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a48.324 48.324 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]}),Photo:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),History:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Plus:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Minus:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})}),Navigation:()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),Check:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),ChevronLeft:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),Speaker:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}),Settings:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Logout:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),Locate:()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),Translate:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m10.5 21 5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802"})}),Rotate:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),Trash:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.062.397c-.34-.059-.68-.114-1.022-.166m1.022.165L5.474 4.073A2.25 2.25 0 0 1 7.718 2h8.564a2.25 2.25 0 0 1 2.243 2.073l.041.447m-13.395 0a48.108 48.108 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})},o1={en:{settings:"Settings",uiLanguage:"Interface Language",targetLanguage:"Target Language",apiKey:"API Key",apiKeyPlaceholder:"Paste API Key here...",getKey:"Get a free key here",save:"Save",saved:"Saved",cancel:"Cancel",appTitle:"AI Assistant",chooseTool:"Choose your tool",flavorPal:"FlavorPal",flavorPalDesc:"Smart Menu Translator & Order Manager",wordPal:"WordPal",wordPalDesc:"Instant Text Translation & OCR",portablePal:"Portable Translator",portablePalDesc:"Real-time Text Translation for Conversations",takePhoto:"Take Photo",uploadGallery:"Upload from Gallery",analyzeMenu:"Analyze Menu",translateText:"Translate Text",originalText:"Original Text",translation:"Translation",translateNew:"Translate New Text",history:"History",menu:"Menu",checkout:"Checkout",receipt:"Receipt",finishOrder:"Finish Order",estTotal:"Estimated Total",tip:"Tip: Ensure text is clear and well-lit.",didYouKnow:"DID YOU KNOW?",diningEtiquette:"Dining Etiquette",languageFact:"Language Fact",flavorFacts:[`"Did you know? In Italy, it's considered a crime to add parmesan cheese to a seafood pasta!"`,`"In Japan, slurping your noodles is a sign that you're enjoying the meal."`,'"French fries actually originated in Belgium, not France!"',`"The world's most expensive spice is saffron."`,'"Sushi was originally a cheap fast food for laborers in Edo-period Tokyo."'],wordFacts:[`"The word 'alphabet' comes from the first two letters of the Greek alphabet: alpha and beta."`,'"Mandarin Chinese is the most spoken language in the world by native speakers."','"There are over 7,000 languages spoken in the world today."',`"The most common letter in the English language is 'E'."`,'"Japanese uses three different scripts: Hiragana, Katakana, and Kanji."'],loadingFlavor:"Waking up FlavorPal...",loadingFlavor1:"Scanning the menu ingredients...",loadingFlavor2:"Translating for your appetite...",loadingFlavor3:"Finding the best food pairings...",loadingFlavor4:"Calculating local currency...",loadingFlavor5:"Finalizing the details...",loadingWord:"Waking up WordPal...",loadingWord1:"Scanning text...",loadingWord2:"Detecting language...",loadingWord3:"Translating content...",loadingWord4:"Refining grammar...",loadingWord5:"Finalizing translation...",recentVisits:"Recent Visits",details:"Details",swap:"Swap",receiptImg:"Receipt Img",navigate:"Navigate",viewReceipt:"View Receipt",items:"items",subtotal:"Subtotal",total:"TOTAL",estHkd:"Est. HKD",continueOrdering:"+ Continue Ordering",thankYou:"thank you for using flavorpal",deleteHistoryConfirm:"Are you sure you want to delete this order history?",failedAnalyze:"Failed to analyze. Please check your API key or try a clearer photo.",enterKey:"Enter API Key",apiKeyDesc:"Paste your Google Gemini API Key below to enable AI features. It will be safely stored for your next visit.",saveContinue:"Save & Continue",login:"Log In",rememberMe:"Remember Email",signup:"Sign Up",email:"Email",password:"Password",logout:"Log Out",welcome:"Welcome",loggedInAs:"Logged in as",noAccount:"Don't have an account?",hasAccount:"Already have an account?",authError:"Authentication failed. Please check your credentials.",loginPrompt:"Please log in to save your history and preferences.",restaurantName:"Restaurant Name",restaurantAddress:"Location / Address",enterRestName:"Enter restaurant name...",enterRestAddr:"Enter location or address...",locate:"Locate",locateSuccess:"Location Found",locating:"Locating...",locateError:"Could not find location",savedToGallery:"Receipt saved to gallery!",currencyDisclaimer:"Rates are estimates",translationPlaceholder:"Translation will appear here",inputPlaceholder:"Enter text to translate...",translateShowOther:"Translate (Show to other)",flipToOther:"Flip to other person",translating:"Translating..."},zh:{settings:"",uiLanguage:"",targetLanguage:"",apiKey:"API ",apiKeyPlaceholder:" API ...",getKey:"",save:"",saved:"",cancel:"",appTitle:"AI ",chooseTool:"",flavorPal:"FlavorPal",flavorPalDesc:"",wordPal:"WordPal",wordPalDesc:" OCR",portablePal:"",portablePalDesc:"",takePhoto:"",uploadGallery:"",analyzeMenu:"",translateText:"",originalText:"",translation:"",translateNew:"",history:"",menu:"",checkout:"",receipt:"",finishOrder:"",estTotal:"",tip:"",didYouKnow:"",diningEtiquette:"",languageFact:"",flavorFacts:["","","","",""],wordFacts:["AlphabetAlpha  Beta",""," 7,000 "," 'E'",""],loadingFlavor:" FlavorPal...",loadingFlavor1:"...",loadingFlavor2:"...",loadingFlavor3:"...",loadingFlavor4:"...",loadingFlavor5:"...",loadingWord:" WordPal...",loadingWord1:"...",loadingWord2:"...",loadingWord3:"...",loadingWord4:"...",loadingWord5:"...",recentVisits:"",details:"",swap:"",receiptImg:"",navigate:"",viewReceipt:"",items:"",subtotal:"",total:"",estHkd:"",continueOrdering:"+ ",thankYou:" FlavorPal",deleteHistoryConfirm:"",failedAnalyze:" API ",enterKey:" API ",apiKeyDesc:" Google Gemini API  AI ",saveContinue:"",login:"",rememberMe:"",signup:"",email:"",password:"",logout:"",welcome:"",loggedInAs:"",noAccount:"",hasAccount:"",authError:"",loginPrompt:"",restaurantName:" ()",restaurantAddress:" /  ()",enterRestName:"...",enterRestAddr:"...",locate:"",locateSuccess:"",locating:"...",locateError:"",savedToGallery:"",currencyDisclaimer:"",translationPlaceholder:"",inputPlaceholder:"...",translateShowOther:" ()",flipToOther:"",translating:"..."}},wi=({children:n,title:e,onBack:t,actions:A})=>I.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col relative pb-24 shadow-2xl bg-slate-950 overflow-hidden text-slate-100",children:[I.jsxs("header",{className:"px-6 pt-8 pb-4 flex items-center justify-between sticky top-0 bg-slate-950/80 backdrop-blur-md z-10 border-b border-slate-800/50",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[t&&I.jsx("button",{onClick:t,className:"p-2 -ml-2 hover:bg-slate-800 rounded-full transition-colors text-slate-300",children:I.jsx(Ht.ChevronLeft,{})}),I.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:e})]}),I.jsx("div",{className:"flex gap-2 text-slate-300",children:A})]}),I.jsx("main",{className:"flex-1 px-6",children:n})]});var a1={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let l1,u1;function c1(){return{geminiUrl:l1,vertexUrl:u1}}function f1(n,e,t,A){var i,o;if(!(n!=null&&n.baseUrl)){const a=c1();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(o=a.geminiUrl)!==null&&o!==void 0?o:A}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Di{}function ge(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(A,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(n,e,t){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[u])){const f=n[u];if(Array.isArray(t))for(let d=0;d<f.length;d++){const m=f[d];g(m,e.slice(o+1),t[d])}else for(const d of f)g(d,e.slice(o+1),t)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in n||(n[u]=[{}]);const f=n[u];g(f[0],e.slice(o+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const A=e[e.length-1],i=n[A];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${A}`)}else A==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[A]=t}function h(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let A=0;A<e.length;A++){if(typeof n!="object"||n===null)return t;const i=e[A];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in n){const a=n[o];return Array.isArray(a)?a.map(u=>h(u,e.slice(A+1),t)):t}else return t}else n=n[i]}return n}catch(A){if(A instanceof TypeError)return t;throw A}}function d1(n,e){for(const[t,A]of Object.entries(e)){const i=t.split("."),o=A.split("."),a=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&a.add(d)}ny(n,i,o,0,a)}}function ny(n,e,t,A,i){if(A>=e.length||typeof n!="object"||n===null)return;const o=e[A];if(o.endsWith("[]")){const a=o.slice(0,-2),u=n;if(a in u&&Array.isArray(u[a]))for(const f of u[a])ny(f,e,t,A+1,i)}else if(o==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,u=Object.keys(a).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=a[d];for(const[d,m]of Object.entries(f)){const v=[];for(const w of t.slice(A))w==="*"?v.push(d):v.push(w);g(a,v,m)}for(const d of u)delete a[d]}}else{const a=n;o in a&&ny(a[o],e,t,A+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g0(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h1(n){const e={},t=h(n,["operationName"]);t!=null&&g(e,["operationName"],t);const A=h(n,["resourceName"]);return A!=null&&g(e,["_url","resourceName"],A),e}function g1(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response","generateVideoResponse"]);return a!=null&&g(e,["response"],m1(a)),e}function p1(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],y1(a)),e}function m1(n){const e={},t=h(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>B1(a))),g(e,["generatedVideos"],o)}const A=h(n,["raiMediaFilteredCount"]);A!=null&&g(e,["raiMediaFilteredCount"],A);const i=h(n,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function y1(n){const e={},t=h(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>v1(a))),g(e,["generatedVideos"],o)}const A=h(n,["raiMediaFilteredCount"]);A!=null&&g(e,["raiMediaFilteredCount"],A);const i=h(n,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function B1(n){const e={},t=h(n,["video"]);return t!=null&&g(e,["video"],I1(t)),e}function v1(n){const e={},t=h(n,["_self"]);return t!=null&&g(e,["video"],S1(t)),e}function w1(n){const e={},t=h(n,["operationName"]);return t!=null&&g(e,["_url","operationName"],t),e}function C1(n){const e={},t=h(n,["operationName"]);return t!=null&&g(e,["_url","operationName"],t),e}function E1(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],_1(a)),e}function _1(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["parent"]);A!=null&&g(e,["parent"],A);const i=h(n,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function SS(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],T1(a)),e}function T1(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["parent"]);A!=null&&g(e,["parent"],A);const i=h(n,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function I1(n){const e={},t=h(n,["uri"]);t!=null&&g(e,["uri"],t);const A=h(n,["encodedVideo"]);A!=null&&g(e,["videoBytes"],g0(A));const i=h(n,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function S1(n){const e={},t=h(n,["gcsUri"]);t!=null&&g(e,["uri"],t);const A=h(n,["bytesBase64Encoded"]);A!=null&&g(e,["videoBytes"],g0(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oE;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oE||(oE={}));var aE;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(aE||(aE={}));var lE;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(lE||(lE={}));var Et;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Et||(Et={}));var uE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(uE||(uE={}));var cE;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cE||(cE={}));var fE;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(fE||(fE={}));var dE;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dE||(dE={}));var hE;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hE||(hE={}));var gE;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(gE||(gE={}));var pE;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(pE||(pE={}));var mE;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(mE||(mE={}));var yE;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(yE||(yE={}));var BE;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(BE||(BE={}));var vE;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(vE||(vE={}));var wE;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wE||(wE={}));var CE;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(CE||(CE={}));var EE;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(EE||(EE={}));var _E;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_E||(_E={}));var zd;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(zd||(zd={}));var TE;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(TE||(TE={}));var IE;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(IE||(IE={}));var SE;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(SE||(SE={}));var Ay;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ay||(Ay={}));var UE;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(UE||(UE={}));var FE;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(FE||(FE={}));var QE;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(QE||(QE={}));var RE;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(RE||(RE={}));var bE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(bE||(bE={}));var xE;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xE||(xE={}));var NE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(NE||(NE={}));var DE;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(DE||(DE={}));var ME;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ME||(ME={}));var LE;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(LE||(LE={}));var HE;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(HE||(HE={}));var PE;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(PE||(PE={}));var VE;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(VE||(VE={}));var OE;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(OE||(OE={}));var kE;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(kE||(kE={}));var KE;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(KE||(KE={}));var GE;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(GE||(GE={}));var qE;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(qE||(qE={}));var zE;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(zE||(zE={}));var JE;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(JE||(JE={}));var YE;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(YE||(YE={}));var XE;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(XE||(XE={}));var WE;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(WE||(WE={}));var $E;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})($E||($E={}));var ZE;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ZE||(ZE={}));var jE;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jE||(jE={}));var e_;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(e_||(e_={}));var t_;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(t_||(t_={}));var n_;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(n_||(n_={}));var A_;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(A_||(A_={}));var r_;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(r_||(r_={}));var ja;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(ja||(ja={}));class ry{constructor(e){const t={};for(const A of e.headers.entries())t[A[0]]=A[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Su{get text(){var e,t,A,i,o,a,u,f;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const v=[];for(const w of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[T,Q]of Object.entries(w))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(Q!==null||Q!==void 0)&&v.push(T);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;m=!0,d+=w.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,t,A,i,o,a,u,f;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const v of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[w,T]of Object.entries(v))w!=="inlineData"&&(T!==null||T!==void 0)&&m.push(w);v.inlineData&&typeof v.inlineData.data=="string"&&(d+=atob(v.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,A,i,o,a,u,f;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,A,i,o,a,u,f,d;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,A,i,o,a,u,f,d;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class i_{}class s_{}class U1{}class F1{}class Q1{}class R1{}class o_{}class a_{}class l_{}class b1{}class Jd{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const A=new Jd;let i;const o=e;return t?i=p1(o):i=g1(o),Object.assign(A,i),A}}class u_{}class c_{}class f_{}class d_{}class x1{}class N1{}class D1{}class p0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const A=new p0,o=E1(e);return Object.assign(A,o),A}}class M1{}class L1{}class H1{}class h_{}class P1{get text(){var e,t,A;let i="",o=!1;const a=[];for(const u of(A=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&A!==void 0?A:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&a.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,t,A;let i="";const o=[];for(const a of(A=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&A!==void 0?A:[]){for(const[u,f]of Object.entries(a))u!=="inlineData"&&f!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class V1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class m0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const A=new m0,o=SS(e);return Object.assign(A,o),A}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function US(n,e){const t=ot(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function FS(n){return Array.isArray(n)?n.map(e=>Yd(e)):[Yd(n)]}function Yd(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function QS(n){const e=Yd(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function RS(n){const e=Yd(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function g_(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function bS(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>g_(e)):[g_(n)]}function iy(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function p_(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function m_(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function On(n){if(n==null)throw new Error("ContentUnion is required");return iy(n)?n:{role:"user",parts:bS(n)}}function y0(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const A=On(t);return A.parts&&A.parts.length>0&&A.parts[0].text!==void 0?[A.parts[0].text]:[]});if(n.isVertexAI()){const t=On(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>On(t)):[On(e)]}function er(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(p_(n)||m_(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[On(n)]}const e=[],t=[],A=iy(n[0]);for(const i of n){const o=iy(i);if(o!=A)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(p_(i)||m_(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return A||e.push({role:"user",parts:bS(t)}),e}function O1(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(A=>A!=="null");if(t.length===1)e.type=Object.values(Et).includes(t[0].toUpperCase())?t[0].toUpperCase():Et.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const A of t)e.anyOf.push({type:Object.values(Et).includes(A.toUpperCase())?A.toUpperCase():Et.TYPE_UNSPECIFIED})}}function Al(n){const e={},t=["items"],A=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&O1(n.type,e);for(const[a,u]of Object.entries(n))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Et).includes(u.toUpperCase())?u.toUpperCase():Et.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Al(u);else if(A.includes(a)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(Al(d))}e[a]=f}else if(i.includes(a)){const f={};for(const[d,m]of Object.entries(u))f[d]=Al(m);e[a]=f}else{if(a==="additionalProperties")continue;e[a]=u}return e}function B0(n){return Al(n)}function v0(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function w0(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Bl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Al(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Al(e.response));return n}function vl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function k1(n,e,t,A=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===A;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Mi(n,e){if(typeof e!="string")throw new Error("name must be a string");return k1(n,e,"cachedContents")}function xS(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function zs(n){return g0(n)}function K1(n){return n!=null&&typeof n=="object"&&"name"in n}function G1(n){return n!=null&&typeof n=="object"&&"video"in n}function q1(n){return n!=null&&typeof n=="object"&&"uri"in n}function NS(n){var e;let t;if(K1(n)&&(t=n.name),!(q1(n)&&(t=n.uri,t===void 0))&&!(G1(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function DS(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function MS(n){for(const e of["models","tunedModels","publisherModels"])if(z1(n,e))return n[e];return[]}function z1(n,e){return n!==null&&typeof n=="object"&&e in n}function J1(n,e={}){const t=n,A={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(A.responseJsonSchema=t.outputSchema),e.behavior&&(A.behavior=e.behavior),{functionDeclarations:[A]}}function Y1(n,e={}){const t=[],A=new Set;for(const i of n){const o=i.name;if(A.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);A.add(o);const a=J1(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function LS(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const A=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||A!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(A>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function X1(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function HS(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const f=a.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function wl(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function PS(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W1(n){const e={},t=h(n,["responsesFile"]);t!=null&&g(e,["fileName"],t);const A=h(n,["inlinedResponses","inlinedResponses"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>QN(a))),g(e,["inlinedResponses"],o)}const i=h(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["inlinedEmbedContentResponses"],o)}return e}function $1(n){const e={},t=h(n,["predictionsFormat"]);t!=null&&g(e,["format"],t);const A=h(n,["gcsDestination","outputUriPrefix"]);A!=null&&g(e,["gcsUri"],A);const i=h(n,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Z1(n){const e={},t=h(n,["format"]);t!=null&&g(e,["predictionsFormat"],t);const A=h(n,["gcsUri"]);A!=null&&g(e,["gcsDestination","outputUriPrefix"],A);const i=h(n,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),h(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Qd(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata","displayName"]);A!=null&&g(e,["displayName"],A);const i=h(n,["metadata","state"]);i!=null&&g(e,["state"],PS(i));const o=h(n,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const a=h(n,["metadata","endTime"]);a!=null&&g(e,["endTime"],a);const u=h(n,["metadata","updateTime"]);u!=null&&g(e,["updateTime"],u);const f=h(n,["metadata","model"]);f!=null&&g(e,["model"],f);const d=h(n,["metadata","output"]);return d!=null&&g(e,["dest"],W1(HS(d))),e}function sy(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["displayName"]);A!=null&&g(e,["displayName"],A);const i=h(n,["state"]);i!=null&&g(e,["state"],PS(i));const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["createTime"]);a!=null&&g(e,["createTime"],a);const u=h(n,["startTime"]);u!=null&&g(e,["startTime"],u);const f=h(n,["endTime"]);f!=null&&g(e,["endTime"],f);const d=h(n,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=h(n,["model"]);m!=null&&g(e,["model"],m);const v=h(n,["inputConfig"]);v!=null&&g(e,["src"],j1(v));const w=h(n,["outputConfig"]);w!=null&&g(e,["dest"],$1(HS(w)));const T=h(n,["completionStats"]);return T!=null&&g(e,["completionStats"],T),e}function j1(n){const e={},t=h(n,["instancesFormat"]);t!=null&&g(e,["format"],t);const A=h(n,["gcsSource","uris"]);A!=null&&g(e,["gcsUri"],A);const i=h(n,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function eN(n,e){const t={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const A=h(e,["fileName"]);A!=null&&g(t,["fileName"],A);const i=h(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>FN(n,a))),g(t,["requests","requests"],o)}return t}function tN(n){const e={},t=h(n,["format"]);t!=null&&g(e,["instancesFormat"],t);const A=h(n,["gcsUri"]);A!=null&&g(e,["gcsSource","uris"],A);const i=h(n,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),h(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function nN(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function AN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],wl(n,A)),t}function rN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],wl(n,A)),t}function iN(n){const e={},t=h(n,["content"]);t!=null&&g(e,["content"],t);const A=h(n,["citationMetadata"]);A!=null&&g(e,["citationMetadata"],sN(A));const i=h(n,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=h(n,["finishReason"]);o!=null&&g(e,["finishReason"],o);const a=h(n,["avgLogprobs"]);a!=null&&g(e,["avgLogprobs"],a);const u=h(n,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const f=h(n,["index"]);f!=null&&g(e,["index"],f);const d=h(n,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(n,["safetyRatings"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(T=>T)),g(e,["safetyRatings"],w)}const v=h(n,["urlContextMetadata"]);return v!=null&&g(e,["urlContextMetadata"],v),e}function sN(n){const e={},t=h(n,["citationSources"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>i)),g(e,["citations"],A)}return e}function VS(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>LN(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function oN(n,e){const t={},A=h(n,["displayName"]);if(e!==void 0&&A!=null&&g(e,["batch","displayName"],A),h(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function aN(n,e){const t={},A=h(n,["displayName"]);e!==void 0&&A!=null&&g(e,["displayName"],A);const i=h(n,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],Z1(X1(i))),t}function y_(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["src"]);i!=null&&g(t,["batch","inputConfig"],eN(n,LS(n,i)));const o=h(e,["config"]);return o!=null&&oN(o,t),t}function lN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["model"],ot(n,A));const i=h(e,["src"]);i!=null&&g(t,["inputConfig"],tN(LS(n,i)));const o=h(e,["config"]);return o!=null&&aN(o,t),t}function uN(n,e){const t={},A=h(n,["displayName"]);return e!==void 0&&A!=null&&g(e,["batch","displayName"],A),t}function cN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["src"]);i!=null&&g(t,["batch","inputConfig"],yN(n,i));const o=h(e,["config"]);return o!=null&&uN(o,t),t}function fN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],wl(n,A)),t}function dN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],wl(n,A)),t}function hN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);return o!=null&&g(e,["error"],o),e}function gN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);return o!=null&&g(e,["error"],o),e}function pN(n,e){const t={},A=h(e,["contents"]);if(A!=null){let o=y0(n,A);Array.isArray(o)&&(o=o.map(a=>a)),g(t,["requests[]","request","content"],o)}const i=h(e,["config"]);return i!=null&&(g(t,["_self"],mN(i,t)),d1(t,{"requests[].*":"requests[].request.*"})),t}function mN(n,e){const t={},A=h(n,["taskType"]);e!==void 0&&A!=null&&g(e,["requests[]","taskType"],A);const i=h(n,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=h(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),h(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function yN(n,e){const t={},A=h(e,["fileName"]);A!=null&&g(t,["file_name"],A);const i=h(e,["inlinedRequests"]);return i!=null&&g(t,["requests"],pN(n,i)),t}function BN(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function vN(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wN(n){const e={},t=h(n,["mode"]);t!=null&&g(e,["mode"],t);const A=h(n,["allowedFunctionNames"]);if(A!=null&&g(e,["allowedFunctionNames"],A),h(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function CN(n,e,t){const A={},i=h(e,["systemInstruction"]);t!==void 0&&i!=null&&g(t,["systemInstruction"],VS(On(i)));const o=h(e,["temperature"]);o!=null&&g(A,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(A,["topP"],a);const u=h(e,["topK"]);u!=null&&g(A,["topK"],u);const f=h(e,["candidateCount"]);f!=null&&g(A,["candidateCount"],f);const d=h(e,["maxOutputTokens"]);d!=null&&g(A,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(A,["stopSequences"],m);const v=h(e,["responseLogprobs"]);v!=null&&g(A,["responseLogprobs"],v);const w=h(e,["logprobs"]);w!=null&&g(A,["logprobs"],w);const T=h(e,["presencePenalty"]);T!=null&&g(A,["presencePenalty"],T);const Q=h(e,["frequencyPenalty"]);Q!=null&&g(A,["frequencyPenalty"],Q);const D=h(e,["seed"]);D!=null&&g(A,["seed"],D);const M=h(e,["responseMimeType"]);M!=null&&g(A,["responseMimeType"],M);const k=h(e,["responseSchema"]);k!=null&&g(A,["responseSchema"],B0(k));const G=h(e,["responseJsonSchema"]);if(G!=null&&g(A,["responseJsonSchema"],G),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=h(e,["safetySettings"]);if(t!==void 0&&X!=null){let x=X;Array.isArray(x)&&(x=x.map(Ie=>HN(Ie))),g(t,["safetySettings"],x)}const te=h(e,["tools"]);if(t!==void 0&&te!=null){let x=vl(te);Array.isArray(x)&&(x=x.map(Ie=>VN(Bl(Ie)))),g(t,["tools"],x)}const re=h(e,["toolConfig"]);if(t!==void 0&&re!=null&&g(t,["toolConfig"],PN(re)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=h(e,["cachedContent"]);t!==void 0&&$!=null&&g(t,["cachedContent"],Mi(n,$));const b=h(e,["responseModalities"]);b!=null&&g(A,["responseModalities"],b);const R=h(e,["mediaResolution"]);R!=null&&g(A,["mediaResolution"],R);const U=h(e,["speechConfig"]);if(U!=null&&g(A,["speechConfig"],v0(U)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=h(e,["thinkingConfig"]);N!=null&&g(A,["thinkingConfig"],N);const L=h(e,["imageConfig"]);L!=null&&g(A,["imageConfig"],UN(L));const V=h(e,["enableEnhancedCivicAnswers"]);return V!=null&&g(A,["enableEnhancedCivicAnswers"],V),A}function EN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["candidates"]);if(A!=null){let f=A;Array.isArray(f)&&(f=f.map(d=>iN(d))),g(e,["candidates"],f)}const i=h(n,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=h(n,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const a=h(n,["responseId"]);a!=null&&g(e,["responseId"],a);const u=h(n,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function _N(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],wl(n,A)),t}function TN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],wl(n,A)),t}function IN(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function SN(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function UN(n){const e={},t=h(n,["aspectRatio"]);t!=null&&g(e,["aspectRatio"],t);const A=h(n,["imageSize"]);if(A!=null&&g(e,["imageSize"],A),h(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function FN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["request","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let u=er(i);Array.isArray(u)&&(u=u.map(f=>VS(f))),g(t,["request","contents"],u)}const o=h(e,["metadata"]);o!=null&&g(t,["metadata"],o);const a=h(e,["config"]);return a!=null&&g(t,["request","generationConfig"],CN(n,a,h(t,["request"],{}))),t}function QN(n){const e={},t=h(n,["response"]);t!=null&&g(e,["response"],EN(t));const A=h(n,["error"]);return A!=null&&g(e,["error"],A),e}function RN(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),h(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function bN(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=h(n,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),t}function xN(n){const e={},t=h(n,["config"]);return t!=null&&RN(t,e),e}function NN(n){const e={},t=h(n,["config"]);return t!=null&&bN(t,e),e}function DN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Qd(a))),g(e,["batchJobs"],o)}return e}function MN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>sy(a))),g(e,["batchJobs"],o)}return e}function LN(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],BN(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],vN(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],nN(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function HN(n){const e={},t=h(n,["category"]);if(t!=null&&g(e,["category"],t),h(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const A=h(n,["threshold"]);return A!=null&&g(e,["threshold"],A),e}function PN(n){const e={},t=h(n,["functionCallingConfig"]);t!=null&&g(e,["functionCallingConfig"],wN(t));const A=h(n,["retrievalConfig"]);return A!=null&&g(e,["retrievalConfig"],A),e}function VN(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],IN(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],SN(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fi;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Fi||(Fi={}));class qo{constructor(e,t,A,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,A,i)}init(e,t,A){var i,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!A||Object.keys(A).length===0?a={config:{}}:typeof A=="object"?a=Object.assign({},A):a=A,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ON extends Di{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new qo(Fi.PAGED_ITEM_BATCH_JOBS,A=>this.listInternal(A),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=y_(this.apiClient,e),A=t._url,i=ge("{model}:batchGenerateContent",A),u=t.batch.inputConfig.requests,f=u.requests,d=[];for(const m of f){const v=Object.assign({},m);if(v.systemInstruction){const w=v.systemInstruction;delete v.systemInstruction;const T=v.request;T.systemInstruction=w,v.request=T}d.push(v)}return u.requests=d,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const A=t?Object.assign({},t):{},i=Date.now().toString();if(A.displayName||(A.displayName=`genaiBatchJob_${i}`),A.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?A.dest=`${o.slice(0,-6)}/dest`:A.dest=`${o}_dest_${i}`;else if(a)A.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return A}async createInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=lN(this.apiClient,e);return u=ge("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>sy(m))}else{const d=y_(this.apiClient,e);return u=ge("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>Qd(m))}}async createEmbeddingsInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cN(this.apiClient,e);return o=ge("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>Qd(f))}}async get(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=TN(this.apiClient,e);return u=ge("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>sy(m))}else{const d=_N(this.apiClient,e);return u=ge("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>Qd(m))}}async cancel(e){var t,A,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const f=rN(this.apiClient,e);a=ge("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal})}else{const f=AN(this.apiClient,e);a=ge("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=NN(e);return u=ge("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=MN(m),w=new h_;return Object.assign(w,v),w})}else{const d=xN(e);return u=ge("batches",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=DN(m),w=new h_;return Object.assign(w,v),w})}}async delete(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=dN(this.apiClient,e);return u=ge("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>gN(m))}else{const d=fN(this.apiClient,e);return u=ge("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>hN(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kN(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function B_(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>cD(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function KN(n,e){const t={},A=h(n,["ttl"]);e!==void 0&&A!=null&&g(e,["ttl"],A);const i=h(n,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=h(n,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=h(n,["contents"]);if(e!==void 0&&a!=null){let m=er(a);Array.isArray(m)&&(m=m.map(v=>B_(v))),g(e,["contents"],m)}const u=h(n,["systemInstruction"]);e!==void 0&&u!=null&&g(e,["systemInstruction"],B_(On(u)));const f=h(n,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>dD(v))),g(e,["tools"],m)}const d=h(n,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],fD(d)),h(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function GN(n,e){const t={},A=h(n,["ttl"]);e!==void 0&&A!=null&&g(e,["ttl"],A);const i=h(n,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=h(n,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=h(n,["contents"]);if(e!==void 0&&a!=null){let v=er(a);Array.isArray(v)&&(v=v.map(w=>w)),g(e,["contents"],v)}const u=h(n,["systemInstruction"]);e!==void 0&&u!=null&&g(e,["systemInstruction"],On(u));const f=h(n,["tools"]);if(e!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(w=>hD(w))),g(e,["tools"],v)}const d=h(n,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=h(n,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),t}function qN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["model"],US(n,A));const i=h(e,["config"]);return i!=null&&KN(i,t),t}function zN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["model"],US(n,A));const i=h(e,["config"]);return i!=null&&GN(i,t),t}function JN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Mi(n,A)),t}function YN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Mi(n,A)),t}function XN(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function WN(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function $N(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function ZN(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jN(n){const e={},t=h(n,["mode"]);t!=null&&g(e,["mode"],t);const A=h(n,["allowedFunctionNames"]);if(A!=null&&g(e,["allowedFunctionNames"],A),h(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eD(n){const e={};if(h(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=h(n,["description"]);t!=null&&g(e,["description"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(n,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(n,["response"]);a!=null&&g(e,["response"],a);const u=h(n,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function tD(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Mi(n,A)),t}function nD(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Mi(n,A)),t}function AD(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function rD(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function iD(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function sD(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function oD(n){const e={},t=h(n,["config"]);return t!=null&&iD(t,e),e}function aD(n){const e={},t=h(n,["config"]);return t!=null&&sD(t,e),e}function lD(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["cachedContents"],o)}return e}function uD(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["cachedContents"],o)}return e}function cD(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],$N(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],ZN(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],kN(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function fD(n){const e={},t=h(n,["functionCallingConfig"]);t!=null&&g(e,["functionCallingConfig"],jN(t));const A=h(n,["retrievalConfig"]);return A!=null&&g(e,["retrievalConfig"],A),e}function dD(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],AD(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],rD(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function hD(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(w=>eD(w))),g(e,["functionDeclarations"],v)}const A=h(n,["retrieval"]);A!=null&&g(e,["retrieval"],A);const i=h(n,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=h(n,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),h(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(n,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const u=h(n,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const f=h(n,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=h(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(n,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function gD(n,e){const t={},A=h(n,["ttl"]);e!==void 0&&A!=null&&g(e,["ttl"],A);const i=h(n,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),t}function pD(n,e){const t={},A=h(n,["ttl"]);e!==void 0&&A!=null&&g(e,["ttl"],A);const i=h(n,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),t}function mD(n,e){const t={},A=h(e,["name"]);A!=null&&g(t,["_url","name"],Mi(n,A));const i=h(e,["config"]);return i!=null&&gD(i,t),t}function yD(n,e){const t={},A=h(e,["name"]);A!=null&&g(t,["_url","name"],Mi(n,A));const i=h(e,["config"]);return i!=null&&pD(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BD extends Di{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new qo(Fi.PAGED_ITEM_CACHED_CONTENTS,A=>this.listInternal(A),await this.listInternal(t),t)}async create(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=zN(this.apiClient,e);return u=ge("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>m)}else{const d=qN(this.apiClient,e);return u=ge("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async get(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=nD(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>m)}else{const d=tD(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=YN(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=WN(m),w=new f_;return Object.assign(w,v),w})}else{const d=JN(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=XN(m),w=new f_;return Object.assign(w,v),w})}}async update(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=yD(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>m)}else{const d=mD(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async listInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=aD(e);return u=ge("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=uD(m),w=new d_;return Object.assign(w,v),w})}else{const d=oD(e);return u=ge("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=lD(m),w=new d_;return Object.assign(w,v),w})}}}function Xd(n,e){var t={};for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&e.indexOf(A)<0&&(t[A]=n[A]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,A=Object.getOwnPropertySymbols(n);i<A.length;i++)e.indexOf(A[i])<0&&Object.prototype.propertyIsEnumerable.call(n,A[i])&&(t[A[i]]=n[A[i]]);return t}function v_(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],A=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&A>=n.length&&(n=void 0),{value:n&&n[A++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(n){return this instanceof Le?(this.v=n,this):new Le(n)}function dr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(T){return function(Q){return Promise.resolve(Q).then(T,v)}}function u(T,Q){A[T]&&(i[T]=function(D){return new Promise(function(M,k){o.push([T,D,M,k])>1||f(T,D)})},Q&&(i[T]=Q(i[T])))}function f(T,Q){try{d(A[T](Q))}catch(D){w(o[0][3],D)}}function d(T){T.value instanceof Le?Promise.resolve(T.value.v).then(m,v):w(o[0][2],T)}function m(T){f("next",T)}function v(T){f("throw",T)}function w(T,Q){T(Q),o.shift(),o.length&&f(o[0][0],o[0][1])}}function hr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof v_=="function"?v_(n):n[Symbol.iterator](),t={},A("next"),A("throw"),A("return"),t[Symbol.asyncIterator]=function(){return this},t);function A(o){t[o]=n[o]&&function(a){return new Promise(function(u,f){a=n[o](a),i(u,f,a.done,a.value)})}}function i(o,a,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vD(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:OS(t)}function OS(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wD(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function w_(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let A=0;for(;A<t;)if(n[A].role==="user")e.push(n[A]),A++;else{const i=[];let o=!0;for(;A<t&&n[A].role==="model";)i.push(n[A]),o&&!OS(n[A])&&(o=!1),A++;o?e.push(...i):e.pop()}return e}class CD{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ED(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ED{constructor(e,t,A,i={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=A,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),wD(o)}async sendMessage(e){var t;await this.sendPromise;const A=On(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(A),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,a,u;const f=await i,d=(a=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,m=f.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let w=[];m!=null&&(w=(u=m.slice(v))!==null&&u!==void 0?u:[]);const T=d?[d]:[];this.recordHistory(A,T,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const A=On(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(A),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,A)}getHistory(e=!1){const t=e?w_(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return dr(this,arguments,function*(){var i,o,a,u,f,d;const m=[];try{for(var v=!0,w=hr(e),T;T=yield Le(w.next()),i=T.done,!i;v=!0){u=T.value,v=!1;const Q=u;if(vD(Q)){const D=(d=(f=Q.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;D!==void 0&&m.push(D)}yield yield Le(Q)}}catch(Q){o={error:Q}}finally{try{!v&&!i&&(a=w.return)&&(yield Le(a.call(w)))}finally{if(o)throw o.error}}this.recordHistory(t,m)})}recordHistory(e,t,A){let i=[];t.length>0&&t.every(o=>o.role!==void 0)?i=t:i.push({role:"model",parts:[]}),A&&A.length>0?this.history.push(...w_(A)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Qh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _D(n){const e={},t=h(n,["file"]);return t!=null&&g(e,["file"],t),e}function TD(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function ID(n){const e={},t=h(n,["name"]);return t!=null&&g(e,["_url","file"],NS(t)),e}function SD(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function UD(n){const e={},t=h(n,["name"]);return t!=null&&g(e,["_url","file"],NS(t)),e}function FD(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function QD(n){const e={},t=h(n,["config"]);return t!=null&&FD(t,e),e}function RD(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bD extends Di{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new qo(Fi.PAGED_ITEM_FILES,A=>this.listInternal(A),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QD(e);return o=ge("files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=RD(f),m=new M1;return Object.assign(m,d),m})}}async createInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_D(e);return o=ge("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=TD(f),m=new L1;return Object.assign(m,d),m})}}async get(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=UD(e);return o=ge("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ID(e);return o=ge("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=SD(f),m=new H1;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rd(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function xD(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>XD(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function ND(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function DD(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function MD(n){const e={};if(h(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=h(n,["description"]);t!=null&&g(e,["description"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(n,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(n,["response"]);a!=null&&g(e,["response"],a);const u=h(n,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function LD(n){const e={},t=h(n,["modelSelectionConfig"]);t!=null&&g(e,["modelConfig"],t);const A=h(n,["responseJsonSchema"]);A!=null&&g(e,["responseJsonSchema"],A);const i=h(n,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=h(n,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const a=h(n,["enableAffectiveDialog"]);a!=null&&g(e,["enableAffectiveDialog"],a);const u=h(n,["frequencyPenalty"]);u!=null&&g(e,["frequencyPenalty"],u);const f=h(n,["logprobs"]);f!=null&&g(e,["logprobs"],f);const d=h(n,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(n,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const v=h(n,["presencePenalty"]);v!=null&&g(e,["presencePenalty"],v);const w=h(n,["responseLogprobs"]);w!=null&&g(e,["responseLogprobs"],w);const T=h(n,["responseMimeType"]);T!=null&&g(e,["responseMimeType"],T);const Q=h(n,["responseModalities"]);Q!=null&&g(e,["responseModalities"],Q);const D=h(n,["responseSchema"]);D!=null&&g(e,["responseSchema"],D);const M=h(n,["routingConfig"]);M!=null&&g(e,["routingConfig"],M);const k=h(n,["seed"]);k!=null&&g(e,["seed"],k);const G=h(n,["speechConfig"]);G!=null&&g(e,["speechConfig"],G);const X=h(n,["stopSequences"]);X!=null&&g(e,["stopSequences"],X);const te=h(n,["temperature"]);te!=null&&g(e,["temperature"],te);const re=h(n,["thinkingConfig"]);re!=null&&g(e,["thinkingConfig"],re);const $=h(n,["topK"]);$!=null&&g(e,["topK"],$);const b=h(n,["topP"]);if(b!=null&&g(e,["topP"],b),h(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function HD(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function PD(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function VD(n,e){const t={},A=h(n,["generationConfig"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig"],A);const i=h(n,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(n,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(n,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const u=h(n,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const f=h(n,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=h(n,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(n,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=h(n,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],w0(v));const w=h(n,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const T=h(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const Q=h(n,["systemInstruction"]);e!==void 0&&Q!=null&&g(e,["setup","systemInstruction"],xD(On(Q)));const D=h(n,["tools"]);if(e!==void 0&&D!=null){let $=vl(D);Array.isArray($)&&($=$.map(b=>$D(Bl(b)))),g(e,["setup","tools"],$)}const M=h(n,["sessionResumption"]);e!==void 0&&M!=null&&g(e,["setup","sessionResumption"],WD(M));const k=h(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&g(e,["setup","inputAudioTranscription"],k);const G=h(n,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const X=h(n,["realtimeInputConfig"]);e!==void 0&&X!=null&&g(e,["setup","realtimeInputConfig"],X);const te=h(n,["contextWindowCompression"]);e!==void 0&&te!=null&&g(e,["setup","contextWindowCompression"],te);const re=h(n,["proactivity"]);if(e!==void 0&&re!=null&&g(e,["setup","proactivity"],re),h(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function OD(n,e){const t={},A=h(n,["generationConfig"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig"],LD(A));const i=h(n,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(n,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(n,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const u=h(n,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const f=h(n,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=h(n,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(n,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=h(n,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],w0(v));const w=h(n,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const T=h(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const Q=h(n,["systemInstruction"]);e!==void 0&&Q!=null&&g(e,["setup","systemInstruction"],On(Q));const D=h(n,["tools"]);if(e!==void 0&&D!=null){let b=vl(D);Array.isArray(b)&&(b=b.map(R=>ZD(Bl(R)))),g(e,["setup","tools"],b)}const M=h(n,["sessionResumption"]);e!==void 0&&M!=null&&g(e,["setup","sessionResumption"],M);const k=h(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&g(e,["setup","inputAudioTranscription"],k);const G=h(n,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const X=h(n,["realtimeInputConfig"]);e!==void 0&&X!=null&&g(e,["setup","realtimeInputConfig"],X);const te=h(n,["contextWindowCompression"]);e!==void 0&&te!=null&&g(e,["setup","contextWindowCompression"],te);const re=h(n,["proactivity"]);e!==void 0&&re!=null&&g(e,["setup","proactivity"],re);const $=h(n,["explicitVadSignal"]);return e!==void 0&&$!=null&&g(e,["setup","explicitVadSignal"],$),t}function kD(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["setup","model"],ot(n,A));const i=h(e,["config"]);return i!=null&&g(t,["config"],VD(i,t)),t}function KD(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["setup","model"],ot(n,A));const i=h(e,["config"]);return i!=null&&g(t,["config"],OD(i,t)),t}function GD(n){const e={},t=h(n,["musicGenerationConfig"]);return t!=null&&g(e,["musicGenerationConfig"],t),e}function qD(n){const e={},t=h(n,["weightedPrompts"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>i)),g(e,["weightedPrompts"],A)}return e}function zD(n){const e={},t=h(n,["media"]);if(t!=null){let d=FS(t);Array.isArray(d)&&(d=d.map(m=>Rd(m))),g(e,["mediaChunks"],d)}const A=h(n,["audio"]);A!=null&&g(e,["audio"],Rd(RS(A)));const i=h(n,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=h(n,["video"]);o!=null&&g(e,["video"],Rd(QS(o)));const a=h(n,["text"]);a!=null&&g(e,["text"],a);const u=h(n,["activityStart"]);u!=null&&g(e,["activityStart"],u);const f=h(n,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function JD(n){const e={},t=h(n,["media"]);if(t!=null){let d=FS(t);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const A=h(n,["audio"]);A!=null&&g(e,["audio"],RS(A));const i=h(n,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=h(n,["video"]);o!=null&&g(e,["video"],QS(o));const a=h(n,["text"]);a!=null&&g(e,["text"],a);const u=h(n,["activityStart"]);u!=null&&g(e,["activityStart"],u);const f=h(n,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function YD(n){const e={},t=h(n,["setupComplete"]);t!=null&&g(e,["setupComplete"],t);const A=h(n,["serverContent"]);A!=null&&g(e,["serverContent"],A);const i=h(n,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=h(n,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const a=h(n,["usageMetadata"]);a!=null&&g(e,["usageMetadata"],jD(a));const u=h(n,["goAway"]);u!=null&&g(e,["goAway"],u);const f=h(n,["sessionResumptionUpdate"]);f!=null&&g(e,["sessionResumptionUpdate"],f);const d=h(n,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function XD(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],ND(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],DD(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],Rd(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function WD(n){const e={},t=h(n,["handle"]);if(t!=null&&g(e,["handle"],t),h(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $D(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],HD(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],PD(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function ZD(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(w=>MD(w))),g(e,["functionDeclarations"],v)}const A=h(n,["retrieval"]);A!=null&&g(e,["retrieval"],A);const i=h(n,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=h(n,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),h(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(n,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const u=h(n,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const f=h(n,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=h(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(n,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function jD(n){const e={},t=h(n,["promptTokenCount"]);t!=null&&g(e,["promptTokenCount"],t);const A=h(n,["cachedContentTokenCount"]);A!=null&&g(e,["cachedContentTokenCount"],A);const i=h(n,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=h(n,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const a=h(n,["thoughtsTokenCount"]);a!=null&&g(e,["thoughtsTokenCount"],a);const u=h(n,["totalTokenCount"]);u!=null&&g(e,["totalTokenCount"],u);const f=h(n,["promptTokensDetails"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(Q=>Q)),g(e,["promptTokensDetails"],T)}const d=h(n,["cacheTokensDetails"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(Q=>Q)),g(e,["cacheTokensDetails"],T)}const m=h(n,["candidatesTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(Q=>Q)),g(e,["responseTokensDetails"],T)}const v=h(n,["toolUsePromptTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(Q=>Q)),g(e,["toolUsePromptTokensDetails"],T)}const w=h(n,["trafficType"]);return w!=null&&g(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eM(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function tM(n){const e={},t=h(n,["content"]);t!=null&&g(e,["content"],t);const A=h(n,["citationMetadata"]);A!=null&&g(e,["citationMetadata"],nM(A));const i=h(n,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=h(n,["finishReason"]);o!=null&&g(e,["finishReason"],o);const a=h(n,["avgLogprobs"]);a!=null&&g(e,["avgLogprobs"],a);const u=h(n,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const f=h(n,["index"]);f!=null&&g(e,["index"],f);const d=h(n,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(n,["safetyRatings"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(T=>T)),g(e,["safetyRatings"],w)}const v=h(n,["urlContextMetadata"]);return v!=null&&g(e,["urlContextMetadata"],v),e}function nM(n){const e={},t=h(n,["citationSources"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>i)),g(e,["citations"],A)}return e}function AM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let o=er(i);Array.isArray(o)&&(o=o.map(a=>a)),g(t,["contents"],o)}return t}function rM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["tokensInfo"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function iM(n){const e={},t=h(n,["values"]);t!=null&&g(e,["values"],t);const A=h(n,["statistics"]);return A!=null&&g(e,["statistics"],sM(A)),e}function sM(n){const e={},t=h(n,["truncated"]);t!=null&&g(e,["truncated"],t);const A=h(n,["token_count"]);return A!=null&&g(e,["tokenCount"],A),e}function Rh(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>gL(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function oM(n){const e={},t=h(n,["controlType"]);t!=null&&g(e,["controlType"],t);const A=h(n,["enableControlImageComputation"]);return A!=null&&g(e,["computeControl"],A),e}function aM(n){const e={};if(h(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lM(n,e){const t={},A=h(n,["systemInstruction"]);e!==void 0&&A!=null&&g(e,["systemInstruction"],On(A));const i=h(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>qS(u))),g(e,["tools"],a)}const o=h(n,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],eL(o)),t}function uM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=er(i);Array.isArray(a)&&(a=a.map(u=>Rh(u))),g(t,["contents"],a)}const o=h(e,["config"]);return o!=null&&aM(o),t}function cM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=er(i);Array.isArray(a)&&(a=a.map(u=>u)),g(t,["contents"],a)}const o=h(e,["config"]);return o!=null&&lM(o,t),t}function fM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["totalTokens"]);A!=null&&g(e,["totalTokens"],A);const i=h(n,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function dM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["totalTokens"]);return A!=null&&g(e,["totalTokens"],A),e}function hM(n,e){const t={},A=h(e,["model"]);return A!=null&&g(t,["_url","name"],ot(n,A)),t}function gM(n,e){const t={},A=h(e,["model"]);return A!=null&&g(t,["_url","name"],ot(n,A)),t}function pM(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function mM(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function yM(n,e){const t={},A=h(n,["outputGcsUri"]);e!==void 0&&A!=null&&g(e,["parameters","storageUri"],A);const i=h(n,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=h(n,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=h(n,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=h(n,["guidanceScale"]);e!==void 0&&u!=null&&g(e,["parameters","guidanceScale"],u);const f=h(n,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const d=h(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(n,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=h(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&g(e,["parameters","includeSafetyAttributes"],v);const w=h(n,["includeRaiReason"]);e!==void 0&&w!=null&&g(e,["parameters","includeRaiReason"],w);const T=h(n,["language"]);e!==void 0&&T!=null&&g(e,["parameters","language"],T);const Q=h(n,["outputMimeType"]);e!==void 0&&Q!=null&&g(e,["parameters","outputOptions","mimeType"],Q);const D=h(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&g(e,["parameters","outputOptions","compressionQuality"],D);const M=h(n,["addWatermark"]);e!==void 0&&M!=null&&g(e,["parameters","addWatermark"],M);const k=h(n,["labels"]);e!==void 0&&k!=null&&g(e,["labels"],k);const G=h(n,["editMode"]);e!==void 0&&G!=null&&g(e,["parameters","editMode"],G);const X=h(n,["baseSteps"]);return e!==void 0&&X!=null&&g(e,["parameters","editConfig","baseSteps"],X),t}function BM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>wL(f))),g(t,["instances[0]","referenceImages"],u)}const a=h(e,["config"]);return a!=null&&yM(a,t),t}function vM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>bh(o))),g(e,["generatedImages"],i)}return e}function wM(n,e){const t={},A=h(n,["taskType"]);e!==void 0&&A!=null&&g(e,["requests[]","taskType"],A);const i=h(n,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=h(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),h(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function CM(n,e){const t={},A=h(n,["taskType"]);e!==void 0&&A!=null&&g(e,["instances[]","task_type"],A);const i=h(n,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=h(n,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const a=h(n,["mimeType"]);e!==void 0&&a!=null&&g(e,["instances[]","mimeType"],a);const u=h(n,["autoTruncate"]);return e!==void 0&&u!=null&&g(e,["parameters","autoTruncate"],u),t}function EM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let u=y0(n,i);Array.isArray(u)&&(u=u.map(f=>f)),g(t,["requests[]","content"],u)}const o=h(e,["config"]);o!=null&&wM(o,t);const a=h(e,["model"]);return a!==void 0&&g(t,["requests[]","model"],ot(n,a)),t}function _M(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=y0(n,i);Array.isArray(a)&&(a=a.map(u=>u)),g(t,["instances[]","content"],a)}const o=h(e,["config"]);return o!=null&&CM(o,t),t}function TM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["embeddings"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["embeddings"],o)}const i=h(n,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function IM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions[]","embeddings"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>iM(a))),g(e,["embeddings"],o)}const i=h(n,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function SM(n){const e={},t=h(n,["endpoint"]);t!=null&&g(e,["name"],t);const A=h(n,["deployedModelId"]);return A!=null&&g(e,["deployedModelId"],A),e}function UM(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function FM(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QM(n){const e={},t=h(n,["mode"]);t!=null&&g(e,["mode"],t);const A=h(n,["allowedFunctionNames"]);if(A!=null&&g(e,["allowedFunctionNames"],A),h(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RM(n){const e={};if(h(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=h(n,["description"]);t!=null&&g(e,["description"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(n,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(n,["response"]);a!=null&&g(e,["response"],a);const u=h(n,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function bM(n,e,t){const A={},i=h(e,["systemInstruction"]);t!==void 0&&i!=null&&g(t,["systemInstruction"],Rh(On(i)));const o=h(e,["temperature"]);o!=null&&g(A,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(A,["topP"],a);const u=h(e,["topK"]);u!=null&&g(A,["topK"],u);const f=h(e,["candidateCount"]);f!=null&&g(A,["candidateCount"],f);const d=h(e,["maxOutputTokens"]);d!=null&&g(A,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(A,["stopSequences"],m);const v=h(e,["responseLogprobs"]);v!=null&&g(A,["responseLogprobs"],v);const w=h(e,["logprobs"]);w!=null&&g(A,["logprobs"],w);const T=h(e,["presencePenalty"]);T!=null&&g(A,["presencePenalty"],T);const Q=h(e,["frequencyPenalty"]);Q!=null&&g(A,["frequencyPenalty"],Q);const D=h(e,["seed"]);D!=null&&g(A,["seed"],D);const M=h(e,["responseMimeType"]);M!=null&&g(A,["responseMimeType"],M);const k=h(e,["responseSchema"]);k!=null&&g(A,["responseSchema"],B0(k));const G=h(e,["responseJsonSchema"]);if(G!=null&&g(A,["responseJsonSchema"],G),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=h(e,["safetySettings"]);if(t!==void 0&&X!=null){let x=X;Array.isArray(x)&&(x=x.map(Ie=>CL(Ie))),g(t,["safetySettings"],x)}const te=h(e,["tools"]);if(t!==void 0&&te!=null){let x=vl(te);Array.isArray(x)&&(x=x.map(Ie=>FL(Bl(Ie)))),g(t,["tools"],x)}const re=h(e,["toolConfig"]);if(t!==void 0&&re!=null&&g(t,["toolConfig"],UL(re)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=h(e,["cachedContent"]);t!==void 0&&$!=null&&g(t,["cachedContent"],Mi(n,$));const b=h(e,["responseModalities"]);b!=null&&g(A,["responseModalities"],b);const R=h(e,["mediaResolution"]);R!=null&&g(A,["mediaResolution"],R);const U=h(e,["speechConfig"]);if(U!=null&&g(A,["speechConfig"],v0(U)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=h(e,["thinkingConfig"]);N!=null&&g(A,["thinkingConfig"],N);const L=h(e,["imageConfig"]);L!=null&&g(A,["imageConfig"],iL(L));const V=h(e,["enableEnhancedCivicAnswers"]);return V!=null&&g(A,["enableEnhancedCivicAnswers"],V),A}function xM(n,e,t){const A={},i=h(e,["systemInstruction"]);t!==void 0&&i!=null&&g(t,["systemInstruction"],On(i));const o=h(e,["temperature"]);o!=null&&g(A,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(A,["topP"],a);const u=h(e,["topK"]);u!=null&&g(A,["topK"],u);const f=h(e,["candidateCount"]);f!=null&&g(A,["candidateCount"],f);const d=h(e,["maxOutputTokens"]);d!=null&&g(A,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(A,["stopSequences"],m);const v=h(e,["responseLogprobs"]);v!=null&&g(A,["responseLogprobs"],v);const w=h(e,["logprobs"]);w!=null&&g(A,["logprobs"],w);const T=h(e,["presencePenalty"]);T!=null&&g(A,["presencePenalty"],T);const Q=h(e,["frequencyPenalty"]);Q!=null&&g(A,["frequencyPenalty"],Q);const D=h(e,["seed"]);D!=null&&g(A,["seed"],D);const M=h(e,["responseMimeType"]);M!=null&&g(A,["responseMimeType"],M);const k=h(e,["responseSchema"]);k!=null&&g(A,["responseSchema"],B0(k));const G=h(e,["responseJsonSchema"]);G!=null&&g(A,["responseJsonSchema"],G);const X=h(e,["routingConfig"]);X!=null&&g(A,["routingConfig"],X);const te=h(e,["modelSelectionConfig"]);te!=null&&g(A,["modelConfig"],te);const re=h(e,["safetySettings"]);if(t!==void 0&&re!=null){let q=re;Array.isArray(q)&&(q=q.map(ue=>ue)),g(t,["safetySettings"],q)}const $=h(e,["tools"]);if(t!==void 0&&$!=null){let q=vl($);Array.isArray(q)&&(q=q.map(ue=>qS(Bl(ue)))),g(t,["tools"],q)}const b=h(e,["toolConfig"]);t!==void 0&&b!=null&&g(t,["toolConfig"],b);const R=h(e,["labels"]);t!==void 0&&R!=null&&g(t,["labels"],R);const U=h(e,["cachedContent"]);t!==void 0&&U!=null&&g(t,["cachedContent"],Mi(n,U));const N=h(e,["responseModalities"]);N!=null&&g(A,["responseModalities"],N);const L=h(e,["mediaResolution"]);L!=null&&g(A,["mediaResolution"],L);const V=h(e,["speechConfig"]);V!=null&&g(A,["speechConfig"],v0(V));const x=h(e,["audioTimestamp"]);x!=null&&g(A,["audioTimestamp"],x);const Ie=h(e,["thinkingConfig"]);Ie!=null&&g(A,["thinkingConfig"],Ie);const Je=h(e,["imageConfig"]);if(Je!=null&&g(A,["imageConfig"],sL(Je)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return A}function C_(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=er(i);Array.isArray(a)&&(a=a.map(u=>Rh(u))),g(t,["contents"],a)}const o=h(e,["config"]);return o!=null&&g(t,["generationConfig"],bM(n,o,t)),t}function E_(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=er(i);Array.isArray(a)&&(a=a.map(u=>u)),g(t,["contents"],a)}const o=h(e,["config"]);return o!=null&&g(t,["generationConfig"],xM(n,o,t)),t}function __(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["candidates"]);if(A!=null){let f=A;Array.isArray(f)&&(f=f.map(d=>tM(d))),g(e,["candidates"],f)}const i=h(n,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=h(n,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const a=h(n,["responseId"]);a!=null&&g(e,["responseId"],a);const u=h(n,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function T_(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["candidates"]);if(A!=null){let d=A;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const i=h(n,["createTime"]);i!=null&&g(e,["createTime"],i);const o=h(n,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const a=h(n,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=h(n,["responseId"]);u!=null&&g(e,["responseId"],u);const f=h(n,["usageMetadata"]);return f!=null&&g(e,["usageMetadata"],f),e}function NM(n,e){const t={};if(h(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const A=h(n,["numberOfImages"]);e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A);const i=h(n,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=h(n,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),h(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const u=h(n,["personGeneration"]);e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u);const f=h(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const d=h(n,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=h(n,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const v=h(n,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const w=h(n,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w),h(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=h(n,["imageSize"]);if(e!==void 0&&T!=null&&g(e,["parameters","sampleImageSize"],T),h(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function DM(n,e){const t={},A=h(n,["outputGcsUri"]);e!==void 0&&A!=null&&g(e,["parameters","storageUri"],A);const i=h(n,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=h(n,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=h(n,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=h(n,["guidanceScale"]);e!==void 0&&u!=null&&g(e,["parameters","guidanceScale"],u);const f=h(n,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const d=h(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(n,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=h(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&g(e,["parameters","includeSafetyAttributes"],v);const w=h(n,["includeRaiReason"]);e!==void 0&&w!=null&&g(e,["parameters","includeRaiReason"],w);const T=h(n,["language"]);e!==void 0&&T!=null&&g(e,["parameters","language"],T);const Q=h(n,["outputMimeType"]);e!==void 0&&Q!=null&&g(e,["parameters","outputOptions","mimeType"],Q);const D=h(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&g(e,["parameters","outputOptions","compressionQuality"],D);const M=h(n,["addWatermark"]);e!==void 0&&M!=null&&g(e,["parameters","addWatermark"],M);const k=h(n,["labels"]);e!==void 0&&k!=null&&g(e,["labels"],k);const G=h(n,["imageSize"]);e!==void 0&&G!=null&&g(e,["parameters","sampleImageSize"],G);const X=h(n,["enhancePrompt"]);return e!==void 0&&X!=null&&g(e,["parameters","enhancePrompt"],X),t}function MM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&NM(o,t),t}function LM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&DM(o,t),t}function HM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>WM(a))),g(e,["generatedImages"],o)}const i=h(n,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],KS(i)),e}function PM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>bh(a))),g(e,["generatedImages"],o)}const i=h(n,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],GS(i)),e}function VM(n,e){const t={},A=h(n,["numberOfVideos"]);if(e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A),h(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=h(n,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),h(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=h(n,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const a=h(n,["resolution"]);e!==void 0&&a!=null&&g(e,["parameters","resolution"],a);const u=h(n,["personGeneration"]);if(e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u),h(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=h(n,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const d=h(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),h(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=h(n,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],xh(m));const v=h(n,["referenceImages"]);if(e!==void 0&&v!=null){let w=v;Array.isArray(w)&&(w=w.map(T=>kL(T))),g(e,["instances[0]","referenceImages"],w)}if(h(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function OM(n,e){const t={},A=h(n,["numberOfVideos"]);e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A);const i=h(n,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=h(n,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const a=h(n,["durationSeconds"]);e!==void 0&&a!=null&&g(e,["parameters","durationSeconds"],a);const u=h(n,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const f=h(n,["aspectRatio"]);e!==void 0&&f!=null&&g(e,["parameters","aspectRatio"],f);const d=h(n,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=h(n,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=h(n,["pubsubTopic"]);e!==void 0&&v!=null&&g(e,["parameters","pubsubTopic"],v);const w=h(n,["negativePrompt"]);e!==void 0&&w!=null&&g(e,["parameters","negativePrompt"],w);const T=h(n,["enhancePrompt"]);e!==void 0&&T!=null&&g(e,["parameters","enhancePrompt"],T);const Q=h(n,["generateAudio"]);e!==void 0&&Q!=null&&g(e,["parameters","generateAudio"],Q);const D=h(n,["lastFrame"]);e!==void 0&&D!=null&&g(e,["instances[0]","lastFrame"],vr(D));const M=h(n,["referenceImages"]);if(e!==void 0&&M!=null){let X=M;Array.isArray(X)&&(X=X.map(te=>KL(te))),g(e,["instances[0]","referenceImages"],X)}const k=h(n,["mask"]);e!==void 0&&k!=null&&g(e,["instances[0]","mask"],OL(k));const G=h(n,["compressionQuality"]);return e!==void 0&&G!=null&&g(e,["parameters","compressionQuality"],G),t}function kM(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response","generateVideoResponse"]);return a!=null&&g(e,["response"],zM(a)),e}function KM(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],JM(a)),e}function GM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&g(t,["instances[0]","image"],xh(o));const a=h(e,["video"]);a!=null&&g(t,["instances[0]","video"],zS(a));const u=h(e,["source"]);u!=null&&YM(u,t);const f=h(e,["config"]);return f!=null&&VM(f,t),t}function qM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&g(t,["instances[0]","image"],vr(o));const a=h(e,["video"]);a!=null&&g(t,["instances[0]","video"],JS(a));const u=h(e,["source"]);u!=null&&XM(u,t);const f=h(e,["config"]);return f!=null&&OM(f,t),t}function zM(n){const e={},t=h(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>ZM(a))),g(e,["generatedVideos"],o)}const A=h(n,["raiMediaFilteredCount"]);A!=null&&g(e,["raiMediaFilteredCount"],A);const i=h(n,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function JM(n){const e={},t=h(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>jM(a))),g(e,["generatedVideos"],o)}const A=h(n,["raiMediaFilteredCount"]);A!=null&&g(e,["raiMediaFilteredCount"],A);const i=h(n,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function YM(n,e){const t={},A=h(n,["prompt"]);e!==void 0&&A!=null&&g(e,["instances[0]","prompt"],A);const i=h(n,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],xh(i));const o=h(n,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],zS(o)),t}function XM(n,e){const t={},A=h(n,["prompt"]);e!==void 0&&A!=null&&g(e,["instances[0]","prompt"],A);const i=h(n,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],vr(i));const o=h(n,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],JS(o)),t}function WM(n){const e={},t=h(n,["_self"]);t!=null&&g(e,["image"],oL(t));const A=h(n,["raiFilteredReason"]);A!=null&&g(e,["raiFilteredReason"],A);const i=h(n,["_self"]);return i!=null&&g(e,["safetyAttributes"],KS(i)),e}function bh(n){const e={},t=h(n,["_self"]);t!=null&&g(e,["image"],kS(t));const A=h(n,["raiFilteredReason"]);A!=null&&g(e,["raiFilteredReason"],A);const i=h(n,["_self"]);i!=null&&g(e,["safetyAttributes"],GS(i));const o=h(n,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function $M(n){const e={},t=h(n,["_self"]);t!=null&&g(e,["mask"],kS(t));const A=h(n,["labels"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function ZM(n){const e={},t=h(n,["video"]);return t!=null&&g(e,["video"],PL(t)),e}function jM(n){const e={},t=h(n,["_self"]);return t!=null&&g(e,["video"],VL(t)),e}function eL(n){const e={},t=h(n,["modelSelectionConfig"]);t!=null&&g(e,["modelConfig"],t);const A=h(n,["responseJsonSchema"]);A!=null&&g(e,["responseJsonSchema"],A);const i=h(n,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=h(n,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const a=h(n,["enableAffectiveDialog"]);a!=null&&g(e,["enableAffectiveDialog"],a);const u=h(n,["frequencyPenalty"]);u!=null&&g(e,["frequencyPenalty"],u);const f=h(n,["logprobs"]);f!=null&&g(e,["logprobs"],f);const d=h(n,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(n,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const v=h(n,["presencePenalty"]);v!=null&&g(e,["presencePenalty"],v);const w=h(n,["responseLogprobs"]);w!=null&&g(e,["responseLogprobs"],w);const T=h(n,["responseMimeType"]);T!=null&&g(e,["responseMimeType"],T);const Q=h(n,["responseModalities"]);Q!=null&&g(e,["responseModalities"],Q);const D=h(n,["responseSchema"]);D!=null&&g(e,["responseSchema"],D);const M=h(n,["routingConfig"]);M!=null&&g(e,["routingConfig"],M);const k=h(n,["seed"]);k!=null&&g(e,["seed"],k);const G=h(n,["speechConfig"]);G!=null&&g(e,["speechConfig"],G);const X=h(n,["stopSequences"]);X!=null&&g(e,["stopSequences"],X);const te=h(n,["temperature"]);te!=null&&g(e,["temperature"],te);const re=h(n,["thinkingConfig"]);re!=null&&g(e,["thinkingConfig"],re);const $=h(n,["topK"]);$!=null&&g(e,["topK"],$);const b=h(n,["topP"]);if(b!=null&&g(e,["topP"],b),h(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tL(n,e){const t={},A=h(e,["model"]);return A!=null&&g(t,["_url","name"],ot(n,A)),t}function nL(n,e){const t={},A=h(e,["model"]);return A!=null&&g(t,["_url","name"],ot(n,A)),t}function AL(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function rL(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function iL(n){const e={},t=h(n,["aspectRatio"]);t!=null&&g(e,["aspectRatio"],t);const A=h(n,["imageSize"]);if(A!=null&&g(e,["imageSize"],A),h(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sL(n){const e={},t=h(n,["aspectRatio"]);t!=null&&g(e,["aspectRatio"],t);const A=h(n,["imageSize"]);A!=null&&g(e,["imageSize"],A);const i=h(n,["outputMimeType"]);i!=null&&g(e,["imageOutputOptions","mimeType"],i);const o=h(n,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function oL(n){const e={},t=h(n,["bytesBase64Encoded"]);t!=null&&g(e,["imageBytes"],zs(t));const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function kS(n){const e={},t=h(n,["gcsUri"]);t!=null&&g(e,["gcsUri"],t);const A=h(n,["bytesBase64Encoded"]);A!=null&&g(e,["imageBytes"],zs(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function xh(n){const e={};if(h(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=h(n,["imageBytes"]);t!=null&&g(e,["bytesBase64Encoded"],zs(t));const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function vr(n){const e={},t=h(n,["gcsUri"]);t!=null&&g(e,["gcsUri"],t);const A=h(n,["imageBytes"]);A!=null&&g(e,["bytesBase64Encoded"],zs(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function aL(n,e,t){const A={},i=h(e,["pageSize"]);t!==void 0&&i!=null&&g(t,["_query","pageSize"],i);const o=h(e,["pageToken"]);t!==void 0&&o!=null&&g(t,["_query","pageToken"],o);const a=h(e,["filter"]);t!==void 0&&a!=null&&g(t,["_query","filter"],a);const u=h(e,["queryBase"]);return t!==void 0&&u!=null&&g(t,["_url","models_url"],DS(n,u)),A}function lL(n,e,t){const A={},i=h(e,["pageSize"]);t!==void 0&&i!=null&&g(t,["_query","pageSize"],i);const o=h(e,["pageToken"]);t!==void 0&&o!=null&&g(t,["_query","pageToken"],o);const a=h(e,["filter"]);t!==void 0&&a!=null&&g(t,["_query","filter"],a);const u=h(e,["queryBase"]);return t!==void 0&&u!=null&&g(t,["_url","models_url"],DS(n,u)),A}function uL(n,e){const t={},A=h(e,["config"]);return A!=null&&aL(n,A,t),t}function cL(n,e){const t={},A=h(e,["config"]);return A!=null&&lL(n,A,t),t}function fL(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["_self"]);if(i!=null){let o=MS(i);Array.isArray(o)&&(o=o.map(a=>oy(a))),g(e,["models"],o)}return e}function dL(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["_self"]);if(i!=null){let o=MS(i);Array.isArray(o)&&(o=o.map(a=>ay(a))),g(e,["models"],o)}return e}function hL(n){const e={},t=h(n,["maskMode"]);t!=null&&g(e,["maskMode"],t);const A=h(n,["segmentationClasses"]);A!=null&&g(e,["maskClasses"],A);const i=h(n,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function oy(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["displayName"]);A!=null&&g(e,["displayName"],A);const i=h(n,["description"]);i!=null&&g(e,["description"],i);const o=h(n,["version"]);o!=null&&g(e,["version"],o);const a=h(n,["_self"]);a!=null&&g(e,["tunedModelInfo"],QL(a));const u=h(n,["inputTokenLimit"]);u!=null&&g(e,["inputTokenLimit"],u);const f=h(n,["outputTokenLimit"]);f!=null&&g(e,["outputTokenLimit"],f);const d=h(n,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=h(n,["temperature"]);m!=null&&g(e,["temperature"],m);const v=h(n,["maxTemperature"]);v!=null&&g(e,["maxTemperature"],v);const w=h(n,["topP"]);w!=null&&g(e,["topP"],w);const T=h(n,["topK"]);T!=null&&g(e,["topK"],T);const Q=h(n,["thinking"]);return Q!=null&&g(e,["thinking"],Q),e}function ay(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["displayName"]);A!=null&&g(e,["displayName"],A);const i=h(n,["description"]);i!=null&&g(e,["description"],i);const o=h(n,["versionId"]);o!=null&&g(e,["version"],o);const a=h(n,["deployedModels"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(w=>SM(w))),g(e,["endpoints"],v)}const u=h(n,["labels"]);u!=null&&g(e,["labels"],u);const f=h(n,["_self"]);f!=null&&g(e,["tunedModelInfo"],RL(f));const d=h(n,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=h(n,["checkpoints"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(w=>w)),g(e,["checkpoints"],v)}return e}function gL(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],UM(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],FM(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],eM(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function pL(n){const e={},t=h(n,["productImage"]);return t!=null&&g(e,["image"],vr(t)),e}function mL(n,e){const t={},A=h(n,["numberOfImages"]);e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A);const i=h(n,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=h(n,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const a=h(n,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const u=h(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const f=h(n,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const d=h(n,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=h(n,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const v=h(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","compressionQuality"],v);const w=h(n,["enhancePrompt"]);e!==void 0&&w!=null&&g(e,["parameters","enhancePrompt"],w);const T=h(n,["labels"]);return e!==void 0&&T!=null&&g(e,["labels"],T),t}function yL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["source"]);i!=null&&vL(i,t);const o=h(e,["config"]);return o!=null&&mL(o,t),t}function BL(n){const e={},t=h(n,["predictions"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>bh(i))),g(e,["generatedImages"],A)}return e}function vL(n,e){const t={},A=h(n,["prompt"]);e!==void 0&&A!=null&&g(e,["instances[0]","prompt"],A);const i=h(n,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],vr(i));const o=h(n,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>pL(u))),g(e,["instances[0]","productImages"],a)}return t}function wL(n){const e={},t=h(n,["referenceImage"]);t!=null&&g(e,["referenceImage"],vr(t));const A=h(n,["referenceId"]);A!=null&&g(e,["referenceId"],A);const i=h(n,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=h(n,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],hL(o));const a=h(n,["controlImageConfig"]);a!=null&&g(e,["controlImageConfig"],oM(a));const u=h(n,["styleImageConfig"]);u!=null&&g(e,["styleImageConfig"],u);const f=h(n,["subjectImageConfig"]);return f!=null&&g(e,["subjectImageConfig"],f),e}function KS(n){const e={},t=h(n,["safetyAttributes","categories"]);t!=null&&g(e,["categories"],t);const A=h(n,["safetyAttributes","scores"]);A!=null&&g(e,["scores"],A);const i=h(n,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function GS(n){const e={},t=h(n,["safetyAttributes","categories"]);t!=null&&g(e,["categories"],t);const A=h(n,["safetyAttributes","scores"]);A!=null&&g(e,["scores"],A);const i=h(n,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function CL(n){const e={},t=h(n,["category"]);if(t!=null&&g(e,["category"],t),h(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const A=h(n,["threshold"]);return A!=null&&g(e,["threshold"],A),e}function EL(n){const e={},t=h(n,["image"]);return t!=null&&g(e,["image"],vr(t)),e}function _L(n,e){const t={},A=h(n,["mode"]);e!==void 0&&A!=null&&g(e,["parameters","mode"],A);const i=h(n,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=h(n,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const a=h(n,["maskDilation"]);e!==void 0&&a!=null&&g(e,["parameters","maskDilation"],a);const u=h(n,["binaryColorThreshold"]);e!==void 0&&u!=null&&g(e,["parameters","binaryColorThreshold"],u);const f=h(n,["labels"]);return e!==void 0&&f!=null&&g(e,["labels"],f),t}function TL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["source"]);i!=null&&SL(i,t);const o=h(e,["config"]);return o!=null&&_L(o,t),t}function IL(n){const e={},t=h(n,["predictions"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>$M(i))),g(e,["generatedMasks"],A)}return e}function SL(n,e){const t={},A=h(n,["prompt"]);e!==void 0&&A!=null&&g(e,["instances[0]","prompt"],A);const i=h(n,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],vr(i));const o=h(n,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],EL(o)),t}function UL(n){const e={},t=h(n,["functionCallingConfig"]);t!=null&&g(e,["functionCallingConfig"],QM(t));const A=h(n,["retrievalConfig"]);return A!=null&&g(e,["retrievalConfig"],A),e}function FL(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],AL(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],rL(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function qS(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(w=>RM(w))),g(e,["functionDeclarations"],v)}const A=h(n,["retrieval"]);A!=null&&g(e,["retrieval"],A);const i=h(n,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=h(n,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),h(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(n,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const u=h(n,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const f=h(n,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=h(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(n,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function QL(n){const e={},t=h(n,["baseModel"]);t!=null&&g(e,["baseModel"],t);const A=h(n,["createTime"]);A!=null&&g(e,["createTime"],A);const i=h(n,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function RL(n){const e={},t=h(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&g(e,["baseModel"],t);const A=h(n,["createTime"]);A!=null&&g(e,["createTime"],A);const i=h(n,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function bL(n,e){const t={},A=h(n,["displayName"]);e!==void 0&&A!=null&&g(e,["displayName"],A);const i=h(n,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=h(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),t}function xL(n,e){const t={},A=h(n,["displayName"]);e!==void 0&&A!=null&&g(e,["displayName"],A);const i=h(n,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=h(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),t}function NL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","name"],ot(n,A));const i=h(e,["config"]);return i!=null&&bL(i,t),t}function DL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["config"]);return i!=null&&xL(i,t),t}function ML(n,e){const t={},A=h(n,["outputGcsUri"]);e!==void 0&&A!=null&&g(e,["parameters","storageUri"],A);const i=h(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=h(n,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const a=h(n,["includeRaiReason"]);e!==void 0&&a!=null&&g(e,["parameters","includeRaiReason"],a);const u=h(n,["outputMimeType"]);e!==void 0&&u!=null&&g(e,["parameters","outputOptions","mimeType"],u);const f=h(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const d=h(n,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=h(n,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const v=h(n,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const w=h(n,["numberOfImages"]);e!==void 0&&w!=null&&g(e,["parameters","sampleCount"],w);const T=h(n,["mode"]);return e!==void 0&&T!=null&&g(e,["parameters","mode"],T),t}function LL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["image"]);i!=null&&g(t,["instances[0]","image"],vr(i));const o=h(e,["upscaleFactor"]);o!=null&&g(t,["parameters","upscaleConfig","upscaleFactor"],o);const a=h(e,["config"]);return a!=null&&ML(a,t),t}function HL(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>bh(o))),g(e,["generatedImages"],i)}return e}function PL(n){const e={},t=h(n,["uri"]);t!=null&&g(e,["uri"],t);const A=h(n,["encodedVideo"]);A!=null&&g(e,["videoBytes"],zs(A));const i=h(n,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function VL(n){const e={},t=h(n,["gcsUri"]);t!=null&&g(e,["uri"],t);const A=h(n,["bytesBase64Encoded"]);A!=null&&g(e,["videoBytes"],zs(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function OL(n){const e={},t=h(n,["image"]);t!=null&&g(e,["_self"],vr(t));const A=h(n,["maskMode"]);return A!=null&&g(e,["maskMode"],A),e}function kL(n){const e={},t=h(n,["image"]);t!=null&&g(e,["image"],xh(t));const A=h(n,["referenceType"]);return A!=null&&g(e,["referenceType"],A),e}function KL(n){const e={},t=h(n,["image"]);t!=null&&g(e,["image"],vr(t));const A=h(n,["referenceType"]);return A!=null&&g(e,["referenceType"],A),e}function zS(n){const e={},t=h(n,["uri"]);t!=null&&g(e,["uri"],t);const A=h(n,["videoBytes"]);A!=null&&g(e,["encodedVideo"],zs(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function JS(n){const e={},t=h(n,["uri"]);t!=null&&g(e,["gcsUri"],t);const A=h(n,["videoBytes"]);A!=null&&g(e,["bytesBase64Encoded"],zs(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GL(n,e){const t={},A=h(n,["displayName"]);return e!==void 0&&A!=null&&g(e,["displayName"],A),t}function qL(n){const e={},t=h(n,["config"]);return t!=null&&GL(t,e),e}function zL(n,e){const t={},A=h(n,["force"]);return e!==void 0&&A!=null&&g(e,["_query","force"],A),t}function JL(n){const e={},t=h(n,["name"]);t!=null&&g(e,["_url","name"],t);const A=h(n,["config"]);return A!=null&&zL(A,e),e}function YL(n){const e={},t=h(n,["name"]);return t!=null&&g(e,["_url","name"],t),e}function XL(n,e){const t={},A=h(n,["customMetadata"]);if(e!==void 0&&A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["customMetadata"],o)}const i=h(n,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),t}function WL(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],ZL(a)),e}function $L(n){const e={},t=h(n,["fileSearchStoreName"]);t!=null&&g(e,["_url","file_search_store_name"],t);const A=h(n,["fileName"]);A!=null&&g(e,["fileName"],A);const i=h(n,["config"]);return i!=null&&XL(i,e),e}function ZL(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["parent"]);A!=null&&g(e,["parent"],A);const i=h(n,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function jL(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function eH(n){const e={},t=h(n,["config"]);return t!=null&&jL(t,e),e}function tH(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["fileSearchStores"],o)}return e}function YS(n,e){const t={},A=h(n,["mimeType"]);e!==void 0&&A!=null&&g(e,["mimeType"],A);const i=h(n,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=h(n,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),g(e,["customMetadata"],u)}const a=h(n,["chunkingConfig"]);return e!==void 0&&a!=null&&g(e,["chunkingConfig"],a),t}function nH(n){const e={},t=h(n,["fileSearchStoreName"]);t!=null&&g(e,["_url","file_search_store_name"],t);const A=h(n,["config"]);return A!=null&&YS(A,e),e}function AH(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rH="Content-Type",iH="X-Server-Timeout",sH="User-Agent",ly="x-goog-api-client",oH="1.34.0",aH=`google-genai-sdk/${oH}`,lH="v1beta1",uH="v1beta";class cH{constructor(e){var t,A;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:lH,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(A=this.clientOptions.apiVersion)!==null&&A!==void 0?A:uH,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const A=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&A.push(e.apiVersion),A.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,A){const i=[this.getRequestUrlInternal(t)];return A&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const A=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,A);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,t){const A=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(t))typeof o=="object"?A[i]=Object.assign(Object.assign({},A[i]),o):o!==void 0&&(A[i]=o);return A}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const A=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,A);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,A,i){if(t&&t.timeout||i){const o=new AbortController,a=o.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const u=setTimeout(()=>o.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return t&&t.extraBody!==null&&fH(e,t.extraBody),e.headers=await this.getHeadersInternal(t,A),e}async unaryApiCall(e,t,A){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:A})).then(async i=>(await I_(i),new ry(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,A){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:A})).then(async i=>(await I_(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return dr(this,arguments,function*(){var A;const i=(A=e==null?void 0:e.body)===null||A===void 0?void 0:A.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield Le(i.read());if(d){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=o.decode(m,{stream:!0});try{const Q=JSON.parse(v);if("error"in Q){const D=JSON.parse(JSON.stringify(Q.error)),M=D.status,k=D.code,G=`got status: ${M}. ${JSON.stringify(Q)}`;if(k>=400&&k<600)throw new Qh({message:G,status:k})}}catch(Q){if(Q.name==="ApiError")throw Q}a+=v;let w=-1,T=0;for(;;){w=-1,T=0;for(const M of f){const k=a.indexOf(M);k!==-1&&(w===-1||k<w)&&(w=k,T=M.length)}if(w===-1)break;const Q=a.substring(0,w);a=a.substring(w+T);const D=Q.trim();if(D.startsWith(u)){const M=D.substring(u.length).trim();try{const k=new Response(M,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Le(new ry(k))}catch(k){throw new Error(`exception parsing stream chunk ${M}. ${k}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(A=>{throw new Error(`exception ${A} sending request`)})}getDefaultHeaders(){const e={},t=aH+" "+this.clientOptions.userAgentExtra;return e[sH]=t,e[ly]=t,e[rH]="application/json",e}async getHeadersInternal(e,t){const A=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))A.append(i,o);e.timeout&&e.timeout>0&&A.append(iH,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(A,t),A}getFileName(e){var t;let A="";return typeof e=="string"&&(A=e.replace(/[/\\]+$/,""),A=(t=A.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),A}async uploadFile(e,t){var A;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(A=t==null?void 0:t.mimeType)!==null&&A!==void 0?A:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(e),m=ge("upload/v1beta/files",f._url),v=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,d,f,t==null?void 0:t.httpOptions);return o.upload(e,v,this)}async uploadFileToFileSearchStore(e,t,A){var i;const o=this.clientOptions.uploader,a=await o.stat(t),u=String(a.size),f=(i=A==null?void 0:A.mimeType)!==null&&i!==void 0?i:a.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(t),v={};A!=null&&YS(A,v);const w=await this.fetchUploadUrl(d,u,f,m,v,A==null?void 0:A.httpOptions);return o.uploadToFileSearchStore(t,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,A,i,o,a){var u;let f={};a?f=a:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${A}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function I_(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let A;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?A=await n.json():A={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(A);throw t>=400&&t<600?new Qh({message:i,status:t}):new Error(i)}}function fH(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const o=JSON.parse(n.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))t=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function A(o,a){const u=Object.assign({},o);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const d=a[f],m=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?u[f]=A(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=A(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dH="mcp_used/unknown";let hH=!1;function XS(n){for(const e of n)if(gH(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hH}function WS(n){var e;const t=(e=n[ly])!==null&&e!==void 0?e:"";n[ly]=(t+` ${dH}`).trimStart()}function gH(n){return n!==null&&typeof n=="object"&&n instanceof C0}function pH(n){return dr(this,arguments,function*(t,A=100){let i,o=0;for(;o<A;){const a=yield Le(t.listTools({cursor:i}));for(const u of a.tools)yield yield Le(u),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class C0{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new C0(e,t)}async initialize(){var e,t,A,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const m of this.mcpClients)try{for(var u=!0,f=(t=void 0,hr(pH(m))),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const v=i;a.push(v);const w=v.name;if(o[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);o[w]=m}}catch(v){t={error:v}}finally{try{!u&&!e&&(A=f.return)&&await A.call(f)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Y1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const A of e)if(A.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[A.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:A.name,arguments:A.args},void 0,o);t.push({functionResponse:{name:A.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function mH(n,e,t){const A=new V1;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(A,i),e(A)}class yH{constructor(e,t,A){this.apiClient=e,this.auth=t,this.webSocketFactory=A}async connect(e){var t,A;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=wH(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const m=new Promise(X=>{d=X}),v=e.callbacks,w=function(){d({})},T=this.apiClient,Q={onopen:w,onmessage:X=>{mH(T,v.onmessage,X)},onerror:(t=v==null?void 0:v.onerror)!==null&&t!==void 0?t:function(X){},onclose:(A=v==null?void 0:v.onclose)!==null&&A!==void 0?A:function(X){}},D=this.webSocketFactory.create(f,vH(a),Q);D.connect(),await m;const G={setup:{model:ot(this.apiClient,e.model)}};return D.send(JSON.stringify(G)),new BH(D,this.apiClient)}}class BH{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=qD(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=GD(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(ja.PLAY)}pause(){this.sendPlaybackControl(ja.PAUSE)}stop(){this.sendPlaybackControl(ja.STOP)}resetContext(){this.sendPlaybackControl(ja.RESET_CONTEXT)}close(){this.conn.close()}}function vH(n){const e={};return n.forEach((t,A)=>{e[A]=t}),e}function wH(n){const e=new Headers;for(const[t,A]of Object.entries(n))e.append(t,A);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function EH(n,e,t){const A=new P1;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const o=JSON.parse(i);if(n.isVertexAI()){const a=YD(o);Object.assign(A,a)}else Object.assign(A,o);e(A)}class _H{constructor(e,t,A){this.apiClient=e,this.auth=t,this.webSocketFactory=A,this.music=new yH(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,A,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&XS(e.config.tools)&&WS(v);const w=UH(v);if(this.apiClient.isVertexAI())m=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,m);else{const U=this.apiClient.getApiKey();let N="BidiGenerateContent",L="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",L="access_token"),m=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${N}?${L}=${U}`}let T=()=>{};const Q=new Promise(U=>{T=U}),D=e.callbacks,M=function(){var U;(U=D==null?void 0:D.onopen)===null||U===void 0||U.call(D),T({})},k=this.apiClient,G={onopen:M,onmessage:U=>{EH(k,D.onmessage,U)},onerror:(t=D==null?void 0:D.onerror)!==null&&t!==void 0?t:function(U){},onclose:(A=D==null?void 0:D.onclose)!==null&&A!==void 0?A:function(U){}},X=this.webSocketFactory.create(m,SH(w),G);X.connect(),await Q;let te=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&te.startsWith("publishers/")){const U=this.apiClient.getProject(),N=this.apiClient.getLocation();te=`projects/${U}/locations/${N}/`+te}let re={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[zd.AUDIO]}:e.config.responseModalities=[zd.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],b=[];for(const U of $)if(this.isCallableTool(U)){const N=U;b.push(await N.tool())}else b.push(U);b.length>0&&(e.config.tools=b);const R={model:te,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?re=KD(this.apiClient,R):re=kD(this.apiClient,R),delete re.config,X.send(JSON.stringify(re)),new IH(X,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const TH={turnComplete:!0};class IH{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let A=[];try{A=er(t.turns),e.isVertexAI()||(A=A.map(i=>Rh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:A,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let A=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?A=t.functionResponses:A=[t.functionResponses],A.length===0)throw new Error("functionResponses is required.");for(const o of A){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(CH)}return{toolResponse:{functionResponses:A}}}sendClientContent(e){e=Object.assign(Object.assign({},TH),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:JD(e)}:t={realtimeInput:zD(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function SH(n){const e={};return n.forEach((t,A)=>{e[A]=t}),e}function UH(n){const e=new Headers;for(const[t,A]of Object.entries(n))e.append(t,A);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S_=10;function U_(n){var e,t,A;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(rl(a)){i=!0;break}if(!i)return!0;const o=(A=n==null?void 0:n.automaticFunctionCalling)===null||A===void 0?void 0:A.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function rl(n){return"callTool"in n&&typeof n.callTool=="function"}function FH(n){var e,t,A;return(A=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>rl(i)))!==null&&A!==void 0?A:!1}function F_(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((A,i)=>{if(rl(A))return;const o=A;o.functionDeclarations&&o.functionDeclarations.length>0&&t.push(i)}),t}function Q_(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QH extends Di{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var A,i,o,a,u;const f=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!FH(t)||U_(t.config))return await this.generateContentInternal(f);const d=F_(t);if(d.length>0){const D=d.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let m,v;const w=er(f.contents),T=(o=(i=(A=f.config)===null||A===void 0?void 0:A.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:S_;let Q=0;for(;Q<T&&(m=await this.generateContentInternal(f),!(!m.functionCalls||m.functionCalls.length===0));){const D=m.candidates[0].content,M=[];for(const k of(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(rl(k)){const X=await k.callTool(m.functionCalls);M.push(...X)}Q++,v={role:"user",parts:M},f.contents=er(f.contents),f.contents.push(D),f.contents.push(v),Q_(f.config)&&(w.push(D),w.push(v))}return Q_(f.config)&&(m.automaticFunctionCallingHistory=w),m},this.generateContentStream=async t=>{var A,i,o,a,u;if(this.maybeMoveToResponseJsonSchem(t),U_(t.config)){const v=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(v)}const f=F_(t);if(f.length>0){const v=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(A=t==null?void 0:t.config)===null||A===void 0?void 0:A.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,m=(u=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(A=>{var i;let o;const a=[];if(A!=null&&A.generatedImages)for(const f of A.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:a.push(f);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:A.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:A.sdkHttpResponse},u}),this.list=async t=>{var A;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((A=a.config)===null||A===void 0)&&A.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new qo(Fi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async t=>{const A={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(A.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(A)},this.upscaleImage=async t=>{let A={numberOfImages:1,mode:"upscale"};t.config&&(A=Object.assign(Object.assign({},A),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:A};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var A,i,o,a,u,f;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((A=t.video)===null||A===void 0)&&A.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(o=t.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((f=(u=t.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,A,i;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const a=await Promise.all(o.map(async f=>rl(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&XS(e.config.tools)){const f=(i=(A=e.config.httpOptions)===null||A===void 0?void 0:A.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),WS(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var t,A,i;const o=new Map;for(const a of(A=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&A!==void 0?A:[])if(rl(a)){const u=a,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var t,A,i;const o=(i=(A=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||A===void 0?void 0:A.maximumRemoteCalls)!==null&&i!==void 0?i:S_;let a=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,m,v){return dr(this,arguments,function*(){for(var w,T,Q,D,M,k;u<o;){a&&(u++,a=!1);const re=yield Le(d.processParamsMaybeAddMcpUsage(v)),$=yield Le(d.generateContentStreamInternal(re)),b=[],R=[];try{for(var G=!0,X=(T=void 0,hr($)),te;te=yield Le(X.next()),w=te.done,!w;G=!0){D=te.value,G=!1;const U=D;if(yield yield Le(U),U.candidates&&(!((M=U.candidates[0])===null||M===void 0)&&M.content)){R.push(U.candidates[0].content);for(const N of(k=U.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(u<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(N.functionCall.name)){const L=yield Le(m.get(N.functionCall.name).callTool([N.functionCall]));b.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(U){T={error:U}}finally{try{!G&&!w&&(Q=X.return)&&(yield Le(Q.call(X)))}finally{if(T)throw T.error}}if(b.length>0){a=!0;const U=new Su;U.candidates=[{content:{role:"user",parts:b}}],yield yield Le(U);const N=[];N.push(...R),N.push({role:"user",parts:b});const L=er(v.contents).concat(N);v.contents=L}else break}})})(this,f,e)}async generateContentInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=E_(this.apiClient,e);return u=ge("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=T_(m),w=new Su;return Object.assign(w,v),w})}else{const d=C_(this.apiClient,e);return u=ge("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=__(m),w=new Su;return Object.assign(w,v),w})}}async generateContentStreamInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=E_(this.apiClient,e);return u=ge("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}),a.then(function(v){return dr(this,arguments,function*(){var w,T,Q,D;try{for(var M=!0,k=hr(v),G;G=yield Le(k.next()),w=G.done,!w;M=!0){D=G.value,M=!1;const X=D,te=T_(yield Le(X.json()));te.sdkHttpResponse={headers:X.headers};const re=new Su;Object.assign(re,te),yield yield Le(re)}}catch(X){T={error:X}}finally{try{!M&&!w&&(Q=k.return)&&(yield Le(Q.call(k)))}finally{if(T)throw T.error}}})})}else{const d=C_(this.apiClient,e);return u=ge("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(v){return dr(this,arguments,function*(){var w,T,Q,D;try{for(var M=!0,k=hr(v),G;G=yield Le(k.next()),w=G.done,!w;M=!0){D=G.value,M=!1;const X=D,te=__(yield Le(X.json()));te.sdkHttpResponse={headers:X.headers};const re=new Su;Object.assign(re,te),yield yield Le(re)}}catch(X){T={error:X}}finally{try{!M&&!w&&(Q=k.return)&&(yield Le(Q.call(k)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=_M(this.apiClient,e);return u=ge("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=IM(m),w=new i_;return Object.assign(w,v),w})}else{const d=EM(this.apiClient,e);return u=ge("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=TM(m),w=new i_;return Object.assign(w,v),w})}}async generateImagesInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=LM(this.apiClient,e);return u=ge("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=PM(m),w=new s_;return Object.assign(w,v),w})}else{const d=MM(this.apiClient,e);return u=ge("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=HM(m),w=new s_;return Object.assign(w,v),w})}}async editImageInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=BM(this.apiClient,e);return o=ge("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=vM(f),m=new U1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=LL(this.apiClient,e);return o=ge("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=HL(f),m=new F1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=yL(this.apiClient,e);return o=ge("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=BL(f),m=new Q1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=TL(this.apiClient,e);return o=ge("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=IL(f),m=new R1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=nL(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>ay(m))}else{const d=tL(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>oy(m))}}async listInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=cL(this.apiClient,e);return u=ge("{models_url}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=dL(m),w=new o_;return Object.assign(w,v),w})}else{const d=uL(this.apiClient,e);return u=ge("{models_url}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=fL(m),w=new o_;return Object.assign(w,v),w})}}async update(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=DL(this.apiClient,e);return u=ge("{model}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>ay(m))}else{const d=NL(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>oy(m))}}async delete(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=gM(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=mM(m),w=new a_;return Object.assign(w,v),w})}else{const d=hM(this.apiClient,e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=pM(m),w=new a_;return Object.assign(w,v),w})}}async countTokens(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=cM(this.apiClient,e);return u=ge("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=dM(m),w=new l_;return Object.assign(w,v),w})}else{const d=uM(this.apiClient,e);return u=ge("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=fM(m),w=new l_;return Object.assign(w,v),w})}}async computeTokens(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=AM(this.apiClient,e);return o=ge("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=rM(f),m=new b1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=qM(this.apiClient,e);return u=ge("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>{const v=KM(m),w=new Jd;return Object.assign(w,v),w})}else{const d=GM(this.apiClient,e);return u=ge("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const v=kM(m),w=new Jd;return Object.assign(w,v),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RH extends Di{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,A=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;A&&"httpOptions"in A&&(o=A.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:A});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,A=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;A&&"httpOptions"in A&&(o=A.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:A});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=C1(e);return u=ge("{operationName}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a}else{const d=w1(e);return u=ge("{operationName}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a}}async fetchPredictVideosOperationInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=h1(e);return o=ge("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bH(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function xH(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>kH(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function NH(n,e,t){const A={},i=h(e,["expireTime"]);t!==void 0&&i!=null&&g(t,["expireTime"],i);const o=h(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&g(t,["newSessionExpireTime"],o);const a=h(e,["uses"]);t!==void 0&&a!=null&&g(t,["uses"],a);const u=h(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&g(t,["bidiGenerateContentSetup"],OH(n,u));const f=h(e,["lockAdditionalFields"]);return t!==void 0&&f!=null&&g(t,["fieldMask"],f),A}function DH(n,e){const t={},A=h(e,["config"]);return A!=null&&g(t,["config"],NH(n,A,t)),t}function MH(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function LH(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HH(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function PH(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function VH(n,e){const t={},A=h(n,["generationConfig"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig"],A);const i=h(n,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(n,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(n,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const u=h(n,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const f=h(n,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=h(n,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(n,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=h(n,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],w0(v));const w=h(n,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const T=h(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const Q=h(n,["systemInstruction"]);e!==void 0&&Q!=null&&g(e,["setup","systemInstruction"],xH(On(Q)));const D=h(n,["tools"]);if(e!==void 0&&D!=null){let $=vl(D);Array.isArray($)&&($=$.map(b=>GH(Bl(b)))),g(e,["setup","tools"],$)}const M=h(n,["sessionResumption"]);e!==void 0&&M!=null&&g(e,["setup","sessionResumption"],KH(M));const k=h(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&g(e,["setup","inputAudioTranscription"],k);const G=h(n,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const X=h(n,["realtimeInputConfig"]);e!==void 0&&X!=null&&g(e,["setup","realtimeInputConfig"],X);const te=h(n,["contextWindowCompression"]);e!==void 0&&te!=null&&g(e,["setup","contextWindowCompression"],te);const re=h(n,["proactivity"]);if(e!==void 0&&re!=null&&g(e,["setup","proactivity"],re),h(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function OH(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["setup","model"],ot(n,A));const i=h(e,["config"]);return i!=null&&g(t,["config"],VH(i,t)),t}function kH(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],MH(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],LH(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],bH(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function KH(n){const e={},t=h(n,["handle"]);if(t!=null&&g(e,["handle"],t),h(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GH(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],HH(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],PH(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qH(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const A=n[t];if(typeof A=="object"&&A!=null&&Object.keys(A).length>0){const i=Object.keys(A).map(o=>`${t}.${o}`);e.push(...i)}else e.push(t)}return e.join(",")}function zH(n,e){let t=null;const A=n.bidiGenerateContentSetup;if(typeof A=="object"&&A!==null&&"setup"in A){const o=A.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else A!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const o=qH(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?n.fieldMask=f.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class JH extends Di{constructor(e){super(),this.apiClient=e}async create(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=DH(this.apiClient,e);o=ge("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const f=zH(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YH(n,e){const t={},A=h(n,["force"]);return e!==void 0&&A!=null&&g(e,["_query","force"],A),t}function XH(n){const e={},t=h(n,["name"]);t!=null&&g(e,["_url","name"],t);const A=h(n,["config"]);return A!=null&&YH(A,e),e}function WH(n){const e={},t=h(n,["name"]);return t!=null&&g(e,["_url","name"],t),e}function $H(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function ZH(n){const e={},t=h(n,["parent"]);t!=null&&g(e,["_url","parent"],t);const A=h(n,["config"]);return A!=null&&$H(A,e),e}function jH(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e4 extends Di{constructor(e){super(),this.apiClient=e,this.list=async t=>new qo(Fi.PAGED_ITEM_DOCUMENTS,A=>this.listInternal({parent:t.parent,config:A.config}),await this.listInternal(t),t)}async get(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WH(e);return o=ge("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,A;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=XH(e);i=ge("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal})}}async listInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZH(e);return o=ge("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=jH(f),m=new x1;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t4 extends Di{constructor(e,t=new e4(e)){super(),this.apiClient=e,this.documents=t,this.list=async(A={})=>new qo(Fi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(A),A)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qL(e);return o=ge("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YL(e);return o=ge("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,A;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=JL(e);i=ge("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal})}}async listInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eH(e);return o=ge("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=tH(f),m=new N1;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nH(e);return o=ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=AH(f),m=new D1;return Object.assign(m,d),m})}}async importFile(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$L(e);return o=ge("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=WL(f),m=new p0;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $S=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return $S=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,A=>(+A^t()&15>>+A/4).toString(16))};const n4=()=>$S();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uy(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const cy=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nr extends Error{}class Zn extends nr{constructor(e,t,A,i){super(`${Zn.makeMessage(e,t,A)}`),this.status=e,this.headers=i,this.error=t}static makeMessage(e,t,A){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):A;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,A,i){if(!e||!i)return new Nh({message:A,cause:cy(t)});const o=t;return e===400?new jS(e,o,A,i):e===401?new eU(e,o,A,i):e===403?new tU(e,o,A,i):e===404?new nU(e,o,A,i):e===409?new AU(e,o,A,i):e===422?new rU(e,o,A,i):e===429?new iU(e,o,A,i):e>=500?new sU(e,o,A,i):new Zn(e,o,A,i)}}class fy extends Zn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nh extends Zn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class ZS extends Nh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class jS extends Zn{}class eU extends Zn{}class tU extends Zn{}class nU extends Zn{}class AU extends Zn{}class rU extends Zn{}class iU extends Zn{}class sU extends Zn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A4=/^[a-z][a-z0-9+.-]*:/i,r4=n=>A4.test(n);let dy=n=>(dy=Array.isArray,dy(n));const i4=dy;let s4=i4;const R_=s4;function o4(n){if(!n)return!0;for(const e in n)return!1;return!0}function a4(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const l4=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new nr(`${n} must be an integer`);if(e<0)throw new nr(`${n} must be a positive integer`);return e},u4=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c4=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const za="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f4(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const d4=()=>{var n,e,t,A,i;const o=f4();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":x_(Deno.build.os),"X-Stainless-Arch":b_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":x_((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":b_((A=globalThis.process.arch)!==null&&A!==void 0?A:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=h4();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function h4(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const A=t.exec(navigator.userAgent);if(A){const i=A[1]||0,o=A[2]||0,a=A[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const b_=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",x_=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Xf;const g4=()=>Xf??(Xf=d4());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p4(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function oU(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function m4(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return oU({start(){},async pull(t){const{done:A,value:i}=await e.next();A?t.close():t.enqueue(i)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function aU(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function y4(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const A=n.getReader(),i=A.cancel();A.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B4=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lU=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mm(n,e,t){return lU(),new File(n,e??"unknown_file",t)}function v4(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const w4=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uU=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",C4=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&uU(n),E4=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function _4(n,e,t){if(lU(),n=await n,C4(n))return n instanceof File?n:mm([await n.arrayBuffer()],n.name);if(E4(n)){const i=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),mm(await hy(i),e,t)}const A=await hy(n);if(e||(e=v4(n)),!(t!=null&&t.type)){const i=A.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(t=Object.assign(Object.assign({},t),{type:i}))}return mm(A,e,t)}async function hy(n){var e,t,A,i,o;let a=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)a.push(n);else if(uU(n))a.push(n instanceof Blob?n:await n.arrayBuffer());else if(w4(n))try{for(var u=!0,f=hr(n),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;a.push(...await hy(m))}}catch(m){t={error:m}}finally{try{!u&&!e&&(A=f.return)&&await A.call(f)}finally{if(t)throw t.error}}else{const m=(o=n==null?void 0:n.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof n}${m?`; constructor: ${m}`:""}${T4(n)}`)}return a}function T4(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cU{constructor(e){this._client=e}}cU._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fU(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const N_=Object.freeze(Object.create(null)),I4=(n=fU)=>(function(t,...A){if(t.length===1)return t[0];let i=!1;const o=[],a=t.reduce((m,v,w)=>{var T,Q,D;/[?#]/.test(v)&&(i=!0);const M=A[w];let k=(i?encodeURIComponent:n)(""+M);return w!==A.length&&(M==null||typeof M=="object"&&M.toString===((D=Object.getPrototypeOf((Q=Object.getPrototypeOf((T=M.hasOwnProperty)!==null&&T!==void 0?T:N_))!==null&&Q!==void 0?Q:N_))===null||D===void 0?void 0:D.toString))&&(k=M+"",o.push({start:m.length+v.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),m+v+(w===A.length?"":k)},""),u=a.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(u))!==null;)o.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(o.sort((m,v)=>m.start-v.start),o.length>0){let m=0;const v=o.reduce((w,T)=>{const Q=" ".repeat(T.start-m),D="^".repeat(T.length);return m=T.start+T.length,w+Q+D},"");throw new nr(`Path parameters result in path with invalid segments:
${o.map(w=>w.error).join(`
`)}
${a}
${v}`)}return a}),Wf=I4(fU);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dU extends cU{create(e,t){var A;const{api_version:i=this._client.apiVersion}=e,o=Xd(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new nr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new nr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wf`/${i}/interactions`,Object.assign(Object.assign({body:o},t),{stream:(A=e.stream)!==null&&A!==void 0?A:!1}))}delete(e,t={},A){const{api_version:i=this._client.apiVersion}=t??{};return this._client.delete(Wf`/${i}/interactions/${e}`,A)}cancel(e,t={},A){const{api_version:i=this._client.apiVersion}=t??{};return this._client.post(Wf`/${i}/interactions/${e}/cancel`,A)}get(e,t={},A){var i;const o=t??{},{api_version:a=this._client.apiVersion}=o,u=Xd(o,["api_version"]);return this._client.get(Wf`/${a}/interactions/${e}`,Object.assign(Object.assign({query:u},A),{stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1}))}}dU._key=Object.freeze(["interactions"]);class hU extends dU{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S4(n){let e=0;for(const i of n)e+=i.length;const t=new Uint8Array(e);let A=0;for(const i of n)t.set(i,A),A+=i.length;return t}let $f;function E0(n){let e;return($f??(e=new globalThis.TextEncoder,$f=e.encode.bind(e)))(n)}let Zf;function D_(n){let e;return(Zf??(e=new globalThis.TextDecoder,Zf=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?E0(e):e;this.buffer=S4([this.buffer,t]);const A=[];let i;for(;(i=U4(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){A.push(D_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=D_(this.buffer.subarray(0,o));A.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return A}flush(){return this.buffer.length?this.decode(`
`):[]}}Dh.NEWLINE_CHARS=new Set([`
`,"\r"]);Dh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function U4(n,e){for(let i=e??0;i<n.length;i++){if(n[i]===10)return{preceding:i,index:i+1,carriage:!1};if(n[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function F4(n){for(let A=0;A<n.length-1;A++){if(n[A]===10&&n[A+1]===10||n[A]===13&&n[A+1]===13)return A+2;if(n[A]===13&&n[A+1]===10&&A+3<n.length&&n[A+2]===13&&n[A+3]===10)return A+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wd={off:0,error:200,warn:300,info:400,debug:500},M_=(n,e,t)=>{if(n){if(a4(Wd,n))return n;Xn(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Wd))}`)}};function xu(){}function jf(n,e,t){return!e||Wd[n]>Wd[t]?xu:e[n].bind(e)}const Q4={error:xu,warn:xu,info:xu,debug:xu};let L_=new WeakMap;function Xn(n){var e;const t=n.logger,A=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return Q4;const i=L_.get(t);if(i&&i[0]===A)return i[1];const o={error:jf("error",t,A),warn:jf("warn",t,A),info:jf("info",t,A),debug:jf("debug",t,A)};return L_.set(t,[A,o]),o}const Qo=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class el{constructor(e,t,A){this.iterator=e,this.controller=t,this.client=A}static fromSSEResponse(e,t,A){let i=!1;const o=A?Xn(A):console;function a(){return dr(this,arguments,function*(){var f,d,m,v;if(i)throw new nr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let w=!1;try{try{for(var T=!0,Q=hr(R4(e,t)),D;D=yield Le(Q.next()),f=D.done,!f;T=!0){v=D.value,T=!1;const M=v;if(!w)if(M.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield Le(JSON.parse(M.data))}catch(k){throw o.error("Could not parse message into JSON:",M.data),o.error("From chunk:",M.raw),k}}}catch(M){d={error:M}}finally{try{!T&&!f&&(m=Q.return)&&(yield Le(m.call(Q)))}finally{if(d)throw d.error}}w=!0}catch(M){if(uy(M))return yield Le(void 0);throw M}finally{w||t.abort()}})}return new el(a,t,A)}static fromReadableStream(e,t,A){let i=!1;function o(){return dr(this,arguments,function*(){var f,d,m,v;const w=new Dh,T=aU(e);try{for(var Q=!0,D=hr(T),M;M=yield Le(D.next()),f=M.done,!f;Q=!0){v=M.value,Q=!1;const k=v;for(const G of w.decode(k))yield yield Le(G)}}catch(k){d={error:k}}finally{try{!Q&&!f&&(m=D.return)&&(yield Le(m.call(D)))}finally{if(d)throw d.error}}for(const k of w.flush())yield yield Le(k)})}function a(){return dr(this,arguments,function*(){var f,d,m,v;if(i)throw new nr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let w=!1;try{try{for(var T=!0,Q=hr(o()),D;D=yield Le(Q.next()),f=D.done,!f;T=!0){v=D.value,T=!1;const M=v;w||M&&(yield yield Le(JSON.parse(M)))}}catch(M){d={error:M}}finally{try{!T&&!f&&(m=Q.return)&&(yield Le(m.call(Q)))}finally{if(d)throw d.error}}w=!0}catch(M){if(uy(M))return yield Le(void 0);throw M}finally{w||t.abort()}})}return new el(a,t,A)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],A=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=A.next();e.push(a),t.push(a)}return o.shift()}});return[new el(()=>i(e),this.controller,this.client),new el(()=>i(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return oU({async start(){t=e[Symbol.asyncIterator]()},async pull(A){try{const{value:i,done:o}=await t.next();if(o)return A.close();const a=E0(JSON.stringify(i)+`
`);A.enqueue(a)}catch(i){A.error(i)}},async cancel(){var A;await((A=t.return)===null||A===void 0?void 0:A.call(t))}})}}function R4(n,e){return dr(this,arguments,function*(){var A,i,o,a;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new nr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new nr("Attempted to iterate over a response with no body");const u=new x4,f=new Dh,d=aU(n.body);try{for(var m=!0,v=hr(b4(d)),w;w=yield Le(v.next()),A=w.done,!A;m=!0){a=w.value,m=!1;const T=a;for(const Q of f.decode(T)){const D=u.decode(Q);D&&(yield yield Le(D))}}}catch(T){i={error:T}}finally{try{!m&&!A&&(o=v.return)&&(yield Le(o.call(v)))}finally{if(i)throw i.error}}for(const T of f.flush()){const Q=u.decode(T);Q&&(yield yield Le(Q))}})}function b4(n){return dr(this,arguments,function*(){var t,A,i,o;let a=new Uint8Array;try{for(var u=!0,f=hr(n),d;d=yield Le(f.next()),t=d.done,!t;u=!0){o=d.value,u=!1;const m=o;if(m==null)continue;const v=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?E0(m):m;let w=new Uint8Array(a.length+v.length);w.set(a),w.set(v,a.length),a=w;let T;for(;(T=F4(a))!==-1;)yield yield Le(a.slice(0,T)),a=a.slice(T)}}catch(m){A={error:m}}finally{try{!u&&!t&&(i=f.return)&&(yield Le(i.call(f)))}finally{if(A)throw A.error}}a.length>0&&(yield yield Le(a))})}class x4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,A,i]=N4(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function N4(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function D4(n,e){const{response:t,requestLogID:A,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var u;if(e.options.stream)return Xn(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):el.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const f=t.headers.get("content-type"),d=(u=f==null?void 0:f.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await t.json():await t.text()})();return Xn(n).debug(`[${A}] response parsed`,Qo({retryOfRequestLogID:i,url:t.url,status:t.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _0 extends Promise{constructor(e,t,A=D4){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=A,this.client=e}_thenUnwrap(e){return new _0(this.client,this.responsePromise,async(t,A)=>e(await this.parseResponse(t,A),A))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gU=Symbol("brand.privateNullableHeaders");function*M4(n){if(!n)return;if(gU in n){const{values:A,nulls:i}=n;yield*A.entries();for(const o of i)yield[o,null];return}let e=!1,t;n instanceof Headers?t=n.entries():R_(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let A of t){const i=A[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=R_(A[1])?A[1]:[A[1]];let a=!1;for(const u of o)u!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,u])}}const Uu=n=>{const e=new Headers,t=new Set;for(const A of n){const i=new Set;for(const[o,a]of M4(A)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),a===null?(e.delete(o),t.add(u)):(e.append(o,a),t.delete(u))}}return{[gU]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ym=n=>{var e,t,A,i,o,a;if(typeof globalThis.process<"u")return(A=(t=(e=a1)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&A!==void 0?A:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,n))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pU;class Mh{constructor(e){var t,A,i,o,a,u,f,{baseURL:d=ym("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(t=ym("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:v="v1beta"}=e,w=Xd(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:m,apiVersion:v},w),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(A=T.timeout)!==null&&A!==void 0?A:Mh.DEFAULT_TIMEOUT,this.logger=(i=T.logger)!==null&&i!==void 0?i:console;const Q="warn";this.logLevel=Q,this.logLevel=(a=(o=M_(T.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:M_(ym("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:Q,this.fetchOptions=T.fetchOptions,this.maxRetries=(u=T.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=T.fetch)!==null&&f!==void 0?f:p4(),this.encoder=B4,this._options=T,this.apiKey=m,this.apiVersion=v,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Uu([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return Uu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Uu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,A])=>typeof A<"u").map(([t,A])=>{if(typeof A=="string"||typeof A=="number"||typeof A=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(A)}`;if(A===null)return`${encodeURIComponent(t)}=`;throw new nr(`Cannot stringify type ${typeof A}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${za}`}defaultIdempotencyKey(){return`stainless-node-retry-${n4()}`}makeStatusError(e,t,A,i){return Zn.generate(e,t,A,i)}buildURL(e,t,A){const i=!this.baseURLOverridden()&&A||this.baseURL,o=r4(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return o4(a)||(t=Object.assign(Object.assign({},a),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:A}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,A){return this.request(Promise.resolve(A).then(i=>Object.assign({method:e,path:t},i)))}request(e,t=null){return new _0(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,A){var i,o,a;const u=await e,f=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;t==null&&(t=f),await this.prepareOptions(u);const{req:d,url:m,timeout:v}=await this.buildRequest(u,{retryCount:f-t});await this.prepareRequest(d,{url:m,options:u});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=A===void 0?"":`, retryOf: ${A}`,Q=Date.now();if(Xn(this).debug(`[${w}] sending request`,Qo({retryOfRequestLogID:A,method:u.method,url:m,options:u,headers:d.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new fy;const D=new AbortController,M=await this.fetchWithTimeout(m,d,v,D).catch(cy),k=Date.now();if(M instanceof globalThis.Error){const X=`retrying, ${t} attempts remaining`;if(!((a=u.signal)===null||a===void 0)&&a.aborted)throw new fy;const te=uy(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(t)return Xn(this).info(`[${w}] connection ${te?"timed out":"failed"} - ${X}`),Xn(this).debug(`[${w}] connection ${te?"timed out":"failed"} (${X})`,Qo({retryOfRequestLogID:A,url:m,durationMs:k-Q,message:M.message})),this.retryRequest(u,t,A??w);throw Xn(this).info(`[${w}] connection ${te?"timed out":"failed"} - error; no more retries left`),Xn(this).debug(`[${w}] connection ${te?"timed out":"failed"} (error; no more retries left)`,Qo({retryOfRequestLogID:A,url:m,durationMs:k-Q,message:M.message})),te?new ZS:new Nh({cause:M})}const G=`[${w}${T}] ${d.method} ${m} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${k-Q}ms`;if(!M.ok){const X=await this.shouldRetry(M);if(t&&X){const U=`retrying, ${t} attempts remaining`;return await y4(M.body),Xn(this).info(`${G} - ${U}`),Xn(this).debug(`[${w}] response error (${U})`,Qo({retryOfRequestLogID:A,url:M.url,status:M.status,headers:M.headers,durationMs:k-Q})),this.retryRequest(u,t,A??w,M.headers)}const te=X?"error; no more retries left":"error; not retryable";Xn(this).info(`${G} - ${te}`);const re=await M.text().catch(U=>cy(U).message),$=u4(re),b=$?void 0:re;throw Xn(this).debug(`[${w}] response error (${te})`,Qo({retryOfRequestLogID:A,url:M.url,status:M.status,headers:M.headers,message:b,durationMs:Date.now()-Q})),this.makeStatusError(M.status,$,b,M.headers)}return Xn(this).info(G),Xn(this).debug(`[${w}] response start`,Qo({retryOfRequestLogID:A,url:M.url,status:M.status,headers:M.headers,durationMs:k-Q})),{response:M,options:u,controller:D,requestLogID:w,retryOfRequestLogID:A,startTime:Q}}async fetchWithTimeout(e,t,A,i){const o=t||{},{signal:a,method:u}=o,f=Xd(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),A),m=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},m?{duplex:"half"}:{}),{method:"GET"}),f);u&&(v.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(d)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,A,i){var o;let a;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(a=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!a){const d=parseFloat(f);Number.isNaN(d)?a=Date.parse(f)-Date.now():a=d*1e3}if(!(a&&0<=a&&a<60*1e3)){const d=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,d)}return await c4(a),this.makeRequest(e,t-1,A)}calculateDefaultRetryTimeoutMillis(e,t){const o=t-e,a=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return a*u*1e3}async buildRequest(e,{retryCount:t=0}={}){var A,i,o;const a=Object.assign({},e),{method:u,path:f,query:d,defaultBaseURL:m}=a,v=this.buildURL(f,d,m);"timeout"in a&&l4("timeout",a.timeout),a.timeout=(A=a.timeout)!==null&&A!==void 0?A:this.timeout;const{bodyHeaders:w,body:T}=this.buildBody({options:a}),Q=await this.buildHeaders({options:e,method:u,bodyHeaders:w,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:Q},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:v,timeout:a.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:A,retryCount:i}){let o={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let u=Uu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),g4()),this._options.defaultHeaders,A,e.headers,a]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const A=Uu([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&A.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:m4(e)}:this.encoder({body:e,headers:A})}}Mh.DEFAULT_TIMEOUT=6e4;class wn extends Mh{constructor(){super(...arguments),this.interactions=new hU(this)}}pU=wn;wn.GeminiNextGenAPIClient=pU;wn.GeminiNextGenAPIClientError=nr;wn.APIError=Zn;wn.APIConnectionError=Nh;wn.APIConnectionTimeoutError=ZS;wn.APIUserAbortError=fy;wn.NotFoundError=nU;wn.ConflictError=AU;wn.RateLimitError=iU;wn.BadRequestError=jS;wn.AuthenticationError=eU;wn.InternalServerError=sU;wn.PermissionDeniedError=tU;wn.UnprocessableEntityError=rU;wn.toFile=_4;wn.Interactions=hU;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L4(n,e){const t={},A=h(n,["name"]);return A!=null&&g(t,["_url","name"],A),t}function H4(n,e){const t={},A=h(n,["name"]);return A!=null&&g(t,["_url","name"],A),t}function P4(n,e){const t={},A=h(n,["sdkHttpResponse"]);return A!=null&&g(t,["sdkHttpResponse"],A),t}function V4(n,e){const t={},A=h(n,["sdkHttpResponse"]);return A!=null&&g(t,["sdkHttpResponse"],A),t}function O4(n,e,t){const A={};if(h(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=h(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),h(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=h(n,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const a=h(n,["learningRateMultiplier"]);if(a!=null&&g(A,["tuningTask","hyperparameters","learningRateMultiplier"],a),h(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=h(n,["batchSize"]);e!==void 0&&u!=null&&g(e,["tuningTask","hyperparameters","batchSize"],u);const f=h(n,["learningRate"]);if(e!==void 0&&f!=null&&g(e,["tuningTask","hyperparameters","learningRate"],f),h(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return A}function k4(n,e,t){const A={};let i=h(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const T=h(n,["validationDataset"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec"],H_(T))}else if(i==="PREFERENCE_TUNING"){const T=h(n,["validationDataset"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec"],H_(T))}const o=h(n,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const a=h(n,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);let u=h(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=h(n,["epochCount"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(u==="PREFERENCE_TUNING"){const T=h(n,["epochCount"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let f=h(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=h(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(f==="PREFERENCE_TUNING"){const T=h(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let d=h(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const T=h(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(d==="PREFERENCE_TUNING"){const T=h(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let m=h(t,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=h(n,["adapterSize"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(m==="PREFERENCE_TUNING"){const T=h(n,["adapterSize"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(h(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=h(n,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const w=h(n,["beta"]);return e!==void 0&&w!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),A}function K4(n,e){const t={},A=h(n,["baseModel"]);A!=null&&g(t,["baseModel"],A);const i=h(n,["preTunedModel"]);i!=null&&g(t,["preTunedModel"],i);const o=h(n,["trainingDataset"]);o!=null&&e2(o);const a=h(n,["config"]);return a!=null&&O4(a,t),t}function G4(n,e){const t={},A=h(n,["baseModel"]);A!=null&&g(t,["baseModel"],A);const i=h(n,["preTunedModel"]);i!=null&&g(t,["preTunedModel"],i);const o=h(n,["trainingDataset"]);o!=null&&t2(o,t,e);const a=h(n,["config"]);return a!=null&&k4(a,t,e),t}function q4(n,e){const t={},A=h(n,["name"]);return A!=null&&g(t,["_url","name"],A),t}function z4(n,e){const t={},A=h(n,["name"]);return A!=null&&g(t,["_url","name"],A),t}function J4(n,e,t){const A={},i=h(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=h(n,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=h(n,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),A}function Y4(n,e,t){const A={},i=h(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=h(n,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=h(n,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),A}function X4(n,e){const t={},A=h(n,["config"]);return A!=null&&J4(A,t),t}function W4(n,e){const t={},A=h(n,["config"]);return A!=null&&Y4(A,t),t}function $4(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=h(n,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>mU(u))),g(t,["tuningJobs"],a)}return t}function Z4(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=h(n,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>gy(u))),g(t,["tuningJobs"],a)}return t}function j4(n,e){const t={},A=h(n,["name"]);A!=null&&g(t,["model"],A);const i=h(n,["name"]);return i!=null&&g(t,["endpoint"],i),t}function e2(n,e){const t={};if(h(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const A=h(n,["examples"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>o)),g(t,["examples","examples"],i)}return t}function t2(n,e,t){const A={};let i=h(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=h(n,["gcsUri"]);e!==void 0&&a!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=h(n,["gcsUri"]);e!==void 0&&a!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=h(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=h(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=h(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(h(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return A}function mU(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["name"]);i!=null&&g(t,["name"],i);const o=h(n,["state"]);o!=null&&g(t,["state"],xS(o));const a=h(n,["createTime"]);a!=null&&g(t,["createTime"],a);const u=h(n,["tuningTask","startTime"]);u!=null&&g(t,["startTime"],u);const f=h(n,["tuningTask","completeTime"]);f!=null&&g(t,["endTime"],f);const d=h(n,["updateTime"]);d!=null&&g(t,["updateTime"],d);const m=h(n,["description"]);m!=null&&g(t,["description"],m);const v=h(n,["baseModel"]);v!=null&&g(t,["baseModel"],v);const w=h(n,["_self"]);return w!=null&&g(t,["tunedModel"],j4(w)),t}function gy(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["name"]);i!=null&&g(t,["name"],i);const o=h(n,["state"]);o!=null&&g(t,["state"],xS(o));const a=h(n,["createTime"]);a!=null&&g(t,["createTime"],a);const u=h(n,["startTime"]);u!=null&&g(t,["startTime"],u);const f=h(n,["endTime"]);f!=null&&g(t,["endTime"],f);const d=h(n,["updateTime"]);d!=null&&g(t,["updateTime"],d);const m=h(n,["error"]);m!=null&&g(t,["error"],m);const v=h(n,["description"]);v!=null&&g(t,["description"],v);const w=h(n,["baseModel"]);w!=null&&g(t,["baseModel"],w);const T=h(n,["tunedModel"]);T!=null&&g(t,["tunedModel"],T);const Q=h(n,["preTunedModel"]);Q!=null&&g(t,["preTunedModel"],Q);const D=h(n,["supervisedTuningSpec"]);D!=null&&g(t,["supervisedTuningSpec"],D);const M=h(n,["preferenceOptimizationSpec"]);M!=null&&g(t,["preferenceOptimizationSpec"],M);const k=h(n,["tuningDataStats"]);k!=null&&g(t,["tuningDataStats"],k);const G=h(n,["encryptionSpec"]);G!=null&&g(t,["encryptionSpec"],G);const X=h(n,["partnerModelTuningSpec"]);X!=null&&g(t,["partnerModelTuningSpec"],X);const te=h(n,["customBaseModel"]);te!=null&&g(t,["customBaseModel"],te);const re=h(n,["experiment"]);re!=null&&g(t,["experiment"],re);const $=h(n,["labels"]);$!=null&&g(t,["labels"],$);const b=h(n,["outputUri"]);b!=null&&g(t,["outputUri"],b);const R=h(n,["pipelineJob"]);R!=null&&g(t,["pipelineJob"],R);const U=h(n,["serviceAccount"]);U!=null&&g(t,["serviceAccount"],U);const N=h(n,["tunedModelDisplayName"]);N!=null&&g(t,["tunedModelDisplayName"],N);const L=h(n,["veoTuningSpec"]);return L!=null&&g(t,["veoTuningSpec"],L),t}function n2(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["name"]);i!=null&&g(t,["name"],i);const o=h(n,["metadata"]);o!=null&&g(t,["metadata"],o);const a=h(n,["done"]);a!=null&&g(t,["done"],a);const u=h(n,["error"]);return u!=null&&g(t,["error"],u),t}function H_(n,e){const t={},A=h(n,["gcsUri"]);A!=null&&g(t,["validationDatasetUri"],A);const i=h(n,["vertexDatasetResource"]);return i!=null&&g(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A2 extends Di{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new qo(Fi.PAGED_ITEM_TUNING_JOBS,A=>this.listInternal(A),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var A;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((A=t.config)===null||A===void 0)&&A.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},t),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Ay.JOB_STATE_QUEUED}}}}async getInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=z4(e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>gy(m))}else{const d=q4(e);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>mU(m))}}async listInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=W4(e);return u=ge("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=Z4(m),w=new u_;return Object.assign(w,v),w})}else{const d=X4(e);return u=ge("tunedModels",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=$4(m),w=new u_;return Object.assign(w,v),w})}}async cancel(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=H4(e);return u=ge("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=V4(m),w=new c_;return Object.assign(w,v),w})}else{const d=L4(e);return u=ge("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=P4(m),w=new c_;return Object.assign(w,v),w})}}async tuneInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=G4(e,e);return o=ge("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>gy(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=K4(e);return o=ge("tunedModels",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>n2(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r2{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const i2=1024*1024*8,s2=3,o2=1e3,a2=2,$d="x-goog-upload-status";async function l2(n,e,t){var A;const i=await yU(n,e,t),o=await(i==null?void 0:i.json());if(((A=i==null?void 0:i.headers)===null||A===void 0?void 0:A[$d])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function u2(n,e,t){var A;const i=await yU(n,e,t),o=await(i==null?void 0:i.json());if(((A=i==null?void 0:i.headers)===null||A===void 0?void 0:A[$d])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=SS(o),u=new m0;return Object.assign(u,a),u}async function yU(n,e,t){var A,i;let o=0,a=0,u=new ry(new Response),f="upload";for(o=n.size;a<o;){const d=Math.min(i2,o-a),m=n.slice(a,a+d);a+d>=o&&(f+=", finalize");let v=0,w=o2;for(;v<s2&&(u=await t.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((A=u==null?void 0:u.headers)===null||A===void 0)&&A[$d]));)v++,await f2(w),w=w*a2;if(a+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[$d])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function c2(n){return{size:n.size,type:n.type}}function f2(n){return new Promise(e=>setTimeout(e,n))}class d2{async upload(e,t,A){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await l2(e,t,A)}async uploadToFileSearchStore(e,t,A){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await u2(e,t,A)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await c2(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h2{create(e,t,A){return new g2(e,t,A)}}class g2{constructor(e,t,A){this.url=e,this.headers=t,this.callbacks=A}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P_="x-goog-api-key";class p2{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(P_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(P_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m2="gl-node/";class Lh{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new wn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const A=f1(e.httpOptions,e.vertexai,void 0,void 0);A&&(e.httpOptions?e.httpOptions.baseUrl=A:e.httpOptions={baseUrl:A}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new p2(this.apiKey);this.apiClient=new cH({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:m2+"web",uploader:new d2,downloader:new r2}),this.models=new QH(this.apiClient),this.live=new _H(this.apiClient,i,new h2),this.batches=new ON(this.apiClient),this.chats=new CD(this.models,this.apiClient),this.caches=new BD(this.apiClient),this.files=new bD(this.apiClient),this.operations=new RH(this.apiClient),this.authTokens=new JH(this.apiClient),this.tunings=new A2(this.apiClient),this.fileSearchStores=new t4(this.apiClient)}}const y2=async(n,e,t="Traditional Chinese")=>{const A=new Lh({apiKey:e}),i=`
    Analyze the provided menu images. 
    1. Identify the restaurant name and its approximate address if possible.
    2. Detect the dominant language of the menu text (ISO 639-1 code like 'ja', 'ko', 'fr', 'en') as detected_language.
    3. Extract all menu items. 
    4. For each item:
       - name_original: Original text from menu.
       - name_translated: Translated into ${t}.
       - description: One very concise sentence summary (max 10 words) in ${t}.
       - price_original: Numeric value of the price.
       - currency_original: Currency symbol or code (e.g., JPY, TWD).
       - category: Category like "Mains", "Drinks", "Appetizers".
    
    Translate accurately to ${t}.
  `,o=n.map(u=>({inlineData:{mimeType:"image/jpeg",data:u.split(",")[1]}})),a=await A.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{text:i},...o]},config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{restaurant_name:{type:Et.STRING},restaurant_address:{type:Et.STRING},detected_language:{type:Et.STRING},items:{type:Et.ARRAY,items:{type:Et.OBJECT,properties:{name_original:{type:Et.STRING},name_translated:{type:Et.STRING},description:{type:Et.STRING},price_original:{type:Et.NUMBER},currency_original:{type:Et.STRING},category:{type:Et.STRING}},required:["name_original","name_translated","price_original","currency_original","category"]}}},required:["restaurant_name","items","detected_language"]}}});return JSON.parse(a.text)},B2=async(n,e,t="Traditional Chinese")=>{const A=new Lh({apiKey:e}),i=`
    Analyze the provided images containing text.
    1. Transcribe all the visible text from the images into a single string (original_text). Preserve layout/line breaks if it helps readability.
    2. Detect the language of the original text (ISO code) as detected_language.
    3. Translate the transcribed text into ${t} (translated_text).
  `,o=n.map(u=>({inlineData:{mimeType:"image/jpeg",data:u.split(",")[1]}})),a=await A.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{text:i},...o]},config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{original_text:{type:Et.STRING},translated_text:{type:Et.STRING},detected_language:{type:Et.STRING}},required:["original_text","translated_text","detected_language"]}}});return JSON.parse(a.text)},v2=async(n,e)=>{const t=new Lh({apiKey:e}),A=`
    Translate the following text based on this logic:
    1. If the input is in Chinese (Traditional/Simplified) or English, translate it to Japanese.
    2. If the input is in Japanese, translate it to Traditional Chinese (Hong Kong/Taiwan).
    3. If the input is in any other language, translate it to Traditional Chinese.

    Return the result in JSON format with keys "translated_text" and "detected_language" (ISO code of the source).
    
    Input Text: "${n}"
  `,i=await t.models.generateContent({model:"gemini-3-flash-preview",contents:A,config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{translated_text:{type:Et.STRING},detected_language:{type:Et.STRING}},required:["translated_text","detected_language"]}}});return JSON.parse(i.text)},w2=async n=>{const e={JPY:.052,TWD:.24,KRW:.0058,USD:7.8,CNY:1.08,EUR:8.5},t=n.toUpperCase().replace(/[^A-Z]/g,"");return e[t]||.05},C2=async(n,e,t)=>{var o;const A=new Lh({apiKey:t}),i=`What is the precise street address for the location at Latitude ${n}, Longitude ${e}? 
  Please prioritize returning the address in Traditional Chinese () or Kanji () if the location is in Greater China or Japan. 
  Otherwise, use English. 
  Return ONLY the address text without any introductory phrases.`;try{return((o=(await A.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{tools:[{googleMaps:{}}]}})).text)==null?void 0:o.trim())||`${n.toFixed(5)}, ${e.toFixed(5)}`}catch(a){return console.error("Reverse geocoding error:",a),`${n.toFixed(5)}, ${e.toFixed(5)}`}},E2=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=function(n){const e=[];let t=0;for(let A=0;A<n.length;A++){let i=n.charCodeAt(A);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&A+1<n.length&&(n.charCodeAt(A+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++A)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_2=function(n){const e=[];let t=0,A=0;for(;t<n.length;){const i=n[t++];if(i<128)e[A++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[A++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],a=n[t++],u=n[t++],f=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[A++]=String.fromCharCode(55296+(f>>10)),e[A++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],a=n[t++];e[A++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},vU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let i=0;i<n.length;i+=3){const o=n[i],a=i+1<n.length,u=a?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let w=(u&15)<<2|d>>6,T=d&63;f||(T=64,a||(w=64)),A.push(t[m],t[v],t[w],t[T])}return A.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||d==null||v==null)throw new T2;const w=o<<2|u>>4;if(A.push(w),d!==64){const T=u<<4&240|d>>2;if(A.push(T),v!==64){const Q=d<<6&192|v;A.push(Q)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class T2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I2=function(n){const e=BU(n);return vU.encodeByteArray(e,!0)},Zd=function(n){return I2(n).replace(/\./g,"")},wU=function(n){try{return vU.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=()=>S2().__FIREBASE_DEFAULTS__,F2=()=>{if(typeof process>"u"||typeof V_>"u")return;const n=V_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Q2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&wU(n[1]);return e&&JSON.parse(e)},Hh=()=>{try{return E2()||U2()||F2()||Q2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CU=n=>{var e,t;return(t=(e=Hh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},R2=n=>{const e=CU(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const A=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),A]:[e.substring(0,t),A]},EU=()=>{var n;return(n=Hh())==null?void 0:n.config},_U=n=>{var e;return(e=Hh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,A)=>{t?this.reject(t):this.resolve(A),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,A))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TU(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},A=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${A}`,aud:A,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zd(JSON.stringify(t)),Zd(JSON.stringify(a)),""].join(".")}const Ju={};function N2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ju))Ju[e]?n.emulator.push(e):n.prod.push(e);return n}function D2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let O_=!1;function IU(n,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||Ju[n]===e||Ju[n]||O_)return;Ju[n]=e;function t(w){return`__firebase__banner__${w}`}const A="__firebase__banner",o=N2().prod.length>0;function a(){const w=document.getElementById(A);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{O_=!0,a()},w}function m(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=D2(A),T=t("text"),Q=document.getElementById(T)||document.createElement("span"),D=t("learnmore"),M=document.getElementById(D)||document.createElement("a"),k=t("preprendIcon"),G=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;u(X),m(M,D);const te=d();f(G,k),X.append(G,Q,M,te),document.body.appendChild(X)}o?(Q.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function L2(){var e;const n=(e=Hh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function P2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V2(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function O2(){return!L2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UU(){try{return typeof indexedDB=="object"}catch{return!1}}function FU(){return new Promise((n,e)=>{try{let t=!0;const A="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(A);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(A),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}function k2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="FirebaseError";class wr extends Error{constructor(e,t,A){super(t),this.code=e,this.customData=A,this.name=K2,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,t,A){this.service=e,this.serviceName=t,this.errors=A}create(e,...t){const A=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?G2(o,A):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new wr(i,u,A)}}function G2(n,e){return n.replace(q2,(t,A)=>{const i=e[A];return i!=null?String(i):`<${A}?>`})}const q2=/\{\$([^}]+)}/g;function z2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hs(n,e){if(n===e)return!0;const t=Object.keys(n),A=Object.keys(e);for(const i of t){if(!A.includes(i))return!1;const o=n[i],a=e[i];if(k_(o)&&k_(a)){if(!Hs(o,a))return!1}else if(o!==a)return!1}for(const i of A)if(!t.includes(i))return!1;return!0}function k_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n){const e=[];for(const[t,A]of Object.entries(n))Array.isArray(A)?A.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(A));return e.length?"&"+e.join("&"):""}function Nu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(A=>{if(A){const[i,o]=A.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Du(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function J2(n,e){const t=new Y2(n,e);return t.subscribe.bind(t)}class Y2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(A=>{this.error(A)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,A){let i;if(e===void 0&&t===void 0&&A===void 0)throw new Error("Missing Observer.");X2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:A},i.next===void 0&&(i.next=Bm),i.error===void 0&&(i.error=Bm),i.complete===void 0&&(i.complete=Bm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(A){typeof console<"u"&&console.error&&console.error(A)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=1e3,$2=2,Z2=14400*1e3,j2=.5;function K_(n,e=W2,t=$2){const A=e*Math.pow(t,n),i=Math.round(j2*A*(Math.random()-.5)*2);return Math.min(Z2,A+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class pr{constructor(e,t,A){this.name=e,this.instanceFactory=t,this.type=A,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const A=new b2;if(this.instancesDeferred.set(t,A),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&A.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),A=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(A)return null;throw i}else{if(A)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nP(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[t,A]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});A.resolve(o)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,A=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(A))throw Error(`${this.name}(${A}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:A,options:t});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);A===u&&a.resolve(i)}return i}onInit(e,t){const A=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(A)??new Set;i.add(e),this.onInitCallbacks.set(A,i);const o=this.instances.get(A);return o&&e(o,A),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const A=this.onInitCallbacks.get(t);if(A)for(const i of A)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let A=this.instances.get(e);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:tP(e),options:t}),this.instances.set(e,A),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(A,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,A)}catch{}return A||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tP(n){return n===Ro?void 0:n}function nP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const rP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},iP=je.INFO,sP={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},oP=(n,e,...t)=>{if(e<n.logLevel)return;const A=new Date().toISOString(),i=sP[e];if(i)console[i](`[${A}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Ph=class{constructor(e){this.name=e,this._logLevel=iP,this._logHandler=oP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}};const aP=(n,e)=>e.some(t=>n instanceof t);let G_,q_;function lP(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uP(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QU=new WeakMap,py=new WeakMap,RU=new WeakMap,vm=new WeakMap,T0=new WeakMap;function cP(n){const e=new Promise((t,A)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{t(bs(n.result)),i()},a=()=>{A(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&QU.set(t,n)}).catch(()=>{}),T0.set(e,n),e}function fP(n){if(py.has(n))return;const e=new Promise((t,A)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{t(),i()},a=()=>{A(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});py.set(n,e)}let my={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return py.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RU.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dP(n){my=n(my)}function hP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const A=n.call(wm(this),e,...t);return RU.set(A,e.sort?e.sort():[e]),bs(A)}:uP().includes(n)?function(...e){return n.apply(wm(this),e),bs(QU.get(this))}:function(...e){return bs(n.apply(wm(this),e))}}function gP(n){return typeof n=="function"?hP(n):(n instanceof IDBTransaction&&fP(n),aP(n,lP())?new Proxy(n,my):n)}function bs(n){if(n instanceof IDBRequest)return cP(n);if(vm.has(n))return vm.get(n);const e=gP(n);return e!==n&&(vm.set(n,e),T0.set(e,n)),e}const wm=n=>T0.get(n);function bU(n,e,{blocked:t,upgrade:A,blocking:i,terminated:o}={}){const a=indexedDB.open(n,e),u=bs(a);return A&&a.addEventListener("upgradeneeded",f=>{A(bs(a.result),f.oldVersion,f.newVersion,bs(a.transaction),f)}),t&&a.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const pP=["get","getKey","getAll","getAllKeys","count"],mP=["put","add","delete","clear"],Cm=new Map;function z_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const t=e.replace(/FromIndex$/,""),A=e!==t,i=mP.includes(t);if(!(t in(A?IDBIndex:IDBObjectStore).prototype)||!(i||pP.includes(t)))return;const o=async function(a,...u){const f=this.transaction(a,i?"readwrite":"readonly");let d=f.store;return A&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&f.done]))[0]};return Cm.set(e,o),o}dP(n=>({...n,get:(e,t,A)=>z_(e,t)||n.get(e,t,A),has:(e,t)=>!!z_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BP(t)){const A=t.getImmediate();return`${A.library}/${A.version}`}else return null}).filter(t=>t).join(" ")}}function BP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",J_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Ph("@firebase/app"),vP="@firebase/app-compat",wP="@firebase/analytics-compat",CP="@firebase/analytics",EP="@firebase/app-check-compat",_P="@firebase/app-check",TP="@firebase/auth",IP="@firebase/auth-compat",SP="@firebase/database",UP="@firebase/data-connect",FP="@firebase/database-compat",QP="@firebase/functions",RP="@firebase/functions-compat",bP="@firebase/installations",xP="@firebase/installations-compat",NP="@firebase/messaging",DP="@firebase/messaging-compat",MP="@firebase/performance",LP="@firebase/performance-compat",HP="@firebase/remote-config",PP="@firebase/remote-config-compat",VP="@firebase/storage",OP="@firebase/storage-compat",kP="@firebase/firestore",KP="@firebase/ai",GP="@firebase/firestore-compat",qP="firebase",zP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="[DEFAULT]",JP={[yy]:"fire-core",[vP]:"fire-core-compat",[CP]:"fire-analytics",[wP]:"fire-analytics-compat",[_P]:"fire-app-check",[EP]:"fire-app-check-compat",[TP]:"fire-auth",[IP]:"fire-auth-compat",[SP]:"fire-rtdb",[UP]:"fire-data-connect",[FP]:"fire-rtdb-compat",[QP]:"fire-fn",[RP]:"fire-fn-compat",[bP]:"fire-iid",[xP]:"fire-iid-compat",[NP]:"fire-fcm",[DP]:"fire-fcm-compat",[MP]:"fire-perf",[LP]:"fire-perf-compat",[HP]:"fire-rc",[PP]:"fire-rc-compat",[VP]:"fire-gcs",[OP]:"fire-gcs-compat",[kP]:"fire-fst",[GP]:"fire-fst-compat",[KP]:"fire-vertex","fire-js":"fire-js",[qP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,YP=new Map,vy=new Map;function Y_(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qr(n){const e=n.name;if(vy.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,n);for(const t of jd.values())Y_(t,n);for(const t of YP.values())Y_(t,n);return!0}function Jo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function WA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new zo("app","Firebase",XP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t,A){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=A,this.container.addComponent(new pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=zP;function xU(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const A={name:By,automaticDataCollectionEnabled:!0,...e},i=A.name;if(typeof i!="string"||!i)throw xs.create("bad-app-name",{appName:String(i)});if(t||(t=EU()),!t)throw xs.create("no-options");const o=jd.get(i);if(o){if(Hs(t,o.options)&&Hs(A,o.config))return o;throw xs.create("duplicate-app",{appName:i})}const a=new AP(i);for(const f of vy.values())a.addComponent(f);const u=new WP(t,A,a);return jd.set(i,u),u}function I0(n=By){const e=jd.get(n);if(!e&&n===By&&EU())return xU();if(!e)throw xs.create("no-app",{appName:n});return e}function tr(n,e,t){let A=JP[n]??n;t&&(A+=`-${t}`);const i=A.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${A}" with version "${e}":`];i&&a.push(`library name "${A}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(a.join(" "));return}qr(new pr(`${A}-version`,()=>({library:A,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebase-heartbeat-database",ZP=1,rc="firebase-heartbeat-store";let Em=null;function NU(){return Em||(Em=bU($P,ZP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),Em}async function jP(n){try{const t=(await NU()).transaction(rc),A=await t.objectStore(rc).get(DU(n));return await t.done,A}catch(e){if(e instanceof wr)Qi.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(t.message)}}}async function X_(n,e){try{const A=(await NU()).transaction(rc,"readwrite");await A.objectStore(rc).put(e,DU(n)),await A.done}catch(t){if(t instanceof wr)Qi.warn(t.message);else{const A=xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qi.warn(A.message)}}}function DU(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=1024,tV=30;class nV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rV(t),this._heartbeatsCachePromise=this._storage.read().then(A=>(this._heartbeatsCache=A,A))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=W_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>tV){const a=iV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(A){Qi.warn(A)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:A,unsentEntries:i}=AV(this._heartbeatsCache.heartbeats),o=Zd(JSON.stringify({version:2,heartbeats:A}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qi.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function AV(n,e=eV){const t=[];let A=n.slice();for(const i of n){const o=t.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),$_(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$_(t)>e){t.pop();break}A=A.slice(1)}return{heartbeatsToSend:t,unsentEntries:A}}class rV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UU()?FU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const A=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??A.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const A=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??A.lastSentHeartbeatDate,heartbeats:[...A.heartbeats,...e.heartbeats]})}else return}}function $_(n){return Zd(JSON.stringify({version:2,heartbeats:n})).length}function iV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let A=1;A<n.length;A++)n[A].date<t&&(t=n[A].date,e=A);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(n){qr(new pr("platform-logger",e=>new yP(e),"PRIVATE")),qr(new pr("heartbeat",e=>new nV(e),"PRIVATE")),tr(yy,J_,n),tr(yy,J_,"esm2020"),tr("fire-js","")}sV("");var oV="firebase",aV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(oV,aV,"app");const MU="@firebase/installations",S0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=1e4,HU=`w:${S0}`,PU="FIS_v2",lV="https://firebaseinstallations.googleapis.com/v1",uV=3600*1e3,cV="installations",fV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Po=new zo(cV,fV,dV);function VU(n){return n instanceof wr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU({projectId:n}){return`${lV}/projects/${n}/installations`}function kU(n){return{token:n.token,requestStatus:2,expiresIn:gV(n.expiresIn),creationTime:Date.now()}}async function KU(n,e){const A=(await e.json()).error;return Po.create("request-failed",{requestName:n,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})}function GU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hV(n,{refreshToken:e}){const t=GU(n);return t.append("Authorization",pV(e)),t}async function qU(n){const e=await n();return e.status>=500&&e.status<600?n():e}function gV(n){return Number(n.replace("s","000"))}function pV(n){return`${PU} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const A=OU(n),i=GU(n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={fid:t,authVersion:PU,appId:n.appId,sdkVersion:HU},u={method:"POST",headers:i,body:JSON.stringify(a)},f=await qU(()=>fetch(A,u));if(f.ok){const d=await f.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:kU(d.authToken)}}else throw await KU("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^[cdef][\w-]{21}$/,wy="";function vV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=wV(n);return BV.test(t)?t:wy}catch{return wy}}function wV(n){return yV(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=new Map;function YU(n,e){const t=Vh(n);XU(t,e),CV(t,e)}function XU(n,e){const t=JU.get(n);if(t)for(const A of t)A(e)}function CV(n,e){const t=EV();t&&t.postMessage({key:n,fid:e}),_V()}let xo=null;function EV(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=n=>{XU(n.data.key,n.data.fid)}),xo}function _V(){JU.size===0&&xo&&(xo.close(),xo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebase-installations-database",IV=1,Vo="firebase-installations-store";let _m=null;function U0(){return _m||(_m=bU(TV,IV,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Vo)}}})),_m}async function eh(n,e){const t=Vh(n),i=(await U0()).transaction(Vo,"readwrite"),o=i.objectStore(Vo),a=await o.get(t);return await o.put(e,t),await i.done,(!a||a.fid!==e.fid)&&YU(n,e.fid),e}async function WU(n){const e=Vh(n),A=(await U0()).transaction(Vo,"readwrite");await A.objectStore(Vo).delete(e),await A.done}async function Oh(n,e){const t=Vh(n),i=(await U0()).transaction(Vo,"readwrite"),o=i.objectStore(Vo),a=await o.get(t),u=e(a);return u===void 0?await o.delete(t):await o.put(u,t),await i.done,u&&(!a||a.fid!==u.fid)&&YU(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(n){let e;const t=await Oh(n.appConfig,A=>{const i=SV(A),o=UV(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===wy?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function SV(n){const e=n||{fid:vV(),registrationStatus:0};return $U(e)}function UV(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Po.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},A=FV(n,t);return{installationEntry:t,registrationPromise:A}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QV(n)}:{installationEntry:e}}async function FV(n,e){try{const t=await mV(n,e);return eh(n.appConfig,t)}catch(t){throw VU(t)&&t.customData.serverCode===409?await WU(n.appConfig):await eh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function QV(n){let e=await Z_(n.appConfig);for(;e.registrationStatus===1;)await zU(100),e=await Z_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:A}=await F0(n);return A||t}return e}function Z_(n){return Oh(n,e=>{if(!e)throw Po.create("installation-not-found");return $U(e)})}function $U(n){return RV(n)?{fid:n.fid,registrationStatus:0}:n}function RV(n){return n.registrationStatus===1&&n.registrationTime+LU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV({appConfig:n,heartbeatServiceProvider:e},t){const A=xV(n,t),i=hV(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={installation:{sdkVersion:HU,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},f=await qU(()=>fetch(A,u));if(f.ok){const d=await f.json();return kU(d)}else throw await KU("Generate Auth Token",f)}function xV(n,{fid:e}){return`${OU(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(n,e=!1){let t;const A=await Oh(n.appConfig,o=>{if(!ZU(o))throw Po.create("not-registered");const a=o.authToken;if(!e&&MV(a))return o;if(a.requestStatus===1)return t=NV(n,e),o;{if(!navigator.onLine)throw Po.create("app-offline");const u=HV(o);return t=DV(n,u),u}});return t?await t:A.authToken}async function NV(n,e){let t=await j_(n.appConfig);for(;t.authToken.requestStatus===1;)await zU(100),t=await j_(n.appConfig);const A=t.authToken;return A.requestStatus===0?Q0(n,e):A}function j_(n){return Oh(n,e=>{if(!ZU(e))throw Po.create("not-registered");const t=e.authToken;return PV(t)?{...e,authToken:{requestStatus:0}}:e})}async function DV(n,e){try{const t=await bV(n,e),A={...e,authToken:t};return await eh(n.appConfig,A),t}catch(t){if(VU(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await WU(n.appConfig);else{const A={...e,authToken:{requestStatus:0}};await eh(n.appConfig,A)}throw t}}function ZU(n){return n!==void 0&&n.registrationStatus===2}function MV(n){return n.requestStatus===2&&!LV(n)}function LV(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+uV}function HV(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function PV(n){return n.requestStatus===1&&n.requestTime+LU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(n){const e=n,{installationEntry:t,registrationPromise:A}=await F0(e);return A?A.catch(console.error):Q0(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(n,e=!1){const t=n;return await kV(t),(await Q0(t,e)).token}async function kV(n){const{registrationPromise:e}=await F0(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n){if(!n||!n.options)throw Tm("App Configuration");if(!n.name)throw Tm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Tm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Tm(n){return Po.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="installations",GV="installations-internal",qV=n=>{const e=n.getProvider("app").getImmediate(),t=KV(e),A=Jo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:A,_delete:()=>Promise.resolve()}},zV=n=>{const e=n.getProvider("app").getImmediate(),t=Jo(e,jU).getImmediate();return{getId:()=>VV(t),getToken:i=>OV(t,i)}};function JV(){qr(new pr(jU,qV,"PUBLIC")),qr(new pr(GV,zV,"PRIVATE"))}JV();tr(MU,S0);tr(MU,S0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="analytics",YV="firebase_id",XV="origin",WV=60*1e3,$V="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",R0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new Ph("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},SA=new zo("analytics","Analytics",ZV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(n){if(!n.startsWith(R0)){const e=SA.create("invalid-gtag-resource",{gtagURL:n});return $n.warn(e.message),""}return n}function eF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function eO(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function tO(n,e){const t=eO("firebase-js-sdk-policy",{createScriptURL:jV}),A=document.createElement("script"),i=`${R0}?l=${n}&id=${e}`;A.src=t?t==null?void 0:t.createScriptURL(i):i,A.async=!0,document.head.appendChild(A)}function nO(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function AO(n,e,t,A,i,o){const a=A[i];try{if(a)await e[a];else{const f=(await eF(t)).find(d=>d.measurementId===i);f&&await e[f.appId]}}catch(u){$n.error(u)}n("config",i,o)}async function rO(n,e,t,A,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const u=await eF(t);for(const f of a){const d=u.find(v=>v.measurementId===f),m=d&&e[d.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",A,i||{})}catch(o){$n.error(o)}}function iO(n,e,t,A){async function i(o,...a){try{if(o==="event"){const[u,f]=a;await rO(n,e,t,u,f)}else if(o==="config"){const[u,f]=a;await AO(n,e,t,A,u,f)}else if(o==="consent"){const[u,f]=a;n("consent",u,f)}else if(o==="get"){const[u,f,d]=a;n("get",u,f,d)}else if(o==="set"){const[u]=a;n("set",u)}else n(o,...a)}catch(u){$n.error(u)}}return i}function sO(n,e,t,A,i){let o=function(...a){window[A].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=iO(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function oO(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(R0)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=30,lO=1e3;class uO{constructor(e={},t=lO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tF=new uO;function cO(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function fO(n){var a;const{appId:e,apiKey:t}=n,A={method:"GET",headers:cO(t)},i=$V.replace("{app-id}",e),o=await fetch(i,A);if(o.status!==200&&o.status!==304){let u="";try{const f=await o.json();(a=f.error)!=null&&a.message&&(u=f.error.message)}catch{}throw SA.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function dO(n,e=tF,t){const{appId:A,apiKey:i,measurementId:o}=n.options;if(!A)throw SA.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:A};throw SA.create("no-api-key")}const a=e.getThrottleMetadata(A)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new pO;return setTimeout(async()=>{u.abort()},WV),nF({appId:A,apiKey:i,measurementId:o},a,u,e)}async function nF(n,{throttleEndTimeMillis:e,backoffCount:t},A,i=tF){var u;const{appId:o,measurementId:a}=n;try{await hO(A,e)}catch(f){if(a)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:a};throw f}try{const f=await fO(n);return i.deleteThrottleMetadata(o),f}catch(f){const d=f;if(!gO(d)){if(i.deleteThrottleMetadata(o),a)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw f}const m=Number((u=d==null?void 0:d.customData)==null?void 0:u.httpStatus)===503?K_(t,i.intervalMillis,aO):K_(t,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(o,v),$n.debug(`Calling attemptFetch again in ${m} millis`),nF(n,v,A,i)}}function hO(n,e){return new Promise((t,A)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),A(SA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gO(n){if(!(n instanceof wr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class pO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mO(n,e,t,A,i){if(i&&i.global){n("event",t,A);return}else{const o=await e,a={...A,send_to:o};n("event",t,a)}}async function yO(n,e,t,A){if(A&&A.global){const i={};for(const o of Object.keys(t))i[`user_properties.${o}`]=t[o];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(){if(UU())try{await FU()}catch(n){return $n.warn(SA.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return $n.warn(SA.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vO(n,e,t,A,i,o,a){const u=dO(n);u.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>$n.error(w)),e.push(u);const f=BO().then(w=>{if(w)return A.getId()}),[d,m]=await Promise.all([u,f]);oO(o)||tO(o,d.measurementId),i("js",new Date);const v=(a==null?void 0:a.config)??{};return v[XV]="firebase",v.update=!0,m!=null&&(v[YV]=m),i("config",d.measurementId,v),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.app=e}_delete(){return delete il[this.app.options.appId],Promise.resolve()}}let il={},eT=[];const tT={};let Im="dataLayer",CO="gtag",nT,b0,AT=!1;function EO(){const n=[];if(SU()&&n.push("This is a browser extension environment."),k2()||n.push("Cookies are not available."),n.length>0){const e=n.map((A,i)=>`(${i+1}) ${A}`).join(" "),t=SA.create("invalid-analytics-context",{errorInfo:e});$n.warn(t.message)}}function _O(n,e,t){EO();const A=n.options.appId;if(!A)throw SA.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw SA.create("no-api-key");if(il[A]!=null)throw SA.create("already-exists",{id:A});if(!AT){nO(Im);const{wrappedGtag:o,gtagCore:a}=sO(il,eT,tT,Im,CO);b0=o,nT=a,AT=!0}return il[A]=vO(n,eT,tT,e,nT,Im,t),new wO(n)}function TO(n=I0()){n=An(n);const e=Jo(n,th);return e.isInitialized()?e.getImmediate():IO(n)}function IO(n,e={}){const t=Jo(n,th);if(t.isInitialized()){const i=t.getImmediate();if(Hs(e,t.getOptions()))return i;throw SA.create("already-initialized")}return t.initialize({options:e})}function SO(n,e,t){n=An(n),yO(b0,il[n.app.options.appId],e,t).catch(A=>$n.error(A))}function UO(n,e,t,A){n=An(n),mO(b0,il[n.app.options.appId],e,t,A).catch(i=>$n.error(i))}const rT="@firebase/analytics",iT="0.10.19";function FO(){qr(new pr(th,(e,{options:t})=>{const A=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return _O(A,i,t)},"PUBLIC")),qr(new pr("analytics-internal",n,"PRIVATE")),tr(rT,iT),tr(rT,iT,"esm2020");function n(e){try{const t=e.getProvider(th).getImmediate();return{logEvent:(A,i,o)=>UO(t,A,i,o),setUserProperties:(A,i)=>SO(t,A,i)}}catch(t){throw SA.create("interop-component-reg-failed",{reason:t})}}}FO();var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,AF;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,R){function U(){}U.prototype=R.prototype,b.F=R.prototype,b.prototype=new U,b.prototype.constructor=b,b.D=function(N,L,V){for(var x=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)x[Ie-2]=arguments[Ie];return R.prototype[L].apply(N,x)}}function t(){this.blockSize=-1}function A(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(A,t),A.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,R,U){U||(U=0);const N=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)N[L]=R.charCodeAt(U++)|R.charCodeAt(U++)<<8|R.charCodeAt(U++)<<16|R.charCodeAt(U++)<<24;else for(L=0;L<16;++L)N[L]=R[U++]|R[U++]<<8|R[U++]<<16|R[U++]<<24;R=b.g[0],U=b.g[1],L=b.g[2];let V=b.g[3],x;x=R+(V^U&(L^V))+N[0]+3614090360&4294967295,R=U+(x<<7&4294967295|x>>>25),x=V+(L^R&(U^L))+N[1]+3905402710&4294967295,V=R+(x<<12&4294967295|x>>>20),x=L+(U^V&(R^U))+N[2]+606105819&4294967295,L=V+(x<<17&4294967295|x>>>15),x=U+(R^L&(V^R))+N[3]+3250441966&4294967295,U=L+(x<<22&4294967295|x>>>10),x=R+(V^U&(L^V))+N[4]+4118548399&4294967295,R=U+(x<<7&4294967295|x>>>25),x=V+(L^R&(U^L))+N[5]+1200080426&4294967295,V=R+(x<<12&4294967295|x>>>20),x=L+(U^V&(R^U))+N[6]+2821735955&4294967295,L=V+(x<<17&4294967295|x>>>15),x=U+(R^L&(V^R))+N[7]+4249261313&4294967295,U=L+(x<<22&4294967295|x>>>10),x=R+(V^U&(L^V))+N[8]+1770035416&4294967295,R=U+(x<<7&4294967295|x>>>25),x=V+(L^R&(U^L))+N[9]+2336552879&4294967295,V=R+(x<<12&4294967295|x>>>20),x=L+(U^V&(R^U))+N[10]+4294925233&4294967295,L=V+(x<<17&4294967295|x>>>15),x=U+(R^L&(V^R))+N[11]+2304563134&4294967295,U=L+(x<<22&4294967295|x>>>10),x=R+(V^U&(L^V))+N[12]+1804603682&4294967295,R=U+(x<<7&4294967295|x>>>25),x=V+(L^R&(U^L))+N[13]+4254626195&4294967295,V=R+(x<<12&4294967295|x>>>20),x=L+(U^V&(R^U))+N[14]+2792965006&4294967295,L=V+(x<<17&4294967295|x>>>15),x=U+(R^L&(V^R))+N[15]+1236535329&4294967295,U=L+(x<<22&4294967295|x>>>10),x=R+(L^V&(U^L))+N[1]+4129170786&4294967295,R=U+(x<<5&4294967295|x>>>27),x=V+(U^L&(R^U))+N[6]+3225465664&4294967295,V=R+(x<<9&4294967295|x>>>23),x=L+(R^U&(V^R))+N[11]+643717713&4294967295,L=V+(x<<14&4294967295|x>>>18),x=U+(V^R&(L^V))+N[0]+3921069994&4294967295,U=L+(x<<20&4294967295|x>>>12),x=R+(L^V&(U^L))+N[5]+3593408605&4294967295,R=U+(x<<5&4294967295|x>>>27),x=V+(U^L&(R^U))+N[10]+38016083&4294967295,V=R+(x<<9&4294967295|x>>>23),x=L+(R^U&(V^R))+N[15]+3634488961&4294967295,L=V+(x<<14&4294967295|x>>>18),x=U+(V^R&(L^V))+N[4]+3889429448&4294967295,U=L+(x<<20&4294967295|x>>>12),x=R+(L^V&(U^L))+N[9]+568446438&4294967295,R=U+(x<<5&4294967295|x>>>27),x=V+(U^L&(R^U))+N[14]+3275163606&4294967295,V=R+(x<<9&4294967295|x>>>23),x=L+(R^U&(V^R))+N[3]+4107603335&4294967295,L=V+(x<<14&4294967295|x>>>18),x=U+(V^R&(L^V))+N[8]+1163531501&4294967295,U=L+(x<<20&4294967295|x>>>12),x=R+(L^V&(U^L))+N[13]+2850285829&4294967295,R=U+(x<<5&4294967295|x>>>27),x=V+(U^L&(R^U))+N[2]+4243563512&4294967295,V=R+(x<<9&4294967295|x>>>23),x=L+(R^U&(V^R))+N[7]+1735328473&4294967295,L=V+(x<<14&4294967295|x>>>18),x=U+(V^R&(L^V))+N[12]+2368359562&4294967295,U=L+(x<<20&4294967295|x>>>12),x=R+(U^L^V)+N[5]+4294588738&4294967295,R=U+(x<<4&4294967295|x>>>28),x=V+(R^U^L)+N[8]+2272392833&4294967295,V=R+(x<<11&4294967295|x>>>21),x=L+(V^R^U)+N[11]+1839030562&4294967295,L=V+(x<<16&4294967295|x>>>16),x=U+(L^V^R)+N[14]+4259657740&4294967295,U=L+(x<<23&4294967295|x>>>9),x=R+(U^L^V)+N[1]+2763975236&4294967295,R=U+(x<<4&4294967295|x>>>28),x=V+(R^U^L)+N[4]+1272893353&4294967295,V=R+(x<<11&4294967295|x>>>21),x=L+(V^R^U)+N[7]+4139469664&4294967295,L=V+(x<<16&4294967295|x>>>16),x=U+(L^V^R)+N[10]+3200236656&4294967295,U=L+(x<<23&4294967295|x>>>9),x=R+(U^L^V)+N[13]+681279174&4294967295,R=U+(x<<4&4294967295|x>>>28),x=V+(R^U^L)+N[0]+3936430074&4294967295,V=R+(x<<11&4294967295|x>>>21),x=L+(V^R^U)+N[3]+3572445317&4294967295,L=V+(x<<16&4294967295|x>>>16),x=U+(L^V^R)+N[6]+76029189&4294967295,U=L+(x<<23&4294967295|x>>>9),x=R+(U^L^V)+N[9]+3654602809&4294967295,R=U+(x<<4&4294967295|x>>>28),x=V+(R^U^L)+N[12]+3873151461&4294967295,V=R+(x<<11&4294967295|x>>>21),x=L+(V^R^U)+N[15]+530742520&4294967295,L=V+(x<<16&4294967295|x>>>16),x=U+(L^V^R)+N[2]+3299628645&4294967295,U=L+(x<<23&4294967295|x>>>9),x=R+(L^(U|~V))+N[0]+4096336452&4294967295,R=U+(x<<6&4294967295|x>>>26),x=V+(U^(R|~L))+N[7]+1126891415&4294967295,V=R+(x<<10&4294967295|x>>>22),x=L+(R^(V|~U))+N[14]+2878612391&4294967295,L=V+(x<<15&4294967295|x>>>17),x=U+(V^(L|~R))+N[5]+4237533241&4294967295,U=L+(x<<21&4294967295|x>>>11),x=R+(L^(U|~V))+N[12]+1700485571&4294967295,R=U+(x<<6&4294967295|x>>>26),x=V+(U^(R|~L))+N[3]+2399980690&4294967295,V=R+(x<<10&4294967295|x>>>22),x=L+(R^(V|~U))+N[10]+4293915773&4294967295,L=V+(x<<15&4294967295|x>>>17),x=U+(V^(L|~R))+N[1]+2240044497&4294967295,U=L+(x<<21&4294967295|x>>>11),x=R+(L^(U|~V))+N[8]+1873313359&4294967295,R=U+(x<<6&4294967295|x>>>26),x=V+(U^(R|~L))+N[15]+4264355552&4294967295,V=R+(x<<10&4294967295|x>>>22),x=L+(R^(V|~U))+N[6]+2734768916&4294967295,L=V+(x<<15&4294967295|x>>>17),x=U+(V^(L|~R))+N[13]+1309151649&4294967295,U=L+(x<<21&4294967295|x>>>11),x=R+(L^(U|~V))+N[4]+4149444226&4294967295,R=U+(x<<6&4294967295|x>>>26),x=V+(U^(R|~L))+N[11]+3174756917&4294967295,V=R+(x<<10&4294967295|x>>>22),x=L+(R^(V|~U))+N[2]+718787259&4294967295,L=V+(x<<15&4294967295|x>>>17),x=U+(V^(L|~R))+N[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(L+(x<<21&4294967295|x>>>11))&4294967295,b.g[2]=b.g[2]+L&4294967295,b.g[3]=b.g[3]+V&4294967295}A.prototype.v=function(b,R){R===void 0&&(R=b.length);const U=R-this.blockSize,N=this.C;let L=this.h,V=0;for(;V<R;){if(L==0)for(;V<=U;)i(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<R;)if(N[L++]=b.charCodeAt(V++),L==this.blockSize){i(this,N),L=0;break}}else for(;V<R;)if(N[L++]=b[V++],L==this.blockSize){i(this,N),L=0;break}}this.h=L,this.o+=R},A.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;R=this.o*8;for(var U=b.length-8;U<b.length;++U)b[U]=R&255,R/=256;for(this.v(b),b=Array(16),R=0,U=0;U<4;++U)for(let N=0;N<32;N+=8)b[R++]=this.g[U]>>>N&255;return b};function o(b,R){var U=u;return Object.prototype.hasOwnProperty.call(U,b)?U[b]:U[b]=R(b)}function a(b,R){this.h=R;const U=[];let N=!0;for(let L=b.length-1;L>=0;L--){const V=b[L]|0;N&&V==R||(U[L]=V,N=!1)}this.g=U}var u={};function f(b){return-128<=b&&b<128?o(b,function(R){return new a([R|0],R<0?-1:0)}):new a([b|0],b<0?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return v;if(b<0)return M(d(-b));const R=[];let U=1;for(let N=0;b>=U;N++)R[N]=b/U|0,U*=4294967296;return new a(R,0)}function m(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return M(m(b.substring(1),R));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=d(Math.pow(R,8));let N=v;for(let V=0;V<b.length;V+=8){var L=Math.min(8,b.length-V);const x=parseInt(b.substring(V,V+L),R);L<8?(L=d(Math.pow(R,L)),N=N.j(L).add(d(x))):(N=N.j(U),N=N.add(d(x)))}return N}var v=f(0),w=f(1),T=f(16777216);n=a.prototype,n.m=function(){if(D(this))return-M(this).m();let b=0,R=1;for(let U=0;U<this.g.length;U++){const N=this.i(U);b+=(N>=0?N:4294967296+N)*R,R*=4294967296}return b},n.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(Q(this))return"0";if(D(this))return"-"+M(this).toString(b);const R=d(Math.pow(b,6));var U=this;let N="";for(;;){const L=te(U,R).g;U=k(U,L.j(R));let V=((U.g.length>0?U.g[0]:U.h)>>>0).toString(b);if(U=L,Q(U))return V+N;for(;V.length<6;)V="0"+V;N=V+N}},n.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function Q(b){if(b.h!=0)return!1;for(let R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function D(b){return b.h==-1}n.l=function(b){return b=k(this,b),D(b)?-1:Q(b)?0:1};function M(b){const R=b.g.length,U=[];for(let N=0;N<R;N++)U[N]=~b.g[N];return new a(U,~b.h).add(w)}n.abs=function(){return D(this)?M(this):this},n.add=function(b){const R=Math.max(this.g.length,b.g.length),U=[];let N=0;for(let L=0;L<=R;L++){let V=N+(this.i(L)&65535)+(b.i(L)&65535),x=(V>>>16)+(this.i(L)>>>16)+(b.i(L)>>>16);N=x>>>16,V&=65535,x&=65535,U[L]=x<<16|V}return new a(U,U[U.length-1]&-2147483648?-1:0)};function k(b,R){return b.add(M(R))}n.j=function(b){if(Q(this)||Q(b))return v;if(D(this))return D(b)?M(this).j(M(b)):M(M(this).j(b));if(D(b))return M(this.j(M(b)));if(this.l(T)<0&&b.l(T)<0)return d(this.m()*b.m());const R=this.g.length+b.g.length,U=[];for(var N=0;N<2*R;N++)U[N]=0;for(N=0;N<this.g.length;N++)for(let L=0;L<b.g.length;L++){const V=this.i(N)>>>16,x=this.i(N)&65535,Ie=b.i(L)>>>16,Je=b.i(L)&65535;U[2*N+2*L]+=x*Je,G(U,2*N+2*L),U[2*N+2*L+1]+=V*Je,G(U,2*N+2*L+1),U[2*N+2*L+1]+=x*Ie,G(U,2*N+2*L+1),U[2*N+2*L+2]+=V*Ie,G(U,2*N+2*L+2)}for(b=0;b<R;b++)U[b]=U[2*b+1]<<16|U[2*b];for(b=R;b<2*R;b++)U[b]=0;return new a(U,0)};function G(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function X(b,R){this.g=b,this.h=R}function te(b,R){if(Q(R))throw Error("division by zero");if(Q(b))return new X(v,v);if(D(b))return R=te(M(b),R),new X(M(R.g),M(R.h));if(D(R))return R=te(b,M(R)),new X(M(R.g),R.h);if(b.g.length>30){if(D(b)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var U=w,N=R;N.l(b)<=0;)U=re(U),N=re(N);var L=$(U,1),V=$(N,1);for(N=$(N,2),U=$(U,2);!Q(N);){var x=V.add(N);x.l(b)<=0&&(L=L.add(U),V=x),N=$(N,1),U=$(U,1)}return R=k(b,L.j(R)),new X(L,R)}for(L=v;b.l(R)>=0;){for(U=Math.max(1,Math.floor(b.m()/R.m())),N=Math.ceil(Math.log(U)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),V=d(U),x=V.j(R);D(x)||x.l(b)>0;)U-=N,V=d(U),x=V.j(R);Q(V)&&(V=w),L=L.add(V),b=k(b,x)}return new X(L,b)}n.B=function(b){return te(this,b).h},n.and=function(b){const R=Math.max(this.g.length,b.g.length),U=[];for(let N=0;N<R;N++)U[N]=this.i(N)&b.i(N);return new a(U,this.h&b.h)},n.or=function(b){const R=Math.max(this.g.length,b.g.length),U=[];for(let N=0;N<R;N++)U[N]=this.i(N)|b.i(N);return new a(U,this.h|b.h)},n.xor=function(b){const R=Math.max(this.g.length,b.g.length),U=[];for(let N=0;N<R;N++)U[N]=this.i(N)^b.i(N);return new a(U,this.h^b.h)};function re(b){const R=b.g.length+1,U=[];for(let N=0;N<R;N++)U[N]=b.i(N)<<1|b.i(N-1)>>>31;return new a(U,b.h)}function $(b,R){const U=R>>5;R%=32;const N=b.g.length-U,L=[];for(let V=0;V<N;V++)L[V]=R>0?b.i(V+U)>>>R|b.i(V+U+1)<<32-R:b.i(V+U);return new a(L,b.h)}A.prototype.digest=A.prototype.A,A.prototype.reset=A.prototype.u,A.prototype.update=A.prototype.v,AF=A,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=m,Ns=a}).apply(typeof sT<"u"?sT:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rF,Mu,iF,bd,Cy,sF,oF,aF;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var C=0;C<p.length;++C){var _=p[C];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var A=t(this);function i(p,C){if(C)e:{var _=A;p=p.split(".");for(var F=0;F<p.length-1;F++){var z=p[F];if(!(z in _))break e;_=_[z]}p=p[p.length-1],F=_[p],C=C(F),C!=F&&C!=null&&e(_,p,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(C){var _=[],F;for(F in C)Object.prototype.hasOwnProperty.call(C,F)&&_.push([F,C[F]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function f(p,C,_){return p.call.apply(p.bind,arguments)}function d(p,C,_){return d=f,d.apply(null,arguments)}function m(p,C){var _=Array.prototype.slice.call(arguments,1);return function(){var F=_.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function v(p,C){function _(){}_.prototype=C.prototype,p.Z=C.prototype,p.prototype=new _,p.prototype.constructor=p,p.Ob=function(F,z,Z){for(var fe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)fe[Ke-2]=arguments[Ke];return C.prototype[z].apply(F,fe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function T(p){const C=p.length;if(C>0){const _=Array(C);for(let F=0;F<C;F++)_[F]=p[F];return _}return[]}function Q(p,C){for(let F=1;F<arguments.length;F++){const z=arguments[F];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=p.length||0;const Z=z.length||0;p.length=_+Z;for(let fe=0;fe<Z;fe++)p[_+fe]=z[fe]}else p.push(z)}}class D{constructor(C,_){this.i=C,this.j=_,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function M(p){a.setTimeout(()=>{throw p},0)}function k(){var p=b;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class G{constructor(){this.h=this.g=null}add(C,_){const F=X.get();F.set(C,_),this.h?this.h.next=F:this.g=F,this.h=F}}var X=new D(()=>new te,p=>p.reset());class te{constructor(){this.next=this.g=this.h=null}set(C,_){this.h=C,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,$=!1,b=new G,R=()=>{const p=Promise.resolve(void 0);re=()=>{p.then(U)}};function U(){for(var p;p=k();){try{p.h.call(p.g)}catch(_){M(_)}var C=X;C.j(p),C.h<100&&(C.h++,p.next=C.g,C.g=p)}$=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const _=()=>{};a.addEventListener("test",_,C),a.removeEventListener("test",_,C)}catch{}return p})();function x(p){return/^[\s\xa0]*$/.test(p)}function Ie(p,C){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,C)}v(Ie,L),Ie.prototype.init=function(p,C){const _=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget,C||(_=="mouseover"?C=p.fromElement:_=="mouseout"&&(C=p.toElement)),this.relatedTarget=C,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),q=0;function ue(p,C,_,F,z){this.listener=p,this.proxy=null,this.src=C,this.type=_,this.capture=!!F,this.ha=z,this.key=++q,this.da=this.fa=!1}function we(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function De(p,C,_){for(const F in p)C.call(_,p[F],F,p)}function Oe(p,C){for(const _ in p)C.call(void 0,p[_],_,p)}function P(p){const C={};for(const _ in p)C[_]=p[_];return C}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(p,C){let _,F;for(let z=1;z<arguments.length;z++){F=arguments[z];for(_ in F)p[_]=F[_];for(let Z=0;Z<ne.length;Z++)_=ne[Z],Object.prototype.hasOwnProperty.call(F,_)&&(p[_]=F[_])}}function he(p){this.src=p,this.g={},this.h=0}he.prototype.add=function(p,C,_,F,z){const Z=p.toString();p=this.g[Z],p||(p=this.g[Z]=[],this.h++);const fe=Se(p,C,F,z);return fe>-1?(C=p[fe],_||(C.fa=!1)):(C=new ue(C,this.src,Z,!!F,z),C.fa=_,p.push(C)),C};function _e(p,C){const _=C.type;if(_ in p.g){var F=p.g[_],z=Array.prototype.indexOf.call(F,C,void 0),Z;(Z=z>=0)&&Array.prototype.splice.call(F,z,1),Z&&(we(C),p.g[_].length==0&&(delete p.g[_],p.h--))}}function Se(p,C,_,F){for(let z=0;z<p.length;++z){const Z=p[z];if(!Z.da&&Z.listener==C&&Z.capture==!!_&&Z.ha==F)return z}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Nt={};function pt(p,C,_,F,z){if(Array.isArray(C)){for(let Z=0;Z<C.length;Z++)pt(p,C[Z],_,F,z);return null}return _=Vi(_),p&&p[Je]?p.J(C,_,u(F)?!!F.capture:!1,z):Kn(p,C,_,!1,F,z)}function Kn(p,C,_,F,z,Z){if(!C)throw Error("Invalid event type");const fe=u(z)?!!z.capture:!!z;let Ke=Pi(p);if(Ke||(p[ke]=Ke=new he(p)),_=Ke.add(C,_,F,fe,Z),_.proxy)return _;if(F=Er(),_.proxy=F,F.src=p,F.listener=_,p.addEventListener)V||(z=fe),z===void 0&&(z=!1),p.addEventListener(C.toString(),F,z);else if(p.attachEvent)p.attachEvent(Cn(C.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Er(){function p(_){return C.call(p.src,p.listener,_)}const C=Hi;return p}function _r(p,C,_,F,z){if(Array.isArray(C))for(var Z=0;Z<C.length;Z++)_r(p,C[Z],_,F,z);else F=u(F)?!!F.capture:!!F,_=Vi(_),p&&p[Je]?(p=p.i,Z=String(C).toString(),Z in p.g&&(C=p.g[Z],_=Se(C,_,F,z),_>-1&&(we(C[_]),Array.prototype.splice.call(C,_,1),C.length==0&&(delete p.g[Z],p.h--)))):p&&(p=Pi(p))&&(C=p.g[C.toString()],p=-1,C&&(p=Se(C,_,F,z)),(_=p>-1?C[p]:null)&&Wr(_))}function Wr(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[Je])_e(C.i,p);else{var _=p.type,F=p.proxy;C.removeEventListener?C.removeEventListener(_,F,p.capture):C.detachEvent?C.detachEvent(Cn(_),F):C.addListener&&C.removeListener&&C.removeListener(F),(_=Pi(C))?(_e(_,p),_.h==0&&(_.src=null,C[ke]=null)):we(p)}}}function Cn(p){return p in Nt?Nt[p]:Nt[p]="on"+p}function Hi(p,C){if(p.da)p=!0;else{C=new Ie(C,this);const _=p.listener,F=p.ha||p.src;p.fa&&Wr(p),p=_.call(F,C)}return p}function Pi(p){return p=p[ke],p instanceof he?p:null}var $r="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vi(p){return typeof p=="function"?p:(p[$r]||(p[$r]=function(C){return p.handleEvent(C)}),p[$r])}function Vt(){N.call(this),this.i=new he(this),this.M=this,this.G=null}v(Vt,N),Vt.prototype[Je]=!0,Vt.prototype.removeEventListener=function(p,C,_,F){_r(this,p,C,_,F)};function Ot(p,C){var _,F=p.G;if(F)for(_=[];F;F=F.G)_.push(F);if(p=p.M,F=C.type||C,typeof C=="string")C=new L(C,p);else if(C instanceof L)C.target=C.target||p;else{var z=C;C=new L(F,p),ce(C,z)}z=!0;let Z,fe;if(_)for(fe=_.length-1;fe>=0;fe--)Z=C.g=_[fe],z=fA(Z,F,!0,C)&&z;if(Z=C.g=p,z=fA(Z,F,!0,C)&&z,z=fA(Z,F,!1,C)&&z,_)for(fe=0;fe<_.length;fe++)Z=C.g=_[fe],z=fA(Z,F,!1,C)&&z}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var p=this.i;for(const C in p.g){const _=p.g[C];for(let F=0;F<_.length;F++)we(_[F]);delete p.g[C],p.h--}}this.G=null},Vt.prototype.J=function(p,C,_,F){return this.i.add(String(p),C,!1,_,F)},Vt.prototype.K=function(p,C,_,F){return this.i.add(String(p),C,!0,_,F)};function fA(p,C,_,F){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();let z=!0;for(let Z=0;Z<C.length;++Z){const fe=C[Z];if(fe&&!fe.da&&fe.capture==_){const Ke=fe.listener,Wt=fe.ha||fe.src;fe.fa&&_e(p.i,fe),z=Ke.call(Wt,F)!==!1&&z}}return z&&!F.defaultPrevented}function Oi(p,C){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:a.setTimeout(p,C||0)}function $o(p){p.g=Oi(()=>{p.g=null,p.i&&(p.i=!1,$o(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class Ft extends N{constructor(C,_){super(),this.m=C,this.l=_,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:$o(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(p){N.call(this),this.h=p,this.g={}}v(jn,N);var ki=[];function Zs(p){De(p.g,function(C,_){this.g.hasOwnProperty(_)&&Wr(C)},p),p.g={}}jn.prototype.N=function(){jn.Z.N.call(this),Zs(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=a.JSON.stringify,bl=a.JSON.parse,js=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Zo(){}function jo(){}var eA={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){L.call(this,"d")}v(kt,L);function Gn(){L.call(this,"c")}v(Gn,L);var Qt={},Ki=null;function UA(){return Ki=Ki||new Vt}Qt.Ia="serverreachability";function ae(p){L.call(this,Qt.Ia,p)}v(ae,L);function dA(p){const C=UA();Ot(C,new ae(C))}Qt.STAT_EVENT="statevent";function Tr(p,C){L.call(this,Qt.STAT_EVENT,p),this.stat=C}v(Tr,L);function Kt(p){const C=UA();Ot(C,new Tr(C,p))}Qt.Ja="timingevent";function FA(p,C){L.call(this,Qt.Ja,p),this.size=C}v(FA,L);function QA(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},C)}function hA(){this.g=!0}hA.prototype.ua=function(){this.g=!1};function xl(p,C,_,F,z,Z){p.info(function(){if(p.g)if(Z){var fe="",Ke=Z.split("&");for(let ut=0;ut<Ke.length;ut++){var Wt=Ke[ut].split("=");if(Wt.length>1){const Dt=Wt[0];Wt=Wt[1];const PA=Dt.split("_");fe=PA.length>=2&&PA[1]=="type"?fe+(Dt+"="+Wt+"&"):fe+(Dt+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+F+") [attempt "+z+"]: "+C+`
`+_+`
`+fe})}function ea(p,C,_,F,z,Z,fe){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+z+"]: "+C+`
`+_+`
`+Z+" "+fe})}function RA(p,C,_,F){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+eo(p,_)+(F?" "+F:"")})}function Zr(p,C){p.info(function(){return"TIMEOUT: "+C})}hA.prototype.info=function(){};function eo(p,C){if(!p.g)return C;if(!C)return null;try{const Z=JSON.parse(C);if(Z){for(p=0;p<Z.length;p++)if(Array.isArray(Z[p])){var _=Z[p];if(!(_.length<2)){var F=_[1];if(Array.isArray(F)&&!(F.length<1)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(let fe=1;fe<F.length;fe++)F[fe]=""}}}}return dn(Z)}catch{return C}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},to={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},no;function ei(){}v(ei,Zo),ei.prototype.g=function(){return new XMLHttpRequest},no=new ei;function qn(p){return encodeURIComponent(String(p))}function Ao(p){var C=1;p=p.split(":");const _=[];for(;C>0&&p.length;)_.push(p.shift()),C--;return p.length&&_.push(p.join(":")),_}function gA(p,C,_,F){this.j=p,this.i=C,this.l=_,this.S=F||1,this.V=new jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new En}function En(){this.i=null,this.g="",this.h=!1}var Rt={},Gt={};function bA(p,C,_){p.M=1,p.A=mA(_t(C)),p.u=_,p.R=!0,Gi(p,null)}function Gi(p,C){p.F=Date.now(),xA(p),p.B=_t(p.A);var _=p.B,F=p.S;Array.isArray(F)||(F=[String(F)]),ra(_.i,"t",F),p.C=0,_=p.j.L,p.h=new En,p.g=Oc(p.j,_?C:null,!p.u),p.P>0&&(p.O=new Ft(d(p.Y,p,p.g),p.P)),C=p.V,_=p.g,F=p.ba;var z="readystatechange";Array.isArray(z)||(z&&(ki[0]=z.toString()),z=ki);for(let Z=0;Z<z.length;Z++){const fe=pt(_,z[Z],F||C.handleEvent,!1,C.h||C);if(!fe)break;C.g[fe.key]=fe}C=p.J?P(p.J):{},p.u?(p.v||(p.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,C)):(p.v="GET",p.g.ea(p.B,p.v,null,C)),dA(),xl(p.i,p.v,p.B,p.l,p.S,p.u)}gA.prototype.ba=function(p){p=p.target;const C=this.O;C&&ir(p)==3?C.j():this.Y(p)},gA.prototype.Y=function(p){try{if(p==this.g)e:{const Ke=ir(this.g),Wt=this.g.ya(),ut=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||_n(this.g)))){this.K||Ke!=4||Wt==7||(Wt==8||ut<=0?dA(3):dA(2)),NA(this);var C=this.g.ca();this.X=C;var _=Nl(this);if(this.o=C==200,ea(this.i,this.v,this.B,this.l,this.S,Ke,C),this.o){if(this.U&&!this.L){t:{if(this.g){var F,z=this.g;if((F=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(F)){var Z=F;break t}}Z=null}if(p=Z)RA(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pA(this,p);else{this.o=!1,this.m=3,Kt(12),zn(this),tA(this);break e}}if(this.R){p=!0;let Dt;for(;!this.K&&this.C<_.length;)if(Dt=na(this,_),Dt==Gt){Ke==4&&(this.m=4,Kt(14),p=!1),RA(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==Rt){this.m=4,Kt(15),RA(this.i,this.l,_,"[Invalid Chunk]"),p=!1;break}else RA(this.i,this.l,Dt,null),pA(this,Dt);if(ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||_.length!=0||this.h.h||(this.m=1,Kt(16),p=!1),this.o=this.o&&p,!p)RA(this.i,this.l,_,"[Invalid Chunked Response]"),zn(this),tA(this);else if(_.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),kl(fe),fe.P=!0,Kt(11))}}else RA(this.i,this.l,_,null),pA(this,_);Ke==4&&zn(this),this.o&&!this.K&&(Ke==4?Lc(this.j,this):(this.o=!1,xA(this)))}else ri(this.g),C==400&&_.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),zn(this),tA(this)}}}catch{}finally{}};function Nl(p){if(!ta(p))return p.g.la();const C=_n(p.g);if(C==="")return"";let _="";const F=C.length,z=ir(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return zn(p),tA(p),"";p.h.i=new a.TextDecoder}for(let Z=0;Z<F;Z++)p.h.h=!0,_+=p.h.i.decode(C[Z],{stream:!(z&&Z==F-1)});return C.length=0,p.h.g+=_,p.C=0,p.h.g}function ta(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function na(p,C){var _=p.C,F=C.indexOf(`
`,_);return F==-1?Gt:(_=Number(C.substring(_,F)),isNaN(_)?Rt:(F+=1,F+_>C.length?Gt:(C=C.slice(F,F+_),p.C=F+_,C)))}gA.prototype.cancel=function(){this.K=!0,zn(this)};function xA(p){p.T=Date.now()+p.H,ti(p,p.H)}function ti(p,C){if(p.D!=null)throw Error("WatchDog timer not null");p.D=QA(d(p.aa,p),C)}function NA(p){p.D&&(a.clearTimeout(p.D),p.D=null)}gA.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Zr(this.i,this.B),this.M!=2&&(dA(),Kt(17)),zn(this),this.m=2,tA(this)):ti(this,this.T-p)};function tA(p){p.j.I==0||p.K||Lc(p.j,p)}function zn(p){NA(p);var C=p.O;C&&typeof C.dispose=="function"&&C.dispose(),p.O=null,Zs(p.V),p.g&&(C=p.g,p.g=null,C.abort(),C.dispose())}function pA(p,C){try{var _=p.j;if(_.I!=0&&(_.g==p||Ee(_.h,p))){if(!p.L&&Ee(_.h,p)&&_.I==3){try{var F=_.Ba.g.parse(C)}catch{F=null}if(Array.isArray(F)&&F.length==3){var z=F;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<p.F)la(_),Wi(_);else break e;uo(_),Kt(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=QA(d(_.Va,_),6e3));de(_.h)<=1&&_.ta&&(_.ta=void 0)}else Rr(_,11)}else if((p.L||_.g==p)&&la(_),!x(C))for(z=_.Ba.g.parse(C),C=0;C<z.length;C++){let ut=z[C];const Dt=ut[0];if(!(Dt<=_.K))if(_.K=Dt,ut=ut[1],_.I==2)if(ut[0]=="c"){_.M=ut[1],_.ba=ut[2];const PA=ut[3];PA!=null&&(_.ka=PA,_.j.info("VER="+_.ka));const br=ut[4];br!=null&&(_.za=br,_.j.info("SVER="+_.za));const sr=ut[5];sr!=null&&typeof sr=="number"&&sr>0&&(F=1.5*sr,_.O=F,_.j.info("backChannelRequestTimeoutMs_="+F)),F=_;const or=p.g;if(or){const co=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(co){var Z=F.h;Z.g||co.indexOf("spdy")==-1&&co.indexOf("quic")==-1&&co.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Qe(Z,Z.h),Z.h=null))}if(F.G){const ua=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(F.wa=ua,lt(F.J,F.G,ua))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-p.F,_.j.info("Handshake RTT: "+_.T+"ms")),F=_;var fe=p;if(F.na=Vc(F,F.L?F.ba:null,F.W),fe.L){ze(F.h,fe);var Ke=fe,Wt=F.O;Wt&&(Ke.H=Wt),Ke.D&&(NA(Ke),xA(Ke)),F.g=fe}else Dc(F);_.i.length>0&&Qr(_)}else ut[0]!="stop"&&ut[0]!="close"||Rr(_,7);else _.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Rr(_,7):Vl(_):ut[0]!="noop"&&_.l&&_.l.qa(ut),_.A=0)}}dA(4)}catch{}}var qt=class{constructor(p,C){this.g=p,this.map=C}};function ee(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pe(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function de(p){return p.h?1:p.g?p.g.size:0}function Ee(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function Qe(p,C){p.g?p.g.add(C):p.h=C}function ze(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}ee.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function mn(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const _ of p.g.values())C=C.concat(_.G);return C}return T(p.i)}var nA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zt(p,C){if(p){p=p.split("&");for(let _=0;_<p.length;_++){const F=p[_].indexOf("=");let z,Z=null;F>=0?(z=p[_].substring(0,F),Z=p[_].substring(F+1)):z=p[_],C(z,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function rt(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;p instanceof rt?(this.l=p.l,Xt(this,p.j),this.o=p.o,this.g=p.g,Tt(this,p.u),this.h=p.h,at(this,xc(p.i)),this.m=p.m):p&&(C=String(p).match(nA))?(this.l=!1,Xt(this,C[1]||"",!0),this.o=DA(C[2]||""),this.g=DA(C[3]||"",!0),Tt(this,C[4]),this.h=DA(C[5]||"",!0),at(this,C[6]||"",!0),this.m=DA(C[7]||"")):(this.l=!1,this.i=new qi(null,this.l))}rt.prototype.toString=function(){const p=[];var C=this.j;C&&p.push(Ir(C,ni,!0),":");var _=this.g;return(_||C=="file")&&(p.push("//"),(C=this.o)&&p.push(Ir(C,ni,!0),"@"),p.push(qn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&p.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&p.push("/"),p.push(Ir(_,_.charAt(0)=="/"?ro:Aa,!0))),(_=this.i.toString())&&p.push("?",_),(_=this.m)&&p.push("#",Ir(_,Rc)),p.join("")},rt.prototype.resolve=function(p){const C=_t(this);let _=!!p.j;_?Xt(C,p.j):_=!!p.o,_?C.o=p.o:_=!!p.g,_?C.g=p.g:_=p.u!=null;var F=p.h;if(_)Tt(C,p.u);else if(_=!!p.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var z=C.h.lastIndexOf("/");z!=-1&&(F=C.h.slice(0,z+1)+F)}if(z=F,z==".."||z==".")F="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){F=z.lastIndexOf("/",0)==0,z=z.split("/");const Z=[];for(let fe=0;fe<z.length;){const Ke=z[fe++];Ke=="."?F&&fe==z.length&&Z.push(""):Ke==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),F&&fe==z.length&&Z.push("")):(Z.push(Ke),F=!0)}F=Z.join("/")}else F=z}return _?C.h=F:_=p.i.toString()!=="",_?at(C,xc(p.i)):_=!!p.m,_&&(C.m=p.m),C};function _t(p){return new rt(p)}function Xt(p,C,_){p.j=_?DA(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function Tt(p,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);p.u=C}else p.u=null}function at(p,C,_){C instanceof qi?(p.i=C,ia(p.i,p.l)):(_||(C=Ir(C,MA)),p.i=new qi(C,p.l))}function lt(p,C,_){p.i.set(C,_)}function mA(p){return lt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function DA(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ir(p,C,_){return typeof p=="string"?(p=encodeURI(p).replace(C,Nn),_&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Nn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ni=/[#\/\?@]/g,Aa=/[#\?:]/g,ro=/[#\?]/g,MA=/[#\?@]/g,Rc=/#/g;function qi(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function AA(p){p.g||(p.g=new Map,p.h=0,p.i&&zt(p.i,function(C,_){p.add(decodeURIComponent(C.replace(/\+/g," ")),_)}))}n=qi.prototype,n.add=function(p,C){AA(this),this.i=null,p=zi(this,p);let _=this.g.get(p);return _||this.g.set(p,_=[]),_.push(C),this.h+=1,this};function bc(p,C){AA(p),C=zi(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function Dl(p,C){return AA(p),C=zi(p,C),p.g.has(C)}n.forEach=function(p,C){AA(this),this.g.forEach(function(_,F){_.forEach(function(z){p.call(C,z,F,this)},this)},this)};function Ml(p,C){AA(p);let _=[];if(typeof C=="string")Dl(p,C)&&(_=_.concat(p.g.get(zi(p,C))));else for(p=Array.from(p.g.values()),C=0;C<p.length;C++)_=_.concat(p[C]);return _}n.set=function(p,C){return AA(this),this.i=null,p=zi(this,p),Dl(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},n.get=function(p,C){return p?(p=Ml(this,p),p.length>0?String(p[0]):C):C};function ra(p,C,_){bc(p,C),_.length>0&&(p.i=null,p.g.set(zi(p,C),T(_)),p.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(let F=0;F<C.length;F++){var _=C[F];const z=qn(_);_=Ml(this,_);for(let Z=0;Z<_.length;Z++){let fe=z;_[Z]!==""&&(fe+="="+qn(_[Z])),p.push(fe)}}return this.i=p.join("&")};function xc(p){const C=new qi;return C.i=p.i,p.g&&(C.g=new Map(p.g),C.h=p.h),C}function zi(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function ia(p,C){C&&!p.j&&(AA(p),p.i=null,p.g.forEach(function(_,F){const z=F.toLowerCase();F!=z&&(bc(this,F),ra(this,z,_))},p)),p.j=C}function Ar(p,C){const _=new hA;if(a.Image){const F=new Image;F.onload=m(LA,_,"TestLoadImage: loaded",!0,C,F),F.onerror=m(LA,_,"TestLoadImage: error",!1,C,F),F.onabort=m(LA,_,"TestLoadImage: abort",!1,C,F),F.ontimeout=m(LA,_,"TestLoadImage: timeout",!1,C,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else C(!1)}function Ll(p,C){const _=new hA,F=new AbortController,z=setTimeout(()=>{F.abort(),LA(_,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:F.signal}).then(Z=>{clearTimeout(z),Z.ok?LA(_,"TestPingServer: ok",!0,C):LA(_,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(z),LA(_,"TestPingServer: error",!1,C)})}function LA(p,C,_,F,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),F(_)}catch{}}function Ji(){this.g=new js}function Sr(p){this.i=p.Sb||null,this.h=p.ab||!1}v(Sr,Zo),Sr.prototype.g=function(){return new io(this.i,this.h)};function io(p,C){Vt.call(this),this.H=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(io,Vt),n=io.prototype,n.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=C,this.readyState=1,rr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(C.body=p),(this.H||a).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?Yi(this):rr(this),this.readyState==3&&sa(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Yi(this))},n.Na=function(p){this.g&&(this.response=p,Yi(this))},n.ga=function(){this.g&&Yi(this)};function Yi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,rr(p)}n.setRequestHeader=function(p,C){this.A.append(p,C)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var _=C.next();!_.done;)_=_.value,p.push(_[0]+": "+_[1]),_=C.next();return p.join(`\r
`)};function rr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function HA(p){let C="";return De(p,function(_,F){C+=F,C+=":",C+=_,C+=`\r
`}),C}function so(p,C,_){e:{for(F in _){var F=!1;break e}F=!0}F||(_=HA(_),typeof p=="string"?_!=null&&qn(_):lt(p,C,_))}function mt(p){Vt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(mt,Vt);var Ur=/^https?$/i,Hl=["POST","PUT"];n=mt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,C,_,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():no.g(),this.g.onreadystatechange=w(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(Z){oo(this,Z);return}if(p=_||"",_=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var z in F)_.set(z,F[z]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const Z of F.keys())_.set(Z,F.get(Z));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),z=a.FormData&&p instanceof a.FormData,!(Array.prototype.indexOf.call(Hl,C,void 0)>=0)||F||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of _)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Z){oo(this,Z)}};function oo(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.o=5,Pl(p),Ai(p)}function Pl(p){p.A||(p.A=!0,Ot(p,"complete"),Ot(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ot(this,"complete"),Ot(this,"abort"),Ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),mt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ao(this):this.Xa())},n.Xa=function(){ao(this)};function ao(p){if(p.h&&typeof o<"u"){if(p.v&&ir(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ot(p,"readystatechange"),ir(p)==4){p.h=!1;try{const Z=p.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var _;if(!(_=C)){var F;if(F=Z===0){let fe=String(p.D).match(nA)[1]||null;!fe&&a.self&&a.self.location&&(fe=a.self.location.protocol.slice(0,-1)),F=!Ur.test(fe?fe.toLowerCase():"")}_=F}if(_)Ot(p,"complete"),Ot(p,"success");else{p.o=6;try{var z=ir(p)>2?p.g.statusText:""}catch{z=""}p.l=z+" ["+p.ca()+"]",Pl(p)}}finally{Ai(p)}}}}function Ai(p,C){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const _=p.g;p.g=null,C||Ot(p,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ir(p){return p.g?p.g.readyState:0}n.ca=function(){try{return ir(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),bl(C)}};function _n(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ri(p){const C={};p=(p.g&&ir(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(x(p[F]))continue;var _=Ao(p[F]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=C[z]||[];C[z]=Z,Z.push(_)}Oe(C,function(F){return F.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(p,C,_){return _&&_.internalChannelParams&&_.internalChannelParams[p]||C}function Xi(p){this.za=0,this.i=[],this.j=new hA,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fr("baseRetryDelayMs",5e3,p),this.Za=Fr("retryDelaySeedMs",1e4,p),this.Ta=Fr("forwardChannelMaxRetries",2,p),this.va=Fr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new ee(p&&p.concurrentRequestLimit),this.Ba=new Ji,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xi.prototype,n.ka=8,n.I=1,n.connect=function(p,C,_,F){Kt(0),this.W=p,this.H=C||{},_&&F!==void 0&&(this.H.OSID=_,this.H.OAID=F),this.F=this.X,this.J=Vc(this,null,this.W),Qr(this)};function Vl(p){if(oa(p),p.I==3){var C=p.V++,_=_t(p.J);if(lt(_,"SID",p.M),lt(_,"RID",C),lt(_,"TYPE","terminate"),lo(p,_),C=new gA(p,p.j,C),C.M=2,C.A=mA(_t(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(C.A.toString(),"")}catch{}!_&&a.Image&&(new Image().src=C.A,_=!0),_||(C.g=Oc(C.j,null),C.g.ea(C.A)),C.F=Date.now(),xA(C)}Pc(p)}function Wi(p){p.g&&(kl(p),p.g.cancel(),p.g=null)}function oa(p){Wi(p),p.v&&(a.clearTimeout(p.v),p.v=null),la(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&a.clearTimeout(p.m),p.m=null)}function Qr(p){if(!pe(p.h)&&!p.m){p.m=!0;var C=p.Ea;re||R(),$||(re(),$=!0),b.add(C,p),p.D=0}}function aa(p,C){return de(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=C.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=QA(d(p.Ea,p,C),Hc(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const z=new gA(this,this.j,p);let Z=this.o;if(this.U&&(Z?(Z=P(Z),ce(Z,this.U)):Z=this.U),this.u!==null||this.R||(z.J=Z,Z=null),this.S)e:{for(var C=0,_=0;_<this.i.length;_++){t:{var F=this.i[_];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(C+=F,C>4096){C=_;break e}if(C===4096||_===this.i.length-1){C=_+1;break e}}C=1e3}else C=1e3;C=Nc(this,z,C),_=_t(this.J),lt(_,"RID",p),lt(_,"CVER",22),this.G&&lt(_,"X-HTTP-Session-Id",this.G),lo(this,_),Z&&(this.R?C="headers="+qn(HA(Z))+"&"+C:this.u&&so(_,this.u,Z)),Qe(this.h,z),this.Ra&&lt(_,"TYPE","init"),this.S?(lt(_,"$req",C),lt(_,"SID","null"),z.U=!0,bA(z,_,null)):bA(z,_,C),this.I=2}}else this.I==3&&(p?Ol(this,p):this.i.length==0||pe(this.h)||Ol(this))};function Ol(p,C){var _;C?_=C.l:_=p.V++;const F=_t(p.J);lt(F,"SID",p.M),lt(F,"RID",_),lt(F,"AID",p.K),lo(p,F),p.u&&p.o&&so(F,p.u,p.o),_=new gA(p,p.j,_,p.D+1),p.u===null&&(_.J=p.o),C&&(p.i=C.G.concat(p.i)),C=Nc(p,_,1e3),_.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Qe(p.h,_),bA(_,F,C)}function lo(p,C){p.H&&De(p.H,function(_,F){lt(C,F,_)}),p.l&&De({},function(_,F){lt(C,F,_)})}function Nc(p,C,_){_=Math.min(p.i.length,_);const F=p.l?d(p.l.Ka,p.l,p):null;e:{var z=p.i;let Ke=-1;for(;;){const Wt=["count="+_];Ke==-1?_>0?(Ke=z[0].g,Wt.push("ofs="+Ke)):Ke=0:Wt.push("ofs="+Ke);let ut=!0;for(let Dt=0;Dt<_;Dt++){var Z=z[Dt].g;const PA=z[Dt].map;if(Z-=Ke,Z<0)Ke=Math.max(0,z[Dt].g-100),ut=!1;else try{Z="req"+Z+"_"||"";try{var fe=PA instanceof Map?PA:Object.entries(PA);for(const[br,sr]of fe){let or=sr;u(sr)&&(or=dn(sr)),Wt.push(Z+br+"="+encodeURIComponent(or))}}catch(br){throw Wt.push(Z+"type="+encodeURIComponent("_badmap")),br}}catch{F&&F(PA)}}if(ut){fe=Wt.join("&");break e}}fe=void 0}return p=p.i.splice(0,_),C.G=p,fe}function Dc(p){if(!p.g&&!p.v){p.Y=1;var C=p.Da;re||R(),$||(re(),$=!0),b.add(C,p),p.A=0}}function uo(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=QA(d(p.Da,p),Hc(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=QA(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Wi(this),Mc(this))};function kl(p){p.B!=null&&(a.clearTimeout(p.B),p.B=null)}function Mc(p){p.g=new gA(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var C=_t(p.na);lt(C,"RID","rpc"),lt(C,"SID",p.M),lt(C,"AID",p.K),lt(C,"CI",p.F?"0":"1"),!p.F&&p.ia&&lt(C,"TO",p.ia),lt(C,"TYPE","xmlhttp"),lo(p,C),p.u&&p.o&&so(C,p.u,p.o),p.O&&(p.g.H=p.O);var _=p.g;p=p.ba,_.M=1,_.A=mA(_t(C)),_.u=null,_.R=!0,Gi(_,p)}n.Va=function(){this.C!=null&&(this.C=null,Wi(this),uo(this),Kt(19))};function la(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function Lc(p,C){var _=null;if(p.g==C){la(p),kl(p),p.g=null;var F=2}else if(Ee(p.h,C))_=C.G,ze(p.h,C),F=1;else return;if(p.I!=0){if(C.o)if(F==1){_=C.u?C.u.length:0,C=Date.now()-C.F;var z=p.D;F=UA(),Ot(F,new FA(F,_)),Qr(p)}else Dc(p);else if(z=C.m,z==3||z==0&&C.X>0||!(F==1&&aa(p,C)||F==2&&uo(p)))switch(_&&_.length>0&&(C=p.h,C.i=C.i.concat(_)),z){case 1:Rr(p,5);break;case 4:Rr(p,10);break;case 3:Rr(p,6);break;default:Rr(p,2)}}}function Hc(p,C){let _=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(_*=2),_*C}function Rr(p,C){if(p.j.info("Error code "+C),C==2){var _=d(p.bb,p),F=p.Ua;const z=!F;F=new rt(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xt(F,"https"),mA(F),z?Ar(F.toString(),_):Ll(F.toString(),_)}else Kt(2);p.I=0,p.l&&p.l.pa(C),Pc(p),oa(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Pc(p){if(p.I=0,p.ja=[],p.l){const C=mn(p.h);(C.length!=0||p.i.length!=0)&&(Q(p.ja,C),Q(p.ja,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.oa()}}function Vc(p,C,_){var F=_ instanceof rt?_t(_):new rt(_);if(F.g!="")C&&(F.g=C+"."+F.g),Tt(F,F.u);else{var z=a.location;F=z.protocol,C=C?C+"."+z.hostname:z.hostname,z=+z.port;const Z=new rt(null);F&&Xt(Z,F),C&&(Z.g=C),z&&Tt(Z,z),_&&(Z.h=_),F=Z}return _=p.G,C=p.wa,_&&C&&lt(F,_,C),lt(F,"VER",p.ka),lo(p,F),F}function Oc(p,C,_){if(C&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Aa&&!p.ma?new mt(new Sr({ab:_})):new mt(p.ma),C.Fa(p.L),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}n=kc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function $i(){}$i.prototype.g=function(p,C){return new Jn(p,C)};function Jn(p,C){Vt.call(this),this.g=new Xi(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(p?p["X-WebChannel-Client-Profile"]=C.sa:p={"X-WebChannel-Client-Profile":C.sa}),this.g.U=p,(p=C&&C.Qb)&&!x(p)&&(this.g.u=p),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!x(C)&&(this.g.G=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new ii(this)}v(Jn,Vt),Jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){Vl(this.g)},Jn.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var _={};_.__data__=p,p=_}else this.v&&(_={},_.__data__=dn(p),p=_);C.i.push(new qt(C.Ya++,p)),C.I==3&&Qr(C)},Jn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,Jn.Z.N.call(this)};function Kc(p){kt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const _ in C){p=_;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}v(Kc,kt);function Gc(){Gn.call(this),this.status=1}v(Gc,Gn);function ii(p){this.g=p}v(ii,kc),ii.prototype.ra=function(){Ot(this.g,"a")},ii.prototype.qa=function(p){Ot(this.g,new Kc(p))},ii.prototype.pa=function(p){Ot(this.g,new Gc)},ii.prototype.oa=function(){Ot(this.g,"b")},$i.prototype.createWebChannel=$i.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,aF=function(){return new $i},oF=function(){return UA()},sF=Qt,Cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,bd=jr,to.COMPLETE="complete",iF=to,jo.EventType=eA,eA.OPEN="a",eA.CLOSE="b",eA.ERROR="c",eA.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Mu=jo,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,rF=mt}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});const oT="@firebase/firestore",aT="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Ph("@firebase/firestore");function Ja(){return Oo.logLevel}function ve(n,...e){if(Oo.logLevel<=je.DEBUG){const t=e.map(x0);Oo.debug(`Firestore (${_l}): ${n}`,...t)}}function Ri(n,...e){if(Oo.logLevel<=je.ERROR){const t=e.map(x0);Oo.error(`Firestore (${_l}): ${n}`,...t)}}function fl(n,...e){if(Oo.logLevel<=je.WARN){const t=e.map(x0);Oo.warn(`Firestore (${_l}): ${n}`,...t)}}function x0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let A="Unexpected state";typeof e=="string"?A=e:t=e,lF(n,A,t)}function lF(n,e,t){let A=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{A+=" CONTEXT: "+JSON.stringify(t)}catch{A+=" CONTEXT: "+t}throw Ri(A),new Error(A)}function dt(n,e,t,A){let i="Unexpected state";typeof t=="string"?i=t:A=t,n||lF(e,i,A)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Hn.UNAUTHENTICATED)))}shutdown(){}}class RO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bO{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let A=this.i;const i=f=>this.i!==A?(A=this.i,t(f)):Promise.resolve();let o=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ii,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ii)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((A=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):A?(dt(typeof A.accessToken=="string",31837,{l:A}),new uF(A.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class xO{constructor(e,t,A){this.P=e,this.T=t,this.I=A,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NO{constructor(e,t,A){this.P=e,this.T=t,this.I=A}getToken(){return Promise.resolve(new xO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,WA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const A=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>A(o)))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let A=0;A<n;A++)t[A]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let A="";for(;A.length<20;){const i=MO(40);for(let o=0;o<i.length;++o)A.length<20&&i[o]<t&&(A+=e.charAt(i[o]%62))}return A}}function et(n,e){return n<e?-1:n>e?1:0}function Ey(n,e){const t=Math.min(n.length,e.length);for(let A=0;A<t;A++){const i=n.charAt(A),o=e.charAt(A);if(i!==o)return Sm(i)===Sm(o)?et(i,o):Sm(i)?1:-1}return et(n.length,e.length)}const LO=55296,HO=57343;function Sm(n){const e=n.charCodeAt(0);return e>=LO&&e<=HO}function dl(n,e,t){return n.length===e.length&&n.every(((A,i)=>t(A,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__name__";class Hr{constructor(e,t,A){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),A===void 0?A=e.length-t:A>e.length-t&&Ne(1746,{length:A,range:e.length-t}),this.segments=e,this.offset=t,this.len=A}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach((A=>{t.push(A)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,A=this.limit();t<A;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const A=Math.min(e.length,t.length);for(let i=0;i<A;i++){const o=Hr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return et(e.length,t.length)}static compareSegments(e,t){const A=Hr.isNumericId(e),i=Hr.isNumericId(t);return A&&!i?-1:!A&&i?1:A&&i?Hr.extractNumericId(e).compare(Hr.extractNumericId(t)):Ey(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class It extends Hr{construct(e,t,A){return new It(e,t,A)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const A of e){if(A.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${A}). Paths must not contain // in them.`);t.push(...A.split("/").filter((i=>i.length>0)))}return new It(t)}static emptyPath(){return new It([])}}const PO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Hr{construct(e,t,A){return new Rn(e,t,A)}static isValidIdentifier(e){return PO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uT}static keyField(){return new Rn([uT])}static fromServerFormat(e){const t=[];let A="",i=0;const o=()=>{if(A.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(A),A=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);A+=f,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(A+=u,i++):(o(),i++)}if(o(),a)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(t)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(It.fromString(e))}static fromName(e){return new Fe(It.fromString(e).popFirst(5))}static empty(){return new Fe(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(n,e,t){if(!t)throw new ye(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VO(n,e,t,A){if(e===!0&&A===!0)throw new ye(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cT(n){if(!Fe.isDocumentKey(n))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fT(n){if(Fe.isDocumentKey(n))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fF(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(A){return A.constructor?A.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function zr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kh(n);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n,e){const t={typeString:n};return e&&(t.value=e),t}function mc(n,e){if(!fF(n))throw new ye(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const A in e)if(e[A]){const i=e[A].typeString,o="value"in e[A]?{value:e[A].value}:void 0;if(!(A in n)){t=`JSON missing required field: '${A}'`;break}const a=n[A];if(i&&typeof a!==i){t=`JSON field '${A}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){t=`Expected '${A}' field to equal '${o.value}'`;break}}if(t)throw new ye(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=-62135596800,hT=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),A=Math.floor((e-1e3*t)*hT);return new St(t,A)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dT)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hT}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:fn("string",St._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new St(0,0))}static max(){return new He(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function OO(n,e){const t=n.toTimestamp().seconds,A=n.toTimestamp().nanoseconds+1,i=He.fromTimestamp(A===1e9?new St(t+1,0):new St(t,A));return new Ps(i,Fe.empty(),e)}function kO(n){return new Ps(n.readTime,n.key,ic)}class Ps{constructor(e,t,A){this.readTime=e,this.documentKey=t,this.largestBatchId=A}static min(){return new Ps(He.min(),Fe.empty(),ic)}static max(){return new Ps(He.max(),Fe.empty(),ic)}}function KO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(n.documentKey,e.documentKey),t!==0?t:et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==GO)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((A,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(A,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(A,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,A)=>{t(e)}))}static reject(e){return new le(((t,A)=>{A(e)}))}static waitFor(e){return new le(((t,A)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&t()}),(f=>A(f)))})),a=!0,o===i&&t()}))}static or(e){let t=le.resolve(!1);for(const A of e)t=t.next((i=>i?le.resolve(i):A()));return t}static forEach(e,t){const A=[];return e.forEach(((i,o)=>{A.push(t.call(this,i,o))})),this.waitFor(A)}static mapArray(e,t){return new le(((A,i)=>{const o=e.length,a=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((m=>{a[d]=m,++u,u===o&&A(a)}),(m=>i(m)))}}))}static doWhile(e,t){return new le(((A,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):A()};o()}))}}function zO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=A=>this.ae(A),this.ue=A=>t.writeSequenceNumber(A))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-1;function Gh(n){return n==null}function nh(n){return n===0&&1/n==-1/0}function JO(n){return typeof n=="number"&&Number.isInteger(n)&&!nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="";function YO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gT(e)),e=XO(n.get(t),e);return gT(e)}function XO(n,e){let t=e;const A=n.length;for(let i=0;i<A;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case dF:t+="";break;default:t+=o}}return t}function gT(n){return n+dF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const A=this.comparator(e,t.key);if(A===0)return t.value;A<0?t=t.left:A>0&&(t=t.right)}return null}indexOf(e){let t=0,A=this.root;for(;!A.isEmpty();){const i=this.comparator(e,A.key);if(i===0)return t+A.left.size;i<0?A=A.left:(t+=A.left.size+1,A=A.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,A)=>(e(t,A),!1)))}toString(){const e=[];return this.inorderTraversal(((t,A)=>(e.push(`${t}:${A}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new td(this.root,e,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new td(this.root,e,this.comparator,!0)}}class td{constructor(e,t,A,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?A(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,t,A,i,o){this.key=e,this.value=t,this.color=A??Qn.RED,this.left=i??Qn.EMPTY,this.right=o??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,A,i,o){return new Qn(e??this.key,t??this.value,A??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,A){let i=this;const o=A(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,A),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,A)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let A,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;A=i.right.min(),i=i.copy(A.key,A.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,A,i,o){return this}insert(e,t,A){return new Qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,A)=>(e(t),!1)))}forEachInRange(e,t){const A=this.data.getIteratorFrom(e[0]);for(;A.hasNext();){const i=A.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let A;for(A=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();A.hasNext();)if(!e(A.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(e){return new mT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((A=>{t=t.add(A)})),t}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),A=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=A.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new pn(this.comparator);return t.data=e,t}}class mT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new IA([])}unionWith(e){let t=new pn(Rn.comparator);for(const A of this.fields)t=t.add(A);for(const A of e)t=t.add(A);return new IA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,((t,A)=>t.isEqual(A)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gF("Invalid base64 string: "+o):o}})(e);return new xn(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const A=new Uint8Array(t.length);for(let i=0;i<t.length;i++)A[i]=t.charCodeAt(i);return A})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const WO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(n){if(dt(!!n,39018),typeof n=="string"){let e=0;const t=WO.exec(n);if(dt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const A=new Date(n);return{seconds:Math.floor(A.getTime()/1e3),nanos:e}}return{seconds:tn(n.seconds),nanos:tn(n.nanos)}}function tn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Os(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="server_timestamp",mF="__type__",yF="__previous_value__",BF="__local_write_time__";function M0(n){var t,A;return((A=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[mF])==null?void 0:A.stringValue)===pF}function qh(n){const e=n.mapValue.fields[yF];return M0(e)?qh(e):e}function sc(n){const e=Vs(n.mapValue.fields[BF].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t,A,i,o,a,u,f,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=A,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const Ah="(default)";class oc{constructor(e,t){this.projectId=e,this.database=t||Ah}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="__type__",ZO="__max__",nd={mapValue:{}},wF="__vector__",rh="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?M0(n)?4:ek(n)?9007199254740991:jO(n)?10:11:Ne(28295,{value:n})}function Jr(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sc(n).isEqual(sc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Vs(i.timestampValue),u=Vs(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Os(i.bytesValue).isEqual(Os(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return tn(i.geoPointValue.latitude)===tn(o.geoPointValue.latitude)&&tn(i.geoPointValue.longitude)===tn(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return tn(i.integerValue)===tn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=tn(i.doubleValue),u=tn(o.doubleValue);return a===u?nh(a)===nh(u):isNaN(a)&&isNaN(u)}return!1})(n,e);case 9:return dl(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(pT(a)!==pT(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(u[f]===void 0||!Jr(a[f],u[f])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function ac(n,e){return(n.values||[]).find((t=>Jr(t,e)))!==void 0}function hl(n,e){if(n===e)return 0;const t=ks(n),A=ks(e);if(t!==A)return et(t,A);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=tn(o.integerValue||o.doubleValue),f=tn(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return yT(n.timestampValue,e.timestampValue);case 4:return yT(sc(n),sc(e));case 5:return Ey(n.stringValue,e.stringValue);case 6:return(function(o,a){const u=Os(o),f=Os(a);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),f=a.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=et(u[d],f[d]);if(m!==0)return m}return et(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=et(tn(o.latitude),tn(a.latitude));return u!==0?u:et(tn(o.longitude),tn(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return BT(n.arrayValue,e.arrayValue);case 10:return(function(o,a){var w,T,Q,D;const u=o.fields||{},f=a.fields||{},d=(w=u[rh])==null?void 0:w.arrayValue,m=(T=f[rh])==null?void 0:T.arrayValue,v=et(((Q=d==null?void 0:d.values)==null?void 0:Q.length)||0,((D=m==null?void 0:m.values)==null?void 0:D.length)||0);return v!==0?v:BT(d,m)})(n.mapValue,e.mapValue);case 11:return(function(o,a){if(o===nd.mapValue&&a===nd.mapValue)return 0;if(o===nd.mapValue)return 1;if(a===nd.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=a.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let v=0;v<f.length&&v<m.length;++v){const w=Ey(f[v],m[v]);if(w!==0)return w;const T=hl(u[f[v]],d[m[v]]);if(T!==0)return T}return et(f.length,m.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function yT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);const t=Vs(n),A=Vs(e),i=et(t.seconds,A.seconds);return i!==0?i:et(t.nanos,A.nanos)}function BT(n,e){const t=n.values||[],A=e.values||[];for(let i=0;i<t.length&&i<A.length;++i){const o=hl(t[i],A[i]);if(o)return o}return et(t.length,A.length)}function gl(n){return _y(n)}function _y(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const A=Vs(t);return`time(${A.seconds},${A.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Os(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let A="[",i=!0;for(const o of t.values||[])i?i=!1:A+=",",A+=_y(o);return A+"]"})(n.arrayValue):"mapValue"in n?(function(t){const A=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const a of A)o?o=!1:i+=",",i+=`${a}:${_y(t.fields[a])}`;return i+"}"})(n.mapValue):Ne(61005,{value:n})}function xd(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(n);return e?16+xd(e):16;case 5:return 2*n.stringValue.length;case 6:return Os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(A){return(A.values||[]).reduce(((i,o)=>i+xd(o)),0)})(n.arrayValue);case 10:case 11:return(function(A){let i=0;return Js(A.fields,((o,a)=>{i+=o.length+xd(a)})),i})(n.mapValue);default:throw Ne(13486,{value:n})}}function vT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ty(n){return!!n&&"integerValue"in n}function L0(n){return!!n&&"arrayValue"in n}function wT(n){return!!n&&"nullValue"in n}function CT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nd(n){return!!n&&"mapValue"in n}function jO(n){var t,A;return((A=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[vF])==null?void 0:A.stringValue)===wF}function Yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,((t,A)=>e.mapValue.fields[t]=Yu(A))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(n.arrayValue.values[t]);return e}return{...n}}function ek(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.value=e}static empty(){return new cA({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let A=0;A<e.length-1;++A)if(t=(t.mapValue.fields||{})[e.get(A)],!Nd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=Rn.emptyPath(),A={},i=[];e.forEach(((a,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,A,i),A={},i=[],t=u.popLast()}a?A[u.lastSegment()]=Yu(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,A,i)}delete(e){const t=this.field(e.popLast());Nd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let A=0;A<e.length;++A){let i=t.mapValue.fields[e.get(A)];Nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(A)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,A){Js(t,((i,o)=>e[i]=o));for(const i of A)delete e[i]}clone(){return new cA(Yu(this.value))}}function CF(n){const e=[];return Js(n.fields,((t,A)=>{const i=new Rn([t]);if(Nd(A)){const o=CF(A.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new IA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t,A,i,o,a,u){this.key=e,this.documentType=t,this.version=A,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Vn(e,0,He.min(),He.min(),He.min(),cA.empty(),0)}static newFoundDocument(e,t,A,i){return new Vn(e,1,t,He.min(),A,i,0)}static newNoDocument(e,t){return new Vn(e,2,t,He.min(),He.min(),cA.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,He.min(),He.min(),cA.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cA.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cA.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.position=e,this.inclusive=t}}function ET(n,e,t){let A=0;for(let i=0;i<n.position.length;i++){const o=e[i],a=n.position[i];if(o.field.isKeyField()?A=Fe.comparator(Fe.fromName(a.referenceValue),t.key):A=hl(a,t.data.field(o.field)),o.dir==="desc"&&(A*=-1),A!==0)break}return A}function _T(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t="asc"){this.field=e,this.dir=t}}function tk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{}class cn extends EF{constructor(e,t,A){super(),this.field=e,this.op=t,this.value=A}static create(e,t,A){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,A):new Ak(e,t,A):t==="array-contains"?new sk(e,A):t==="in"?new ok(e,A):t==="not-in"?new ak(e,A):t==="array-contains-any"?new lk(e,A):new cn(e,t,A)}static createKeyFieldInFilter(e,t,A){return t==="in"?new rk(e,A):new ik(e,A)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hl(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends EF{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mr(e,t)}matches(e){return _F(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _F(n){return n.op==="and"}function TF(n){return nk(n)&&_F(n)}function nk(n){for(const e of n.filters)if(e instanceof mr)return!1;return!0}function Iy(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+gl(n.value);if(TF(n))return n.filters.map((e=>Iy(e))).join(",");{const e=n.filters.map((t=>Iy(t))).join(",");return`${n.op}(${e})`}}function IF(n,e){return n instanceof cn?(function(A,i){return i instanceof cn&&A.op===i.op&&A.field.isEqual(i.field)&&Jr(A.value,i.value)})(n,e):n instanceof mr?(function(A,i){return i instanceof mr&&A.op===i.op&&A.filters.length===i.filters.length?A.filters.reduce(((o,a,u)=>o&&IF(a,i.filters[u])),!0):!1})(n,e):void Ne(19439)}function SF(n){return n instanceof cn?(function(t){return`${t.field.canonicalString()} ${t.op} ${gl(t.value)}`})(n):n instanceof mr?(function(t){return t.op.toString()+" {"+t.getFilters().map(SF).join(" ,")+"}"})(n):"Filter"}class Ak extends cn{constructor(e,t,A){super(e,t,A),this.key=Fe.fromName(A.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class rk extends cn{constructor(e,t){super(e,"in",t),this.keys=UF("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ik extends cn{constructor(e,t){super(e,"not-in",t),this.keys=UF("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function UF(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((A=>Fe.fromName(A.referenceValue)))}class sk extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return L0(t)&&ac(t.arrayValue,this.value)}}class ok extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ac(this.value.arrayValue,t)}}class ak extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ac(this.value.arrayValue,t)}}class lk extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!L0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((A=>ac(this.value.arrayValue,A)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t=null,A=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=A,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function TT(n,e=null,t=[],A=[],i=null,o=null,a=null){return new uk(n,e,t,A,i,o,a)}function H0(n){const e=Ve(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((A=>Iy(A))).join(","),t+="|ob:",t+=e.orderBy.map((A=>(function(o){return o.field.canonicalString()+o.dir})(A))).join(","),Gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((A=>gl(A))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((A=>gl(A))).join(",")),e.Te=t}return e.Te}function P0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_T(n.startAt,e.startAt)&&_T(n.endAt,e.endAt)}function Sy(n){return Fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t=null,A=[],i=[],o=null,a="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=A,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ck(n,e,t,A,i,o,a,u){return new yc(n,e,t,A,i,o,a,u)}function V0(n){return new yc(n)}function IT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FF(n){return n.collectionGroup!==null}function Xu(n){const e=Ve(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const A=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new pn(Rn.comparator);return a.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new sh(o,A))})),t.has(Rn.keyField().canonicalString())||e.Ie.push(new sh(Rn.keyField(),A))}return e.Ie}function Pr(n){const e=Ve(n);return e.Ee||(e.Ee=fk(e,Xu(n))),e.Ee}function fk(n,e){if(n.limitType==="F")return TT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new sh(i.field,o)}));const t=n.endAt?new ih(n.endAt.position,n.endAt.inclusive):null,A=n.startAt?new ih(n.startAt.position,n.startAt.inclusive):null;return TT(n.path,n.collectionGroup,e,n.filters,n.limit,t,A)}}function Uy(n,e){const t=n.filters.concat([e]);return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fy(n,e,t){return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zh(n,e){return P0(Pr(n),Pr(e))&&n.limitType===e.limitType}function QF(n){return`${H0(Pr(n))}|lt:${n.limitType}`}function Ya(n){return`Query(target=${(function(t){let A=t.path.canonicalString();return t.collectionGroup!==null&&(A+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(A+=`, filters: [${t.filters.map((i=>SF(i))).join(", ")}]`),Gh(t.limit)||(A+=", limit: "+t.limit),t.orderBy.length>0&&(A+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(A+=", startAt: ",A+=t.startAt.inclusive?"b:":"a:",A+=t.startAt.position.map((i=>gl(i))).join(",")),t.endAt&&(A+=", endAt: ",A+=t.endAt.inclusive?"a:":"b:",A+=t.endAt.position.map((i=>gl(i))).join(",")),`Target(${A})`})(Pr(n))}; limitType=${n.limitType})`}function Jh(n,e){return e.isFoundDocument()&&(function(A,i){const o=i.key.path;return A.collectionGroup!==null?i.key.hasCollectionId(A.collectionGroup)&&A.path.isPrefixOf(o):Fe.isDocumentKey(A.path)?A.path.isEqual(o):A.path.isImmediateParentOf(o)})(n,e)&&(function(A,i){for(const o of Xu(A))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(A,i){for(const o of A.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(A,i){return!(A.startAt&&!(function(a,u,f){const d=ET(a,u,f);return a.inclusive?d<=0:d<0})(A.startAt,Xu(A),i)||A.endAt&&!(function(a,u,f){const d=ET(a,u,f);return a.inclusive?d>=0:d>0})(A.endAt,Xu(A),i))})(n,e)}function dk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RF(n){return(e,t)=>{let A=!1;for(const i of Xu(n)){const o=hk(i,e,t);if(o!==0)return o;A=A||i.field.isKeyField()}return 0}}function hk(n,e,t){const A=n.field.isKeyField()?Fe.comparator(e.key,t.key):(function(o,a,u){const f=a.data.field(o),d=u.data.field(o);return f!==null&&d!==null?hl(f,d):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return A;case"desc":return-1*A;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),A=this.inner[t];if(A!==void 0){for(const[i,o]of A)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const A=this.mapKeyFn(e),i=this.inner[A];if(i===void 0)return this.inner[A]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),A=this.inner[t];if(A===void 0)return!1;for(let i=0;i<A.length;i++)if(this.equalsFn(A[i][0],e))return A.length===1?delete this.inner[t]:A.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,((t,A)=>{for(const[i,o]of A)e(i,o)}))}isEmpty(){return hF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Pt(Fe.comparator);function bi(){return gk}const bF=new Pt(Fe.comparator);function Lu(...n){let e=bF;for(const t of n)e=e.insert(t.key,t);return e}function xF(n){let e=bF;return n.forEach(((t,A)=>e=e.insert(t,A.overlayedDocument))),e}function No(){return Wu()}function NF(){return Wu()}function Wu(){return new Yo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const pk=new Pt(Fe.comparator),mk=new pn(Fe.comparator);function tt(...n){let e=mk;for(const t of n)e=e.add(t);return e}const yk=new pn(et);function Bk(){return yk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function DF(n){return{integerValue:""+n}}function vk(n,e){return JO(e)?DF(e):O0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function wk(n,e,t){return n instanceof oh?(function(i,o){const a={fields:{[mF]:{stringValue:pF},[BF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&M0(o)&&(o=qh(o)),o&&(a.fields[yF]=o),{mapValue:a}})(t,e):n instanceof lc?LF(n,e):n instanceof uc?HF(n,e):(function(i,o){const a=MF(i,o),u=ST(a)+ST(i.Ae);return Ty(a)&&Ty(i.Ae)?DF(u):O0(i.serializer,u)})(n,e)}function Ck(n,e,t){return n instanceof lc?LF(n,e):n instanceof uc?HF(n,e):t}function MF(n,e){return n instanceof ah?(function(A){return Ty(A)||(function(o){return!!o&&"doubleValue"in o})(A)})(e)?e:{integerValue:0}:null}class oh extends Yh{}class lc extends Yh{constructor(e){super(),this.elements=e}}function LF(n,e){const t=PF(e);for(const A of n.elements)t.some((i=>Jr(i,A)))||t.push(A);return{arrayValue:{values:t}}}class uc extends Yh{constructor(e){super(),this.elements=e}}function HF(n,e){let t=PF(e);for(const A of n.elements)t=t.filter((i=>!Jr(i,A)));return{arrayValue:{values:t}}}class ah extends Yh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ST(n){return tn(n.integerValue||n.doubleValue)}function PF(n){return L0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ek(n,e){return n.field.isEqual(e.field)&&(function(A,i){return A instanceof lc&&i instanceof lc||A instanceof uc&&i instanceof uc?dl(A.elements,i.elements,Jr):A instanceof ah&&i instanceof ah?Jr(A.Ae,i.Ae):A instanceof oh&&i instanceof oh})(n.transform,e.transform)}class _k{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xh{}function VF(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new k0(n.key,gr.none()):new Bc(n.key,n.data,gr.none());{const t=n.data,A=cA.empty();let i=new pn(Rn.comparator);for(let o of e.fields)if(!i.has(o)){let a=t.field(o);a===null&&o.length>1&&(o=o.popLast(),a=t.field(o)),a===null?A.delete(o):A.set(o,a),i=i.add(o)}return new Ys(n.key,A,new IA(i.toArray()),gr.none())}}function Tk(n,e,t){n instanceof Bc?(function(i,o,a){const u=i.value.clone(),f=FT(i.fieldTransforms,o,a.transformResults);u.setAll(f),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Ys?(function(i,o,a){if(!Dd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=FT(i.fieldTransforms,o,a.transformResults),f=o.data;f.setAll(OF(i)),f.setAll(u),o.convertToFoundDocument(a.version,f).setHasCommittedMutations()})(n,e,t):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function $u(n,e,t,A){return n instanceof Bc?(function(o,a,u,f){if(!Dd(o.precondition,a))return u;const d=o.value.clone(),m=QT(o.fieldTransforms,f,a);return d.setAll(m),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(n,e,t,A):n instanceof Ys?(function(o,a,u,f){if(!Dd(o.precondition,a))return u;const d=QT(o.fieldTransforms,f,a),m=a.data;return m.setAll(OF(o)),m.setAll(d),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,A):(function(o,a,u){return Dd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(n,e,t)}function Ik(n,e){let t=null;for(const A of n.fieldTransforms){const i=e.data.field(A.field),o=MF(A.transform,i||null);o!=null&&(t===null&&(t=cA.empty()),t.set(A.field,o))}return t||null}function UT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(A,i){return A===void 0&&i===void 0||!(!A||!i)&&dl(A,i,((o,a)=>Ek(o,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bc extends Xh{constructor(e,t,A,i=[]){super(),this.key=e,this.value=t,this.precondition=A,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ys extends Xh{constructor(e,t,A,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=A,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OF(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const A=n.data.field(t);e.set(t,A)}})),e}function FT(n,e,t){const A=new Map;dt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const o=n[i],a=o.transform,u=e.data.field(o.field);A.set(o.field,Ck(a,u,t[i]))}return A}function QT(n,e,t){const A=new Map;for(const i of n){const o=i.transform,a=t.data.field(i.field);A.set(i.field,wk(o,a,e))}return A}class k0 extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sk extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,A,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=A,this.mutations=i}applyToRemoteDocument(e,t){const A=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Tk(o,e,A[i])}}applyToLocalView(e,t){for(const A of this.baseMutations)A.key.isEqual(e.key)&&(t=$u(A,e,t,this.localWriteTime));for(const A of this.mutations)A.key.isEqual(e.key)&&(t=$u(A,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const A=NF();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=t.has(i.key)?null:u;const f=VF(a,u);f!==null&&A.set(i.key,f),a.isValidDocument()||a.convertToNoDocument(He.min())})),A}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),tt())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,((t,A)=>UT(t,A)))&&dl(this.baseMutations,e.baseMutations,((t,A)=>UT(t,A)))}}class K0{constructor(e,t,A,i){this.batch=e,this.commitVersion=t,this.mutationResults=A,this.docVersions=i}static from(e,t,A){dt(e.mutations.length===A.length,58842,{me:e.mutations.length,fe:A.length});let i=(function(){return pk})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,A[a].version);return new K0(e,t,A,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,At;function Rk(n){switch(n){case oe.OK:return Ne(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function kF(n){if(n===void 0)return Ri("GRPC error has no .code"),oe.UNKNOWN;switch(n){case ln.OK:return oe.OK;case ln.CANCELLED:return oe.CANCELLED;case ln.UNKNOWN:return oe.UNKNOWN;case ln.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case ln.INTERNAL:return oe.INTERNAL;case ln.UNAVAILABLE:return oe.UNAVAILABLE;case ln.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case ln.NOT_FOUND:return oe.NOT_FOUND;case ln.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case ln.ABORTED:return oe.ABORTED;case ln.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case ln.DATA_LOSS:return oe.DATA_LOSS;default:return Ne(39323,{code:n})}}(At=ln||(ln={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new Ns([4294967295,4294967295],0);function RT(n){const e=bk().encode(n),t=new AF;return t.update(e),new Uint8Array(t.digest())}function bT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),A=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ns([t,A],0),new Ns([i,o],0)]}class G0{constructor(e,t,A){if(this.bitmap=e,this.padding=t,this.hashCount=A,t<0||t>=8)throw new Hu(`Invalid padding: ${t}`);if(A<0)throw new Hu(`Invalid hash count: ${A}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${A}`);if(e.length===0&&t!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ns.fromNumber(this.ge)}ye(e,t,A){let i=e.add(t.multiply(Ns.fromNumber(A)));return i.compare(xk)===1&&(i=new Ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=RT(e),[A,i]=bT(t);for(let o=0;o<this.hashCount;o++){const a=this.ye(A,i,o);if(!this.we(a))return!1}return!0}static create(e,t,A){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new G0(o,i,t);return A.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const t=RT(e),[A,i]=bT(t);for(let o=0;o<this.hashCount;o++){const a=this.ye(A,i,o);this.Se(a)}}Se(e){const t=Math.floor(e/8),A=e%8;this.bitmap[t]|=1<<A}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,A,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=A,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,A){const i=new Map;return i.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,t,A)),new Wh(He.min(),i,new Pt(et),bi(),tt())}}class vc{constructor(e,t,A,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=A,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,A){return new vc(A,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,A,i){this.be=e,this.removedTargetIds=t,this.key=A,this.De=i}}class KF{constructor(e,t){this.targetId=e,this.Ce=t}}class GF{constructor(e,t,A=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=A,this.cause=i}}class xT{constructor(){this.ve=0,this.Fe=NT(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),t=tt(),A=tt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:A=A.add(i);break;default:Ne(38017,{changeType:o})}})),new vc(this.Me,this.xe,e,t,A)}qe(){this.Oe=!1,this.Fe=NT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nk{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.Je=Ad(),this.He=Ad(),this.Ye=new Pt(et)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const A=this.nt(t);switch(e.state){case 0:this.rt(t)&&A.Le(e.resumeToken);break;case 1:A.Ke(),A.Ne||A.qe(),A.Le(e.resumeToken);break;case 2:A.Ke(),A.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(A.We(),A.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),A.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((A,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,A=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(Sy(o))if(A===0){const a=new Fe(o.path);this.et(t,a,Vn.newNoDocument(a,He.min()))}else dt(A===1,20013,{expectedCount:A});else{const a=this._t(t);if(a!==A){const u=this.ut(e),f=u?this.ct(u,e,a):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:A="",padding:i=0},hashCount:o=0}=t;let a,u;try{a=Os(A).toUint8Array()}catch(f){if(f instanceof gF)return fl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new G0(a,i,o)}catch(f){return fl(f instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,A){return t.Ce.count===A-this.Pt(e,t.targetId)?0:2}Pt(e,t){const A=this.Ge.getRemoteKeysForTarget(t);let i=0;return A.forEach((o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,a)=>{const u=this.ot(a);if(u){if(o.current&&Sy(u.target)){const f=new Fe(u.target.path);this.It(f).has(a)||this.Et(a,f)||this.et(a,f,Vn.newNoDocument(f,e))}o.Be&&(t.set(a,o.ke()),o.qe())}}));let A=tt();this.He.forEach(((o,a)=>{let u=!0;a.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(A=A.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new Wh(e,t,this.Ye,this.je,A);return this.je=bi(),this.Je=Ad(),this.He=Ad(),this.Ye=new Pt(et),i}Xe(e,t){if(!this.rt(e))return;const A=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,A),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,A){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),A&&(this.je=this.je.insert(t,A))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new xT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new pn(et),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new pn(et),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ad(){return new Pt(Fe.comparator)}function NT(){return new Pt(Fe.comparator)}const Dk={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lk={and:"AND",or:"OR"};class Hk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qy(n,e){return n.useProto3Json||Gh(e)?e:{value:e}}function lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Pk(n,e){return lh(n,e.toTimestamp())}function Vr(n){return dt(!!n,49232),He.fromTimestamp((function(t){const A=Vs(t);return new St(A.seconds,A.nanos)})(n))}function q0(n,e){return Ry(n,e).canonicalString()}function Ry(n,e){const t=(function(i){return new It(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function zF(n){const e=It.fromString(n);return dt($F(e),10190,{key:e.toString()}),e}function by(n,e){return q0(n.databaseId,e.path)}function Um(n,e){const t=zF(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(YF(t))}function JF(n,e){return q0(n.databaseId,e)}function Vk(n){const e=zF(n);return e.length===4?It.emptyPath():YF(e)}function xy(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YF(n){return dt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DT(n,e,t){return{name:by(n,e),fields:t.value.mapValue.fields}}function Ok(n,e){let t;if("targetChange"in e){e.targetChange;const A=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ne(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(dt(m===void 0||typeof m=="string",58123),xn.fromBase64String(m||"")):(dt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),xn.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(d){const m=d.code===void 0?oe.UNKNOWN:kF(d.code);return new ye(m,d.message||"")})(a);t=new GF(A,i,o,u||null)}else if("documentChange"in e){e.documentChange;const A=e.documentChange;A.document,A.document.name,A.document.updateTime;const i=Um(n,A.document.name),o=Vr(A.document.updateTime),a=A.document.createTime?Vr(A.document.createTime):He.min(),u=new cA({mapValue:{fields:A.document.fields}}),f=Vn.newFoundDocument(i,o,a,u),d=A.targetIds||[],m=A.removedTargetIds||[];t=new Md(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const A=e.documentDelete;A.document;const i=Um(n,A.document),o=A.readTime?Vr(A.readTime):He.min(),a=Vn.newNoDocument(i,o),u=A.removedTargetIds||[];t=new Md([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const A=e.documentRemove;A.document;const i=Um(n,A.document),o=A.removedTargetIds||[];t=new Md([],o,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const A=e.filter;A.targetId;const{count:i=0,unchangedNames:o}=A,a=new Qk(i,o),u=A.targetId;t=new KF(u,a)}}return t}function kk(n,e){let t;if(e instanceof Bc)t={update:DT(n,e.key,e.value)};else if(e instanceof k0)t={delete:by(n,e.key)};else if(e instanceof Ys)t={update:DT(n,e.key,e.data),updateMask:$k(e.fieldMask)};else{if(!(e instanceof Sk))return Ne(16599,{Vt:e.type});t={verify:by(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((A=>(function(o,a){const u=a.transform;if(u instanceof oh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof uc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ah)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw Ne(20930,{transform:a.transform})})(0,A)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Pk(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne(27497)})(n,e.precondition)),t}function Kk(n,e){return n&&n.length>0?(dt(e!==void 0,14353),n.map((t=>(function(i,o){let a=i.updateTime?Vr(i.updateTime):Vr(o);return a.isEqual(He.min())&&(a=Vr(o)),new _k(a,i.transformResults||[])})(t,e)))):[]}function Gk(n,e){return{documents:[JF(n,e.path)]}}function qk(n,e){const t={structuredQuery:{}},A=e.path;let i;e.collectionGroup!==null?(i=A,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=A.popLast(),t.structuredQuery.from=[{collectionId:A.lastSegment()}]),t.parent=JF(n,i);const o=(function(d){if(d.length!==0)return WF(mr.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const a=(function(d){if(d.length!==0)return d.map((m=>(function(w){return{field:Xa(w.field),direction:Yk(w.dir)}})(m)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=Qy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function zk(n){let e=Vk(n.parent);const t=n.structuredQuery,A=t.from?t.from.length:0;let i=null;if(A>0){dt(A===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=(function(v){const w=XF(v);return w instanceof mr&&TF(w)?w.getFilters():[w]})(t.where));let a=[];t.orderBy&&(a=(function(v){return v.map((w=>(function(Q){return new sh(Wa(Q.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(w)))})(t.orderBy));let u=null;t.limit&&(u=(function(v){let w;return w=typeof v=="object"?v.value:v,Gh(w)?null:w})(t.limit));let f=null;t.startAt&&(f=(function(v){const w=!!v.before,T=v.values||[];return new ih(T,w)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const w=!v.before,T=v.values||[];return new ih(T,w)})(t.endAt)),ck(e,i,a,o,u,"F",f,d)}function Jk(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function XF(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const A=Wa(t.unaryFilter.field);return cn.create(A,"==",{doubleValue:NaN});case"IS_NULL":const i=Wa(t.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wa(t.unaryFilter.field);return cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wa(t.unaryFilter.field);return cn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return cn.create(Wa(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return mr.create(t.compositeFilter.filters.map((A=>XF(A))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function Yk(n){return Dk[n]}function Xk(n){return Mk[n]}function Wk(n){return Lk[n]}function Xa(n){return{fieldPath:n.canonicalString()}}function Wa(n){return Rn.fromServerFormat(n.fieldPath)}function WF(n){return n instanceof cn?(function(t){if(t.op==="=="){if(CT(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NAN"}};if(wT(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CT(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NAN"}};if(wT(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(t.field),op:Xk(t.op),value:t.value}}})(n):n instanceof mr?(function(t){const A=t.getFilters().map((i=>WF(i)));return A.length===1?A[0]:{compositeFilter:{op:Wk(t.op),filters:A}}})(n):Ne(54877,{filter:n})}function $k(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $F(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,A,i,o=He.min(),a=He.min(),u=xn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=A,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.yt=e}}function jk(n){const e=zk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.Cn=new t3}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ps.min())}updateCollectionGroup(e,t,A){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class t3{constructor(){this.index={}}add(e){const t=e.lastSegment(),A=e.popLast(),i=this.index[t]||new pn(It.comparator),o=!i.has(A);return this.index[t]=i.add(A),o}has(e){const t=e.lastSegment(),A=e.popLast(),i=this.index[t];return i&&i.has(A)}getEntries(e){return(this.index[e]||new pn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZF=41943040;class lA{static withCacheSize(e){return new lA(e,lA.DEFAULT_COLLECTION_PERCENTILE,lA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,A){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lA.DEFAULT_COLLECTION_PERCENTILE=10,lA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lA.DEFAULT=new lA(ZF,lA.DEFAULT_COLLECTION_PERCENTILE,lA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lA.DISABLED=new lA(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pl(0)}static cr(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="LruGarbageCollector",n3=1048576;function HT([n,e],[t,A]){const i=et(n,t);return i===0?et(e,A):i}class A3{constructor(e){this.Ir=e,this.buffer=new pn(HT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const A=this.buffer.last();HT(t,A)<0&&(this.buffer=this.buffer.delete(A).add(t))}}get maxValue(){return this.buffer.last()[0]}}class r3{constructor(e,t,A){this.garbageCollector=e,this.asyncQueue=t,this.localStore=A,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(LT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Il(t)?ve(LT,"Ignoring IndexedDB error during garbage collection: ",t):await Tl(t)}await this.Vr(3e5)}))}}class i3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((A=>Math.floor(t/100*A)))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Kh.ce);const A=new A3(t);return this.mr.forEachTarget(e,(i=>A.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>A.Ar(i))))).next((()=>A.maxValue))}removeTargets(e,t,A){return this.mr.removeTargets(e,t,A)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(MT)):this.getCacheSize(e).next((A=>A<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${A} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let A,i,o,a,u,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,a=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(A=v,u=Date.now(),this.removeTargets(e,A,t)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,A)))).next((v=>(d=Date.now(),Ja()<=je.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v}))))}}function s3(n,e){return new i3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.changes=new Yo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const A=this.changes.get(t);return A!==void 0?le.resolve(A):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,t,A,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=A,this.indexManager=i}getDocument(e,t){let A=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(A=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(A!==null&&$u(A.mutation,i,IA.empty(),St.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((A=>this.getLocalViewOfDocuments(e,A,tt()).next((()=>A))))}getLocalViewOfDocuments(e,t,A=tt()){const i=No();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,A).next((o=>{let a=Lu();return o.forEach(((u,f)=>{a=a.insert(u,f.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const A=No();return this.populateOverlays(e,A,t).next((()=>this.computeViews(e,t,A,tt())))}populateOverlays(e,t,A){const i=[];return A.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{t.set(a,u)}))}))}computeViews(e,t,A,i){let o=bi();const a=Wu(),u=(function(){return Wu()})();return t.forEach(((f,d)=>{const m=A.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof Ys)?o=o.insert(d.key,d):m!==void 0?(a.set(d.key,m.mutation.getFieldMask()),$u(m.mutation,d,m.mutation.getFieldMask(),St.now())):a.set(d.key,IA.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,m)=>a.set(d,m))),t.forEach(((d,m)=>u.set(d,new a3(m,a.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,t){const A=Wu();let i=new Pt(((a,u)=>a-u)),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const u of a)u.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let m=A.get(f)||IA.empty();m=u.applyToLocalView(d,m),A.set(f,m);const v=(i.get(u.batchId)||tt()).add(f);i=i.insert(u.batchId,v)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,v=NF();m.forEach((w=>{if(!o.has(w)){const T=VF(t.get(w),A.get(w));T!==null&&v.set(w,T),o=o.add(w)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,v))}return le.waitFor(a)})).next((()=>A))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((A=>this.recalculateAndSaveOverlays(e,A)))}getDocumentsMatchingQuery(e,t,A,i){return(function(a){return Fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,A,i):this.getDocumentsMatchingCollectionQuery(e,t,A,i)}getNextDocuments(e,t,A,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,A,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,A.largestBatchId,i-o.size):le.resolve(No());let u=ic,f=o;return a.next((d=>le.forEach(d,((m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?le.resolve():this.remoteDocumentCache.getEntry(e,m).next((w=>{f=f.insert(m,w)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,tt()))).next((m=>({batchId:u,changes:xF(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next((A=>{let i=Lu();return A.isFoundDocument()&&(i=i.insert(A.key,A)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,A,i){const o=t.collectionGroup;let a=Lu();return this.indexManager.getCollectionParents(e,o).next((u=>le.forEach(u,(f=>{const d=(function(v,w){return new yc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,A,i).next((m=>{m.forEach(((v,w)=>{a=a.insert(v,w)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,A,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,A.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,A,o,i)))).next((a=>{o.forEach(((f,d)=>{const m=d.getKey();a.get(m)===null&&(a=a.insert(m,Vn.newInvalidDocument(m)))}));let u=Lu();return a.forEach(((f,d)=>{const m=o.get(f);m!==void 0&&$u(m.mutation,d,IA.empty(),St.now()),Jh(t,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Vr(i.createTime)}})(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:jk(i.bundledQuery),readTime:Vr(i.readTime)}})(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.overlays=new Pt(Fe.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const A=No();return le.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&A.set(i,o)})))).next((()=>A))}saveOverlays(e,t,A){return A.forEach(((i,o)=>{this.St(e,t,o)})),le.resolve()}removeOverlaysForBatchId(e,t,A){const i=this.qr.get(A);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(A)),le.resolve()}getOverlaysForCollection(e,t,A){const i=No(),o=t.length+1,a=new Fe(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>A&&i.set(f.getKey(),f)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,A,i){let o=new Pt(((d,m)=>d-m));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>A){let m=o.get(d.largestBatchId);m===null&&(m=No(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=No(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=i)););return le.resolve(u)}St(e,t,A){const i=this.overlays.get(A.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(A.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(A.key,new Fk(t,A));let o=this.qr.get(t);o===void 0&&(o=tt(),this.qr.set(t,o)),this.qr.set(t,o.add(A.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.Qr=new pn(vn.$r),this.Ur=new pn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const A=new vn(e,t);this.Qr=this.Qr.add(A),this.Ur=this.Ur.add(A)}Wr(e,t){e.forEach((A=>this.addReference(A,t)))}removeReference(e,t){this.Gr(new vn(e,t))}zr(e,t){e.forEach((A=>this.removeReference(A,t)))}jr(e){const t=new Fe(new It([])),A=new vn(t,e),i=new vn(t,e+1),o=[];return this.Ur.forEachInRange([A,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Fe(new It([])),A=new vn(t,e),i=new vn(t,e+1);let o=tt();return this.Ur.forEachInRange([A,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const t=new vn(e,0),A=this.Qr.firstAfterOrEqual(t);return A!==null&&e.isEqual(A.key)}}class vn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Fe.comparator(e.key,t.key)||et(e.Yr,t.Yr)}static Kr(e,t){return et(e.Yr,t.Yr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new pn(vn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,A,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Uk(o,t,A,i);this.mutationQueue.push(a);for(const u of i)this.Zr=this.Zr.add(new vn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const A=t+1,i=this.ei(A),o=i<0?0:i;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?D0:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const A=new vn(t,0),i=new vn(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([A,i],(a=>{const u=this.Xr(a.Yr);o.push(u)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let A=new pn(et);return t.forEach((i=>{const o=new vn(i,0),a=new vn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(u=>{A=A.add(u.Yr)}))})),le.resolve(this.ti(A))}getAllMutationBatchesAffectingQuery(e,t){const A=t.path,i=A.length+1;let o=A;Fe.isDocumentKey(o)||(o=o.child(""));const a=new vn(new Fe(o),0);let u=new pn(et);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!A.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),a),le.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((A=>{const i=this.Xr(A);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){dt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let A=this.Zr;return le.forEach(t.mutations,(i=>{const o=new vn(i.key,t.batchId);return A=A.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=A}))}ir(e){}containsKey(e,t){const A=new vn(t,0),i=this.Zr.firstAfterOrEqual(A);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.ri=e,this.docs=(function(){return new Pt(Fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const A=t.key,i=this.docs.get(A),o=i?i.size:0,a=this.ri(t);return this.docs=this.docs.insert(A,{document:t.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,A.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const A=this.docs.get(t);return le.resolve(A?A.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let A=bi();return t.forEach((i=>{const o=this.docs.get(i);A=A.insert(i,o?o.document.mutableCopy():Vn.newInvalidDocument(i))})),le.resolve(A)}getDocumentsMatchingQuery(e,t,A,i){let o=bi();const a=t.path,u=new Fe(a.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||KO(kO(m),A)<=0||(i.has(m.key)||Jh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,t,A,i){Ne(9500)}ii(e,t){return le.forEach(this.docs,(A=>t(A)))}newChangeBuffer(e){return new g3(this)}getSize(e){return le.resolve(this.size)}}class g3 extends o3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((A,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(A)})),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this.persistence=e,this.si=new Yo((t=>H0(t)),P0),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new z0,this.targetCount=0,this.ai=pl.ur()}forEachTarget(e,t){return this.si.forEach(((A,i)=>t(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,A){return A&&(this.lastRemoteSnapshotVersion=A),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,A){let i=0;const o=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=t&&A.get(u.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),le.waitFor(o).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const A=this.si.get(t)||null;return le.resolve(A)}addMatchingKeys(e,t,A){return this._i.Wr(t,A),le.resolve()}removeMatchingKeys(e,t,A){this._i.zr(t,A);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const A=this._i.Hr(t);return le.resolve(A)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,t){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new f3,this.referenceDelegate=e(this),this.Pi=new p3(this),this.indexManager=new e3,this.remoteDocumentCache=(function(i){return new h3(i)})((A=>this.referenceDelegate.Ti(A))),this.serializer=new Zk(t),this.Ii=new u3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new c3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let A=this.ui[e.toKey()];return A||(A=new d3(t,this.referenceDelegate),this.ui[e.toKey()]=A),A}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,A){ve("MemoryPersistence","Starting transaction:",e);const i=new m3(this.ci.next());return this.referenceDelegate.Ei(),A(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return le.or(Object.values(this.ui).map((A=>()=>A.containsKey(e,t))))}}class m3 extends qO{constructor(e){super(),this.currentSequenceNumber=e}}class J0{constructor(e){this.persistence=e,this.Ri=new z0,this.Vi=null}static mi(e){return new J0(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,A){return this.Ri.addReference(A,t),this.fi.delete(A.toString()),le.resolve()}removeReference(e,t,A){return this.Ri.removeReference(A,t),this.fi.add(A.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const A=this.persistence.getTargetCache();return A.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>A.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(A=>{const i=Fe.fromPath(A);return this.gi(e,i).next((o=>{o||t.removeEntry(i,He.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((A=>{A?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class uh{constructor(e,t){this.persistence=e,this.pi=new Yo((A=>YO(A.path)),((A,i)=>A.isEqual(i))),this.garbageCollector=s3(this,t)}static mi(e,t){return new uh(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((A=>t.next((i=>A+i))))}wr(e){let t=0;return this.pr(e,(A=>{t++})).next((()=>t))}pr(e,t){return le.forEach(this.pi,((A,i)=>this.br(e,A,i).next((o=>o?le.resolve():t(i)))))}removeTargets(e,t,A){return this.persistence.getTargetCache().removeTargets(e,t,A)}removeOrphanedDocuments(e,t){let A=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,t).next((u=>{u||(A++,o.removeEntry(a,He.min()))})))).next((()=>o.apply(e))).next((()=>A))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const A=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,A)}addReference(e,t,A){return this.pi.set(A,e.currentSequenceNumber),le.resolve()}removeReference(e,t,A){return this.pi.set(A,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xd(e.data.value)),t}br(e,t,A){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return le.resolve(i!==void 0&&i>A)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,A,i){this.targetId=e,this.fromCache=t,this.Es=A,this.ds=i}static As(e,t){let A=tt(),i=tt();for(const o of t.docChanges)switch(o.type){case 0:A=A.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Y0(e,t.fromCache,A,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return O2()?8:zO(kn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,A,i){const o={result:null};return this.ys(e,t).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,t,i,A).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new y3;return this.Ss(e,t,a).next((u=>{if(o.result=u,this.Vs)return this.bs(e,t,a,u.size)}))})).next((()=>o.result))}bs(e,t,A,i){return A.documentReadCount<this.fs?(Ja()<=je.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Ja()<=je.DEBUG&&ve("QueryEngine","Query:",Ya(t),"scans",A.documentReadCount,"local documents and returns",i,"documents as results."),A.documentReadCount>this.gs*i?(Ja()<=je.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):le.resolve())}ys(e,t){if(IT(t))return le.resolve(null);let A=Pr(t);return this.indexManager.getIndexType(e,A).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Fy(t,null,"F"),A=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,A).next((o=>{const a=tt(...o);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,A).next((f=>{const d=this.Ds(t,u);return this.Cs(t,d,a,f.readTime)?this.ys(e,Fy(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,A,i){return IT(t)||i.isEqual(He.min())?le.resolve(null):this.ps.getDocuments(e,A).next((o=>{const a=this.Ds(t,o);return this.Cs(t,a,A,i)?le.resolve(null):(Ja()<=je.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(t)),this.vs(e,a,t,OO(i,ic)).next((u=>u)))}))}Ds(e,t){let A=new pn(RF(e));return t.forEach(((i,o)=>{Jh(e,o)&&(A=A.add(o))})),A}Cs(e,t,A,i){if(e.limit===null)return!1;if(A.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,A){return Ja()<=je.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ya(t)),this.ps.getDocumentsMatchingQuery(e,t,Ps.min(),A)}vs(e,t,A,i){return this.ps.getDocumentsMatchingQuery(e,A,i).next((o=>(t.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="LocalStore",v3=3e8;class w3{constructor(e,t,A,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Pt(et),this.xs=new Yo((o=>H0(o)),P0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(A)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function C3(n,e,t,A){return new w3(n,e,t,A)}async function eQ(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",(A=>{let i;return t.mutationQueue.getAllMutationBatches(A).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(A)))).next((o=>{const a=[],u=[];let f=tt();for(const d of i){a.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(A,f).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:u})))}))}))}function E3(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(A=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,m){const v=d.batch,w=v.keys();let T=le.resolve();return w.forEach((Q=>{T=T.next((()=>m.getEntry(f,Q))).next((D=>{const M=d.docVersions.get(Q);dt(M!==null,48541),D.version.compareTo(M)<0&&(v.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),m.addEntry(D)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,v)))})(t,A,e,o).next((()=>o.apply(A))).next((()=>t.mutationQueue.performConsistencyCheck(A))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(A,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,(function(u){let f=tt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(A,i)))}))}function tQ(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function _3(n,e){const t=Ve(n),A=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach(((m,v)=>{const w=i.get(v);if(!w)return;u.push(t.Pi.removeMatchingKeys(o,m.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(o,m.addedDocuments,v))));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(xn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,A)),i=i.insert(v,T),(function(D,M,k){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=v3?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(w,T,m)&&u.push(t.Pi.updateTargetData(o,T))}));let f=bi(),d=tt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(T3(o,a,e.documentUpdates).next((m=>{f=m.ks,d=m.qs}))),!A.isEqual(He.min())){const m=t.Pi.getLastRemoteSnapshotVersion(o).next((v=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,A)));u.push(m)}return le.waitFor(u).next((()=>a.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=i,o)))}function T3(n,e,t){let A=tt(),i=tt();return t.forEach((o=>A=A.add(o))),e.getEntries(n,A).next((o=>{let a=bi();return t.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(He.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):ve(X0,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:a,qs:i}}))}function I3(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(A=>(e===void 0&&(e=D0),t.mutationQueue.getNextMutationBatchAfterBatchId(A,e))))}function S3(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",(A=>{let i;return t.Pi.getTargetData(A,e).next((o=>o?(i=o,le.resolve(i)):t.Pi.allocateTargetId(A).next((a=>(i=new Us(e,a,"TargetPurposeListen",A.currentSequenceNumber),t.Pi.addTargetData(A,i).next((()=>i)))))))})).then((A=>{const i=t.Ms.get(A.targetId);return(i===null||A.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(A.targetId,A),t.xs.set(e,A.targetId)),A}))}async function Ny(n,e,t){const A=Ve(n),i=A.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await A.persistence.runTransaction("Release target",o,(a=>A.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Il(a))throw a;ve(X0,`Failed to update sequence numbers for target ${e}: ${a}`)}A.Ms=A.Ms.remove(e),A.xs.delete(i.target)}function PT(n,e,t){const A=Ve(n);let i=He.min(),o=tt();return A.persistence.runTransaction("Execute query","readwrite",(a=>(function(f,d,m){const v=Ve(f),w=v.xs.get(m);return w!==void 0?le.resolve(v.Ms.get(w)):v.Pi.getTargetData(d,m)})(A,a,Pr(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,A.Pi.getMatchingKeysForTargetId(a,u.targetId).next((f=>{o=f}))})).next((()=>A.Fs.getDocumentsMatchingQuery(a,e,t?i:He.min(),t?o:tt()))).next((u=>(U3(A,dk(e),u),{documents:u,Qs:o})))))}function U3(n,e,t){let A=n.Os.get(e)||He.min();t.forEach(((i,o)=>{o.readTime.compareTo(A)>0&&(A=o.readTime)})),n.Os.set(e,A)}class VT{constructor(){this.activeTargetIds=Bk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F3{constructor(){this.Mo=new VT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,A){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,A){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VT,Promise.resolve()}handleUserChange(e,t,A){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="ConnectivityMonitor";class kT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(OT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(OT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function Dy(){return rd===null?rd=(function(){return 268435456+Math.round(2147483648*Math.random())})():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",R3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",A=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${A}/databases/${i}`,this.Wo=this.databaseId.database===Ah?`project_id=${A}`:`project_id=${A}&database_id=${i}`}Go(e,t,A,i,o){const a=Dy(),u=this.zo(e,t.toUriEncodedString());ve(Fm,`Sending RPC '${e}' ${a}:`,u,A);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:d}=new URL(u),m=Cl(d);return this.Jo(e,u,f,A,m).then((v=>(ve(Fm,`Received RPC '${e}' ${a}: `,v),v)),(v=>{throw fl(Fm,`RPC '${e}' ${a} failed with error: `,v,"url: ",u,"request:",A),v}))}Ho(e,t,A,i,o,a){return this.Go(e,t,A,i,o)}jo(e,t,A){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),A&&A.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){const A=R3[e];return`${this.Uo}/v1/${t}:${A}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class N3 extends b3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,A,i,o){const a=Dy();return new Promise(((u,f)=>{const d=new rF;d.setWithCredentials(!0),d.listenOnce(iF.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case bd.NO_ERROR:const v=d.getResponseJson();ve(Mn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case bd.TIMEOUT:ve(Mn,`RPC '${e}' ${a} timed out`),f(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const w=d.getStatus();if(ve(Mn,`RPC '${e}' ${a} failed with status:`,w,"response text:",d.getResponseText()),w>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const Q=T==null?void 0:T.error;if(Q&&Q.status&&Q.message){const D=(function(k){const G=k.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(G)>=0?G:oe.UNKNOWN})(Q.status);f(new ye(D,Q.message))}else f(new ye(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ve(Mn,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(i);ve(Mn,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",m,A,15)}))}T_(e,t,A){const i=Dy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=aF(),u=oF(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,A),f.encodeInitMessageHeaders=!0;const m=o.join("");ve(Mn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const v=a.createWebChannel(m,f);this.I_(v);let w=!1,T=!1;const Q=new x3({Yo:M=>{T?ve(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(w||(ve(Mn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),ve(Mn,`RPC '${e}' stream ${i} sending:`,M),v.send(M))},Zo:()=>v.close()}),D=(M,k,G)=>{M.listen(k,(X=>{try{G(X)}catch(te){setTimeout((()=>{throw te}),0)}}))};return D(v,Mu.EventType.OPEN,(()=>{T||(ve(Mn,`RPC '${e}' stream ${i} transport opened.`),Q.o_())})),D(v,Mu.EventType.CLOSE,(()=>{T||(T=!0,ve(Mn,`RPC '${e}' stream ${i} transport closed`),Q.a_(),this.E_(v))})),D(v,Mu.EventType.ERROR,(M=>{T||(T=!0,fl(Mn,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),Q.a_(new ye(oe.UNAVAILABLE,"The operation could not be completed")))})),D(v,Mu.EventType.MESSAGE,(M=>{var k;if(!T){const G=M.data[0];dt(!!G,16349);const X=G,te=(X==null?void 0:X.error)||((k=X[0])==null?void 0:k.error);if(te){ve(Mn,`RPC '${e}' stream ${i} received error:`,te);const re=te.status;let $=(function(U){const N=ln[U];if(N!==void 0)return kF(N)})(re),b=te.message;$===void 0&&($=oe.INTERNAL,b="Unknown error status: "+re+" with message "+te.message),T=!0,Q.a_(new ye($,b)),v.close()}else ve(Mn,`RPC '${e}' stream ${i} received:`,G),Q.u_(G)}})),D(u,sF.STAT_EVENT,(M=>{M.stat===Cy.PROXY?ve(Mn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Cy.NOPROXY&&ve(Mn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n){return new Hk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,t,A=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=A,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),A=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-A);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${A} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class AQ{constructor(e,t,A,i,o,a,u,f){this.Mi=e,this.S_=A,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nQ(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([A,i])=>{this.D_===t&&this.G_(A,i)}),(A=>{e((()=>{const i=new ye(oe.UNKNOWN,"Fetching auth token failed: "+A.message);return this.z_(i)}))}))}G_(e,t){const A=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{A((()=>this.listener.Xo()))})),this.stream.t_((()=>{A((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{A((()=>this.z_(i)))})),this.stream.onMessage((i=>{A((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D3 extends AQ{constructor(e,t,A,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,A,i,a),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Ok(this.serializer,e),A=(function(o){if(!("targetChange"in o))return He.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?He.min():a.readTime?Vr(a.readTime):He.min()})(e);return this.listener.H_(t,A)}Y_(e){const t={};t.database=xy(this.serializer),t.addTarget=(function(o,a){let u;const f=a.target;if(u=Sy(f)?{documents:Gk(o,f)}:{query:qk(o,f).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=qF(o,a.resumeToken);const d=Qy(o,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(He.min())>0){u.readTime=lh(o,a.snapshotVersion.toTimestamp());const d=Qy(o,a.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const A=Jk(this.serializer,e);A&&(t.labels=A),this.q_(t)}Z_(e){const t={};t.database=xy(this.serializer),t.removeTarget=e,this.q_(t)}}class M3 extends AQ{constructor(e,t,A,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,A,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Kk(e.writeResults,e.commitTime),A=Vr(e.commitTime);return this.listener.na(A,t)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((A=>kk(this.serializer,A)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{}class H3 extends L3{constructor(e,t,A,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=A,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,A,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,Ry(t,A),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(oe.UNKNOWN,o.toString())}))}Ho(e,t,A,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,Ry(t,A),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(oe.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class P3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ri(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="RemoteStore";class V3{constructor(e,t,A,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=A,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{A.enqueueAndForget((async()=>{Xo(this)&&(ve(ko,"Restarting streams for network reachability change."),await(async function(f){const d=Ve(f);d.Ea.add(4),await wc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Zh(d)})(this))}))})),this.Ra=new P3(A,i)}}async function Zh(n){if(Xo(n))for(const e of n.da)await e(!0)}async function wc(n){for(const e of n.da)await e(!1)}function rQ(n,e){const t=Ve(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),j0(t)?Z0(t):Sl(t).O_()&&$0(t,e))}function W0(n,e){const t=Ve(n),A=Sl(t);t.Ia.delete(e),A.O_()&&iQ(t,e),t.Ia.size===0&&(A.O_()?A.L_():Xo(t)&&t.Ra.set("Unknown"))}function $0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sl(n).Y_(e)}function iQ(n,e){n.Va.Ue(e),Sl(n).Z_(e)}function Z0(n){n.Va=new Nk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Sl(n).start(),n.Ra.ua()}function j0(n){return Xo(n)&&!Sl(n).x_()&&n.Ia.size>0}function Xo(n){return Ve(n).Ea.size===0}function sQ(n){n.Va=void 0}async function O3(n){n.Ra.set("Online")}async function k3(n){n.Ia.forEach(((e,t)=>{$0(n,e)}))}async function K3(n,e){sQ(n),j0(n)?(n.Ra.ha(e),Z0(n)):n.Ra.set("Unknown")}async function G3(n,e,t){if(n.Ra.set("Online"),e instanceof GF&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.Va.removeTarget(u))})(n,e)}catch(A){ve(ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),A),await ch(n,A)}else if(e instanceof Md?n.Va.Ze(e):e instanceof KF?n.Va.st(e):n.Va.tt(e),!t.isEqual(He.min()))try{const A=await tQ(n.localStore);t.compareTo(A)>=0&&await(function(o,a){const u=o.Va.Tt(a);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(f.resumeToken,a))}})),u.targetMismatches.forEach(((f,d)=>{const m=o.Ia.get(f);if(!m)return;o.Ia.set(f,m.withResumeToken(xn.EMPTY_BYTE_STRING,m.snapshotVersion)),iQ(o,f);const v=new Us(m.target,f,d,m.sequenceNumber);$0(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(A){ve(ko,"Failed to raise snapshot:",A),await ch(n,A)}}async function ch(n,e,t){if(!Il(e))throw e;n.Ea.add(1),await wc(n),n.Ra.set("Offline"),t||(t=()=>tQ(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(ko,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Zh(n)}))}function oQ(n,e){return e().catch((t=>ch(n,t,e)))}async function jh(n){const e=Ve(n),t=Ks(e);let A=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:D0;for(;q3(e);)try{const i=await I3(e.localStore,A);if(i===null){e.Ta.length===0&&t.L_();break}A=i.batchId,z3(e,i)}catch(i){await ch(e,i)}aQ(e)&&lQ(e)}function q3(n){return Xo(n)&&n.Ta.length<10}function z3(n,e){n.Ta.push(e);const t=Ks(n);t.O_()&&t.X_&&t.ea(e.mutations)}function aQ(n){return Xo(n)&&!Ks(n).x_()&&n.Ta.length>0}function lQ(n){Ks(n).start()}async function J3(n){Ks(n).ra()}async function Y3(n){const e=Ks(n);for(const t of n.Ta)e.ea(t.mutations)}async function X3(n,e,t){const A=n.Ta.shift(),i=K0.from(A,e,t);await oQ(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await jh(n)}async function W3(n,e){e&&Ks(n).X_&&await(async function(A,i){if((function(a){return Rk(a)&&a!==oe.ABORTED})(i.code)){const o=A.Ta.shift();Ks(A).B_(),await oQ(A,(()=>A.remoteSyncer.rejectFailedWrite(o.batchId,i))),await jh(A)}})(n,e),aQ(n)&&lQ(n)}async function GT(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),ve(ko,"RemoteStore received new credentials");const A=Xo(t);t.Ea.add(3),await wc(t),A&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Zh(t)}async function $3(n,e){const t=Ve(n);e?(t.Ea.delete(2),await Zh(t)):e||(t.Ea.add(2),await wc(t),t.Ra.set("Unknown"))}function Sl(n){return n.ma||(n.ma=(function(t,A,i){const o=Ve(t);return o.sa(),new D3(A,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:O3.bind(null,n),t_:k3.bind(null,n),r_:K3.bind(null,n),H_:G3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),j0(n)?Z0(n):n.Ra.set("Unknown")):(await n.ma.stop(),sQ(n))}))),n.ma}function Ks(n){return n.fa||(n.fa=(function(t,A,i){const o=Ve(t);return o.sa(),new M3(A,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:J3.bind(null,n),r_:W3.bind(null,n),ta:Y3.bind(null,n),na:X3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await jh(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(ko,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,t,A,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=A,this.op=i,this.removalCallback=o,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,A,i,o){const a=Date.now()+A,u=new eB(e,t,a,i,o);return u.start(A),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tB(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),Il(n))return new ye(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(t,A)=>e(t,A)||Fe.comparator(t.key,A.key):(t,A)=>Fe.comparator(t.key,A.key),this.keyedMap=Lu(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,A)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),A=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=A.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const A=new sl;return A.comparator=this.comparator,A.keyedMap=e,A.sortedSet=t,A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.ga=new Pt(Fe.comparator)}track(e){const t=e.doc.key,A=this.ga.get(t);A?e.type!==0&&A.type===3?this.ga=this.ga.insert(t,e):e.type===3&&A.type!==1?this.ga=this.ga.insert(t,{type:A.type,doc:e.doc}):e.type===2&&A.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&A.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&A.type===0?this.ga=this.ga.remove(t):e.type===1&&A.type===2?this.ga=this.ga.insert(t,{type:1,doc:A.doc}):e.type===0&&A.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:A}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,A)=>{e.push(A)})),e}}class ml{constructor(e,t,A,i,o,a,u,f,d){this.query=e,this.docs=t,this.oldDocs=A,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,A,i,o){const a=[];return t.forEach((u=>{a.push({type:0,doc:u})})),new ml(e,t,sl.emptySet(t),a,A,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,A=e.docChanges;if(t.length!==A.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==A[i].type||!t[i].doc.isEqual(A[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class j3{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,A){const i=Ve(t),o=i.queries;i.queries=zT(),o.forEach(((a,u)=>{for(const f of u.Sa)f.onError(A)}))})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function zT(){return new Yo((n=>QF(n)),zh)}async function uQ(n,e){const t=Ve(n);let A=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(A=2):(o=new Z3,A=e.Da()?0:1);try{switch(A){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const u=tB(a,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&nB(t)}async function cQ(n,e){const t=Ve(n),A=e.query;let i=3;const o=t.queries.get(A);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(A),t.onUnlisten(A,!0);case 1:return t.queries.delete(A),t.onUnlisten(A,!1);case 2:return t.onLastRemoteStoreUnlisten(A);default:return}}function eK(n,e){const t=Ve(n);let A=!1;for(const i of e){const o=i.query,a=t.queries.get(o);if(a){for(const u of a.Sa)u.Fa(i)&&(A=!0);a.wa=i}}A&&nB(t)}function tK(n,e,t){const A=Ve(n),i=A.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);A.queries.delete(e)}function nB(n){n.Ca.forEach((e=>{e.next()}))}var My,JT;(JT=My||(My={})).Ma="default",JT.Cache="cache";class fQ{constructor(e,t,A){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=A||{}}Fa(e){if(!this.options.includeMetadataChanges){const A=[];for(const i of e.docChanges)i.type!==3&&A.push(i);e=new ml(e.query,e.docs,e.oldDocs,A,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const A=t!=="Offline";return(!this.options.qa||!A)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==My.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e){this.key=e}}class hQ{constructor(e){this.key=e}}class nK{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=RF(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,t){const A=t?t.iu:new qT,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,v)=>{const w=i.get(m),T=Jh(this.query,v)?v:null,Q=!!w&&this.mutatedKeys.has(w.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;w&&T?w.data.isEqual(T.data)?Q!==D&&(A.track({type:3,doc:T}),M=!0):this.su(w,T)||(A.track({type:2,doc:T}),M=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(u=!0)):!w&&T?(A.track({type:0,doc:T}),M=!0):w&&!T&&(A.track({type:1,doc:w}),M=!0,(f||d)&&(u=!0)),M&&(T?(a=a.add(T),o=D?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),A.track({type:1,doc:m})}return{tu:a,iu:A,Cs:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,A,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((m,v)=>(function(T,Q){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:M})}};return D(T)-D(Q)})(m.type,v.type)||this.eu(m.doc,v.doc))),this.ou(A),i=i??!1;const u=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,a.length!==0||d?{snapshot:new ml(this.query,e.tu,o,a,e.mutatedKeys,f===0,d,!1,!!A&&A.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((A=>{this.uu(A.key)&&(this.Xa=this.Xa.add(A.key))}));const t=[];return e.forEach((A=>{this.Xa.has(A)||t.push(new hQ(A))})),this.Xa.forEach((A=>{e.has(A)||t.push(new dQ(A))})),t}cu(e){this.Ya=e.Qs,this.Xa=tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AB="SyncEngine";class AK{constructor(e,t,A){this.query=e,this.targetId=t,this.view=A}}class rK{constructor(e){this.key=e,this.hu=!1}}class iK{constructor(e,t,A,i,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=A,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Yo((u=>QF(u)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(Fe.comparator),this.Au=new Map,this.Ru=new z0,this.Vu={},this.mu=new Map,this.fu=pl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sK(n,e,t=!0){const A=vQ(n);let i;const o=A.Tu.get(e);return o?(A.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await gQ(A,e,t,!0),i}async function oK(n,e){const t=vQ(n);await gQ(t,e,!0,!1)}async function gQ(n,e,t,A){const i=await S3(n.localStore,Pr(e)),o=i.targetId,a=n.sharedClientState.addLocalQueryTarget(o,t);let u;return A&&(u=await aK(n,e,o,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&rQ(n.remoteStore,i),u}async function aK(n,e,t,A,i){n.pu=(v,w,T)=>(async function(D,M,k,G){let X=M.view.ru(k);X.Cs&&(X=await PT(D.localStore,M.query,!1).then((({documents:b})=>M.view.ru(b,X))));const te=G&&G.targetChanges.get(M.targetId),re=G&&G.targetMismatches.get(M.targetId)!=null,$=M.view.applyChanges(X,D.isPrimaryClient,te,re);return XT(D,M.targetId,$.au),$.snapshot})(n,v,w,T);const o=await PT(n.localStore,e,!0),a=new nK(e,o.Qs),u=a.ru(o.documents),f=vc.createSynthesizedTargetChangeForCurrentChange(t,A&&n.onlineState!=="Offline",i),d=a.applyChanges(u,n.isPrimaryClient,f);XT(n,t,d.au);const m=new AK(e,t,a);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function lK(n,e,t){const A=Ve(n),i=A.Tu.get(e),o=A.Iu.get(i.targetId);if(o.length>1)return A.Iu.set(i.targetId,o.filter((a=>!zh(a,e)))),void A.Tu.delete(e);A.isPrimaryClient?(A.sharedClientState.removeLocalQueryTarget(i.targetId),A.sharedClientState.isActiveQueryTarget(i.targetId)||await Ny(A.localStore,i.targetId,!1).then((()=>{A.sharedClientState.clearQueryState(i.targetId),t&&W0(A.remoteStore,i.targetId),Ly(A,i.targetId)})).catch(Tl)):(Ly(A,i.targetId),await Ny(A.localStore,i.targetId,!0))}async function uK(n,e){const t=Ve(n),A=t.Tu.get(e),i=t.Iu.get(A.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(A.targetId),W0(t.remoteStore,A.targetId))}async function cK(n,e,t){const A=yK(n);try{const i=await(function(a,u){const f=Ve(a),d=St.now(),m=u.reduce(((T,Q)=>T.add(Q.key)),tt());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let Q=bi(),D=tt();return f.Ns.getEntries(T,m).next((M=>{Q=M,Q.forEach(((k,G)=>{G.isValidDocument()||(D=D.add(k))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,Q))).next((M=>{v=M;const k=[];for(const G of u){const X=Ik(G,v.get(G.key).overlayedDocument);X!=null&&k.push(new Ys(G.key,X,CF(X.value.mapValue),gr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,k,u)})).next((M=>{w=M;const k=M.applyToLocalDocumentSet(v,D);return f.documentOverlayCache.saveOverlays(T,M.batchId,k)}))})).then((()=>({batchId:w.batchId,changes:xF(v)})))})(A.localStore,e);A.sharedClientState.addPendingMutation(i.batchId),(function(a,u,f){let d=a.Vu[a.currentUser.toKey()];d||(d=new Pt(et)),d=d.insert(u,f),a.Vu[a.currentUser.toKey()]=d})(A,i.batchId,t),await Cc(A,i.changes),await jh(A.remoteStore)}catch(i){const o=tB(i,"Failed to persist write");t.reject(o)}}async function pQ(n,e){const t=Ve(n);try{const A=await _3(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=t.Au.get(o);a&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?dt(a.hu,14607):i.removedDocuments.size>0&&(dt(a.hu,42227),a.hu=!1))})),await Cc(t,A,e)}catch(A){await Tl(A)}}function YT(n,e,t){const A=Ve(n);if(A.isPrimaryClient&&t===0||!A.isPrimaryClient&&t===1){const i=[];A.Tu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const f=Ve(a);f.onlineState=u;let d=!1;f.queries.forEach(((m,v)=>{for(const w of v.Sa)w.va(u)&&(d=!0)})),d&&nB(f)})(A.eventManager,e),i.length&&A.Pu.H_(i),A.onlineState=e,A.isPrimaryClient&&A.sharedClientState.setOnlineState(e)}}async function fK(n,e,t){const A=Ve(n);A.sharedClientState.updateQueryState(e,"rejected",t);const i=A.Au.get(e),o=i&&i.key;if(o){let a=new Pt(Fe.comparator);a=a.insert(o,Vn.newNoDocument(o,He.min()));const u=tt().add(o),f=new Wh(He.min(),new Map,new Pt(et),a,u);await pQ(A,f),A.du=A.du.remove(o),A.Au.delete(e),rB(A)}else await Ny(A.localStore,e,!1).then((()=>Ly(A,e,t))).catch(Tl)}async function dK(n,e){const t=Ve(n),A=e.batch.batchId;try{const i=await E3(t.localStore,e);yQ(t,A,null),mQ(t,A),t.sharedClientState.updateMutationState(A,"acknowledged"),await Cc(t,i)}catch(i){await Tl(i)}}async function hK(n,e,t){const A=Ve(n);try{const i=await(function(a,u){const f=Ve(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next((v=>(dt(v!==null,37113),m=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(A.localStore,e);yQ(A,e,t),mQ(A,e),A.sharedClientState.updateMutationState(e,"rejected",t),await Cc(A,i)}catch(i){await Tl(i)}}function mQ(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function yQ(n,e,t){const A=Ve(n);let i=A.Vu[A.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),A.Vu[A.currentUser.toKey()]=i}}function Ly(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const A of n.Iu.get(e))n.Tu.delete(A),t&&n.Pu.yu(A,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((A=>{n.Ru.containsKey(A)||BQ(n,A)}))}function BQ(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(W0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),rB(n))}function XT(n,e,t){for(const A of t)A instanceof dQ?(n.Ru.addReference(A.key,e),gK(n,A)):A instanceof hQ?(ve(AB,"Document no longer in limbo: "+A.key),n.Ru.removeReference(A.key,e),n.Ru.containsKey(A.key)||BQ(n,A.key)):Ne(19791,{wu:A})}function gK(n,e){const t=e.key,A=t.path.canonicalString();n.du.get(t)||n.Eu.has(A)||(ve(AB,"New document in limbo: "+t),n.Eu.add(A),rB(n))}function rB(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Fe(It.fromString(e)),A=n.fu.next();n.Au.set(A,new rK(t)),n.du=n.du.insert(t,A),rQ(n.remoteStore,new Us(Pr(V0(t.path)),A,"TargetPurposeLimboResolution",Kh.ce))}}async function Cc(n,e,t){const A=Ve(n),i=[],o=[],a=[];A.Tu.isEmpty()||(A.Tu.forEach(((u,f)=>{a.push(A.pu(f,e,t).then((d=>{var m;if((d||t)&&A.isPrimaryClient){const v=d?!d.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:m.current;A.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){i.push(d);const v=Y0.As(f.targetId,d);o.push(v)}})))})),await Promise.all(a),A.Pu.H_(i),await(async function(f,d){const m=Ve(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>le.forEach(d,(w=>le.forEach(w.Es,(T=>m.persistence.referenceDelegate.addReference(v,w.targetId,T))).next((()=>le.forEach(w.ds,(T=>m.persistence.referenceDelegate.removeReference(v,w.targetId,T)))))))))}catch(v){if(!Il(v))throw v;ve(X0,"Failed to update sequence numbers: "+v)}for(const v of d){const w=v.targetId;if(!v.fromCache){const T=m.Ms.get(w),Q=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(Q);m.Ms=m.Ms.insert(w,D)}}})(A.localStore,o))}async function pK(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){ve(AB,"User change. New user:",e.toKey());const A=await eQ(t.localStore,e);t.currentUser=e,(function(o,a){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ye(oe.CANCELLED,a))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,A.removedBatchIds,A.addedBatchIds),await Cc(t,A.Ls)}}function mK(n,e){const t=Ve(n),A=t.Au.get(e);if(A&&A.hu)return tt().add(A.key);{let i=tt();const o=t.Iu.get(e);if(!o)return i;for(const a of o){const u=t.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}function vQ(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fK.bind(null,e),e.Pu.H_=eK.bind(null,e.eventManager),e.Pu.yu=tK.bind(null,e.eventManager),e}function yK(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hK.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return C3(this.persistence,new B3,e.initialUser,this.serializer)}Cu(e){return new jF(J0.mi,this.serializer)}Du(e){return new F3}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class BK extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){dt(this.persistence.referenceDelegate instanceof uh,46915);const A=this.persistence.referenceDelegate.garbageCollector;return new r3(A,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?lA.withCacheSize(this.cacheSizeBytes):lA.DEFAULT;return new jF((A=>uh.mi(A,t)),this.serializer)}}class Hy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=A=>YT(this.syncEngine,A,1),this.remoteStore.remoteSyncer.handleCredentialChange=pK.bind(null,this.syncEngine),await $3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j3})()}createDatastore(e){const t=$h(e.databaseInfo.databaseId),A=(function(o){return new N3(o)})(e.databaseInfo);return(function(o,a,u,f){return new H3(o,a,u,f)})(e.authCredentials,e.appCheckCredentials,A,t)}createRemoteStore(e){return(function(A,i,o,a,u){return new V3(A,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>YT(this.syncEngine,t,0)),(function(){return kT.v()?new kT:new Q3})())}createSyncEngine(e,t){return(function(i,o,a,u,f,d,m){const v=new iK(i,o,a,u,f,d);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const o=Ve(i);ve(ko,"RemoteStore shutting down."),o.Ea.add(5),await wc(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Hy.provider={build:()=>new Hy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class vK{constructor(e,t,A,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=A,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=N0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(A,(async a=>{ve(Gs,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(A,(a=>(ve(Gs,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const A=tB(t,"Failed to shutdown persistence");e.reject(A)}})),e.promise}}async function Rm(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Gs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let A=t.initialUser;n.setCredentialChangeListener((async i=>{A.isEqual(i)||(await eQ(e.localStore,i),A=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function WT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await wK(n);ve(Gs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((A=>GT(e.remoteStore,A))),n.setAppCheckTokenChangeListener(((A,i)=>GT(e.remoteStore,i))),n._onlineComponents=e}async function wK(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Gs,"Using user provided OfflineComponentProvider");try{await Rm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;fl("Error using user provided cache. Falling back to memory cache: "+t),await Rm(n,new fh)}}else ve(Gs,"Using default OfflineComponentProvider"),await Rm(n,new BK(void 0));return n._offlineComponents}async function CQ(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Gs,"Using user provided OnlineComponentProvider"),await WT(n,n._uninitializedComponentsProvider._online)):(ve(Gs,"Using default OnlineComponentProvider"),await WT(n,new Hy))),n._onlineComponents}function CK(n){return CQ(n).then((e=>e.syncEngine))}async function EQ(n){const e=await CQ(n),t=e.eventManager;return t.onListen=sK.bind(null,e.syncEngine),t.onUnlisten=lK.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oK.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uK.bind(null,e.syncEngine),t}function EK(n,e,t={}){const A=new Ii;return n.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,f,d){const m=new wQ({next:w=>{m.Nu(),a.enqueueAndForget((()=>cQ(o,v)));const T=w.docs.has(u);!T&&w.fromCache?d.reject(new ye(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&f&&f.source==="server"?d.reject(new ye(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new fQ(V0(u.path),m,{includeMetadataChanges:!0,qa:!0});return uQ(o,v)})(await EQ(n),n.asyncQueue,e,t,A))),A.promise}function _K(n,e,t={}){const A=new Ii;return n.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,f,d){const m=new wQ({next:w=>{m.Nu(),a.enqueueAndForget((()=>cQ(o,v))),w.fromCache&&f.source==="server"?d.reject(new ye(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new fQ(u,m,{includeMetadataChanges:!0,qa:!0});return uQ(o,v)})(await EQ(n),n.asyncQueue,e,t,A))),A.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Q(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ="firestore.googleapis.com",ZT=!0;class jT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TQ,this.ssl=ZT}else this.host=e.host,this.ssl=e.ssl??ZT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n3)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_Q(e.experimentalLongPollingOptions??{}),(function(A){if(A.timeoutSeconds!==void 0){if(isNaN(A.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (must not be NaN)`);if(A.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (minimum allowed value is 5)`);if(A.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(A,i){return A.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eg{constructor(e,t,A,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=A,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(A){if(!A)return new QO;switch(A.type){case"firstParty":return new NO(A.sessionIndex||"0",A.iamToken||null,A.authTokenFactory||null);case"provider":return A.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const A=$T.get(t);A&&(ve("ComponentProvider","Removing Datastore"),$T.delete(t),A.terminate())})(this),Promise.resolve()}}function TK(n,e,t,A={}){var d;n=zr(n,eg);const i=Cl(e),o=n._getSettings(),a={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(TU(`https://${u}`),IU("Firestore",!0)),o.host!==TQ&&o.host!==u&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:A};if(!Hs(f,a)&&(n._setSettings(f),A.mockUserToken)){let m,v;if(typeof A.mockUserToken=="string")m=A.mockUserToken,v=Hn.MOCK_USER;else{m=x2(A.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const w=A.mockUserToken.sub||A.mockUserToken.user_id;if(!w)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Hn(w)}n._authCredentials=new RO(new uF(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t,A){this.converter=t,this._query=A,this.type="query",this.firestore=e}withConverter(e){return new Ul(this.firestore,e,this._query)}}class nn{constructor(e,t,A){this.converter=t,this._key=A,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,A){if(mc(t,nn._jsonSchema))return new nn(e,A||null,new Fe(It.fromString(t.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:fn("string",nn._jsonSchemaVersion),referencePath:fn("string")};class Ds extends Ul{constructor(e,t,A){super(e,t,V0(A)),this._path=A,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Fe(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function IK(n,e,...t){if(n=An(n),cF("collection","path",e),n instanceof eg){const A=It.fromString(e,...t);return fT(A),new Ds(n,null,A)}{if(!(n instanceof nn||n instanceof Ds))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const A=n._path.child(It.fromString(e,...t));return fT(A),new Ds(n.firestore,null,A)}}function Ec(n,e,...t){if(n=An(n),arguments.length===1&&(e=N0.newId()),cF("doc","path",e),n instanceof eg){const A=It.fromString(e,...t);return cT(A),new nn(n,null,new Fe(A))}{if(!(n instanceof nn||n instanceof Ds))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const A=n._path.child(It.fromString(e,...t));return cT(A),new nn(n.firestore,n instanceof Ds?n.converter:null,new Fe(A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="AsyncQueue";class tI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nQ(this,"async_queue_retry"),this._c=()=>{const A=Qm();A&&ve(eI,"Visibility state changed to "+A.visibilityState),this.M_.w_()},this.ac=e;const t=Qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ii;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;ve(eI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((A=>{throw this.nc=A,this.rc=!1,Ri("INTERNAL UNHANDLED ERROR: ",nI(A)),A})).then((A=>(this.rc=!1,A))))));return this.ac=t,t}enqueueAfterDelay(e,t,A){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=eB.createAndSchedule(this,e,t,A,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:nI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,A)=>t.targetTimeMs-A.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Fl extends eg{constructor(e,t,A,i){super(e,t,A,i),this.type="firestore",this._queue=new tI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tI(e),this._firestoreClient=void 0,await e}}}function SK(n,e){const t=typeof n=="object"?n:I0(),A=typeof n=="string"?n:Ah,i=Jo(t,"firestore").getImmediate({identifier:A});if(!i._initialized){const o=R2("firestore");o&&TK(i,...o)}return i}function iB(n){if(n._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UK(n),n._firestoreClient}function UK(n){var A,i,o;const e=n._freezeSettings(),t=(function(u,f,d,m){return new $O(u,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_Q(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,((A=n._app)==null?void 0:A.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new vK(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $A(xn.fromBase64String(e))}catch(t){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $A(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$A._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,$A._jsonSchema))return $A.fromBase64String(e.bytes)}}$A._jsonSchemaVersion="firestore/bytes/1.0",$A._jsonSchema={type:fn("string",$A._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(mc(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:fn("string",Or._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(A,i){if(A.length!==i.length)return!1;for(let o=0;o<A.length;++o)if(A[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new kr(e.vectorValues);throw new ye(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:fn("string",kr._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=/^__.*__$/;class QK{constructor(e,t,A){this.data=e,this.fieldMask=t,this.fieldTransforms=A}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bc(e,this.data,t,this.fieldTransforms)}}class IQ{constructor(e,t,A){this.data=e,this.fieldMask=t,this.fieldTransforms=A}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SQ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class oB{constructor(e,t,A,i,o,a){this.settings=e,this.databaseId=t,this.serializer=A,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oB({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),A=this.Vc({path:t,fc:!1});return A.gc(e),A}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),A=this.Vc({path:t,fc:!1});return A.Rc(),A}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SQ(this.Ac)&&FK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RK{constructor(e,t,A){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=A||$h(e)}Cc(e,t,A,i=!1){return new oB({Ac:e,methodName:t,Dc:A,path:Rn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aB(n){const e=n._freezeSettings(),t=$h(n._databaseId);return new RK(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bK(n,e,t,A,i,o={}){const a=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);lB("Data must be an object, but it was:",a,A);const u=UQ(A,a);let f,d;if(o.merge)f=new IA(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const w=Py(e,v,t);if(!a.contains(w))throw new ye(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);QQ(m,w)||m.push(w)}f=new IA(m),d=a.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=a.fieldTransforms;return new QK(new cA(u),f,d)}class ng extends sB{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ng}}function xK(n,e,t,A){const i=n.Cc(1,e,t);lB("Data must be an object, but it was:",i,A);const o=[],a=cA.empty();Js(A,((f,d)=>{const m=uB(e,f,t);d=An(d);const v=i.yc(m);if(d instanceof ng)o.push(m);else{const w=_c(d,v);w!=null&&(o.push(m),a.set(m,w))}}));const u=new IA(o);return new IQ(a,u,i.fieldTransforms)}function NK(n,e,t,A,i,o){const a=n.Cc(1,e,t),u=[Py(e,A,t)],f=[i];if(o.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(Py(e,o[w])),f.push(o[w+1]);const d=[],m=cA.empty();for(let w=u.length-1;w>=0;--w)if(!QQ(d,u[w])){const T=u[w];let Q=f[w];Q=An(Q);const D=a.yc(T);if(Q instanceof ng)d.push(T);else{const M=_c(Q,D);M!=null&&(d.push(T),m.set(T,M))}}const v=new IA(d);return new IQ(m,v,a.fieldTransforms)}function DK(n,e,t,A=!1){return _c(t,n.Cc(A?4:3,e))}function _c(n,e){if(FQ(n=An(n)))return lB("Unsupported field value:",e,n),UQ(n,e);if(n instanceof sB)return(function(A,i){if(!SQ(i.Ac))throw i.Sc(`${A._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${A._methodName}() is not currently supported inside arrays`);const o=A._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(A,i){const o=[];let a=0;for(const u of A){let f=_c(u,i.wc(a));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),a++}return{arrayValue:{values:o}}})(n,e)}return(function(A,i){if((A=An(A))===null)return{nullValue:"NULL_VALUE"};if(typeof A=="number")return vk(i.serializer,A);if(typeof A=="boolean")return{booleanValue:A};if(typeof A=="string")return{stringValue:A};if(A instanceof Date){const o=St.fromDate(A);return{timestampValue:lh(i.serializer,o)}}if(A instanceof St){const o=new St(A.seconds,1e3*Math.floor(A.nanoseconds/1e3));return{timestampValue:lh(i.serializer,o)}}if(A instanceof Or)return{geoPointValue:{latitude:A.latitude,longitude:A.longitude}};if(A instanceof $A)return{bytesValue:qF(i.serializer,A._byteString)};if(A instanceof nn){const o=i.databaseId,a=A.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:q0(A.firestore._databaseId||i.databaseId,A._key.path)}}if(A instanceof kr)return(function(a,u){return{mapValue:{fields:{[vF]:{stringValue:wF},[rh]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return O0(u.serializer,d)}))}}}}}})(A,i);throw i.Sc(`Unsupported field value: ${kh(A)}`)})(n,e)}function UQ(n,e){const t={};return hF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,((A,i)=>{const o=_c(i,e.mc(A));o!=null&&(t[A]=o)})),{mapValue:{fields:t}}}function FQ(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Or||n instanceof $A||n instanceof nn||n instanceof sB||n instanceof kr)}function lB(n,e,t){if(!FQ(t)||!fF(t)){const A=kh(t);throw A==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+A)}}function Py(n,e,t){if((e=An(e))instanceof tg)return e._internalPath;if(typeof e=="string")return uB(n,e);throw dh("Field path arguments must be of type string or ",n,!1,void 0,t)}const MK=new RegExp("[~\\*/\\[\\]]");function uB(n,e,t){if(e.search(MK)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tg(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dh(n,e,t,A,i){const o=A&&!A.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||a)&&(f+=" (found",o&&(f+=` in field ${A}`),a&&(f+=` in document ${i}`),f+=")"),new ye(oe.INVALID_ARGUMENT,u+n+f)}function QQ(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e,t,A,i,o){this._firestore=e,this._userDataWriter=t,this._key=A,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cB("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LK extends RQ{data(){return super.data()}}function cB(n,e){return typeof e=="string"?uB(n,e):e instanceof tg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fB{}class PK extends fB{}function VK(n,e,...t){let A=[];e instanceof fB&&A.push(e),A=A.concat(t),(function(o){const a=o.filter((f=>f instanceof dB)).length,u=o.filter((f=>f instanceof Ag)).length;if(a>1||a>0&&u>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(A);for(const i of A)n=i._apply(n);return n}class Ag extends PK{constructor(e,t,A){super(),this._field=e,this._op=t,this._value=A,this.type="where"}static _create(e,t,A){return new Ag(e,t,A)}_apply(e){const t=this._parse(e);return bQ(e._query,t),new Ul(e.firestore,e.converter,Uy(e._query,t))}_parse(e){const t=aB(e.firestore);return(function(o,a,u,f,d,m,v){let w;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){rI(v,m);const Q=[];for(const D of v)Q.push(AI(f,o,D));w={arrayValue:{values:Q}}}else w=AI(f,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||rI(v,m),w=DK(u,a,v,m==="in"||m==="not-in");return cn.create(d,m,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function OK(n,e,t){const A=e,i=cB("where",n);return Ag._create(i,A,t)}class dB extends fB{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dB(e,t)}_parse(e){const t=this._queryConstraints.map((A=>A._parse(e))).filter((A=>A.getFilters().length>0));return t.length===1?t[0]:mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const f of u)bQ(a,f),a=Uy(a,f)})(e._query,t),new Ul(e.firestore,e.converter,Uy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AI(n,e,t){if(typeof(t=An(t))=="string"){if(t==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FF(e)&&t.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const A=e.path.child(It.fromString(t));if(!Fe.isDocumentKey(A))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${A}' is not because it has an odd number of segments (${A.length}).`);return vT(n,new Fe(A))}if(t instanceof nn)return vT(n,t._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(t)}.`)}function rI(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bQ(n,e){const t=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kK{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const A={};return Js(e,((i,o)=>{A[i]=this.convertValue(o,t)})),A}convertVectorValue(e){var A,i,o;const t=(o=(i=(A=e.fields)==null?void 0:A[rh].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>tn(a.doubleValue)));return new kr(t)}convertGeoPoint(e){return new Or(tn(e.latitude),tn(e.longitude))}convertArray(e,t){return(e.values||[]).map((A=>this.convertValue(A,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const A=qh(e);return A==null?null:this.convertValue(A,t);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const A=It.fromString(e);dt($F(A),9688,{name:e});const i=new oc(A.get(1),A.get(3)),o=new Fe(A.popFirst(5));return i.isEqual(t)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(n,e,t){let A;return A=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,A}class Pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mo extends RQ{constructor(e,t,A,i,o,a){super(e,t,A,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const A=this._document.data.field(cB("DocumentSnapshot.get",e));if(A!==null)return this._userDataWriter.convertValue(A,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Mo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:fn("string",Mo._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class Ld extends Mo{data(e={}){return super.data(e)}}class ol{constructor(e,t,A,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Pu(i.hasPendingWrites,i.fromCache),this.query=A}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((A=>{e.call(t,new Ld(this._firestore,this._userDataWriter,A.key,A,new Pu(this._snapshot.mutatedKeys.has(A.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const f=new Ld(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Pu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Ld(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Pu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:GK(u.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],A=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),A.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(n){n=zr(n,nn);const e=zr(n.firestore,Fl);return EK(iB(e),n._key).then((t=>XK(e,n,t)))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:fn("string",ol._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class xQ extends kK{constructor(e){super(),this.firestore=e}convertBytes(e){return new $A(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,t)}}function zK(n){n=zr(n,Ul);const e=zr(n.firestore,Fl),t=iB(e),A=new xQ(e);return HK(n._query),_K(t,n._query).then((i=>new ol(e,A,n,i)))}function NQ(n,e,t){n=zr(n,nn);const A=zr(n.firestore,Fl),i=KK(n.converter,e,t);return hB(A,[bK(aB(A),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,gr.none())])}function JK(n,e,t,...A){n=zr(n,nn);const i=zr(n.firestore,Fl),o=aB(i);let a;return a=typeof(e=An(e))=="string"||e instanceof tg?NK(o,"updateDoc",n._key,e,t,A):xK(o,"updateDoc",n._key,e),hB(i,[a.toMutation(n._key,gr.exists(!0))])}function YK(n){return hB(zr(n.firestore,Fl),[new k0(n._key,gr.none())])}function hB(n,e){return(function(A,i){const o=new Ii;return A.asyncQueue.enqueueAndForget((async()=>cK(await CK(A),i,o))),o.promise})(iB(n),e)}function XK(n,e,t){const A=t.docs.get(e._key),i=new xQ(n);return new Mo(n,i,e._key,A,new Pu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){_l=i})(El),qr(new pr("firestore",((A,{instanceIdentifier:i,options:o})=>{const a=A.getProvider("app").getImmediate(),u=new Fl(new bO(A.getProvider("auth-internal")),new DO(a,A.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(d.options.projectId,m)})(a,i),a);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),tr(oT,aT,e),tr(oT,aT,"esm2020")})();function DQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WK=DQ,MQ=new zo("auth","Firebase",DQ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Ph("@firebase/auth");function $K(n,...e){hh.logLevel<=je.WARN&&hh.warn(`Auth (${El}): ${n}`,...e)}function Hd(n,...e){hh.logLevel<=je.ERROR&&hh.error(`Auth (${El}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,...e){throw gB(n,...e)}function Kr(n,...e){return gB(n,...e)}function LQ(n,e,t){const A={...WK(),[e]:t};return new zo("auth","Firebase",A).create(e,{appName:n.name})}function Si(n){return LQ(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gB(n,...e){if(typeof n!="string"){const t=e[0],A=[...e.slice(1)];return A[0]&&(A[0].appName=n.name),n._errorFactory.create(t,...A)}return MQ.create(n,...e)}function xe(n,e,...t){if(!n)throw gB(e,...t)}function _i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hd(e),new Error(e)}function xi(n,e){n||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function ZK(){return iI()==="http:"||iI()==="https:"}function iI(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZK()||SU()||"connection"in navigator)?navigator.onLine:!0}function eG(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=M2()||P2()}get(){return jK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{static initialize(e,t,A){this.fetchImpl=e,t&&(this.headersImpl=t),A&&(this.responseImpl=A)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AG=new Tc(3e4,6e4);function Xs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ws(n,e,t,A,i={}){return PQ(n,i,async()=>{let o={},a={};A&&(e==="GET"?a=A:o={body:JSON.stringify(A)});const u=pc({key:n.config.apiKey,...a}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return H2()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(d.credentials="include"),HQ.fetch()(await VQ(n,n.config.apiHost,t,u),d)})}async function PQ(n,e,t){n._canInitEmulator=!1;const A={...tG,...e};try{const i=new iG(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw id(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(n,"credential-already-in-use",a);if(f==="EMAIL_EXISTS")throw id(n,"email-already-in-use",a);if(f==="USER_DISABLED")throw id(n,"user-disabled",a);const m=A[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw LQ(n,m,d);yr(n,m)}}catch(i){if(i instanceof wr)throw i;yr(n,"network-request-failed",{message:String(i)})}}async function Ic(n,e,t,A,i={}){const o=await Ws(n,e,t,A,i);return"mfaPendingCredential"in o&&yr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function VQ(n,e,t,A){const i=`${e}${t}?${A}`,o=n,a=o.config.emulator?pB(n.config,i):`${n.config.apiScheme}://${i}`;return nG.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function rG(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,A)=>{this.timer=setTimeout(()=>A(Kr(this.auth,"network-request-failed")),AG.get())})}}function id(n,e,t){const A={appName:n.name};t.email&&(A.email=t.email),t.phoneNumber&&(A.phoneNumber=t.phoneNumber);const i=Kr(n,e,A);return i.customData._tokenResponse=t,i}function sI(n){return n!==void 0&&n.enterprise!==void 0}class sG{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rG(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oG(n,e){return Ws(n,"GET","/v2/recaptchaConfig",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aG(n,e){return Ws(n,"POST","/v1/accounts:delete",e)}async function gh(n,e){return Ws(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lG(n,e=!1){const t=An(n),A=await t.getIdToken(e),i=mB(A);xe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:A,authTime:Zu(bm(i.auth_time)),issuedAtTime:Zu(bm(i.iat)),expirationTime:Zu(bm(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function bm(n){return Number(n)*1e3}function mB(n){const[e,t,A]=n.split(".");if(e===void 0||t===void 0||A===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const i=wU(t);return i?JSON.parse(i):(Hd("Failed to decode base64 JWT payload"),null)}catch(i){return Hd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oI(n){const e=mB(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(n,e,t=!1){if(t)return e;try{return await e}catch(A){throw A instanceof wr&&uG(A)&&n.auth.currentUser===n&&await n.auth.signOut(),A}}function uG({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const A=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,A)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){var v;const e=n.auth,t=await n.getIdToken(),A=await cc(n,gh(e,{idToken:t}));xe(A==null?void 0:A.users.length,e,"internal-error");const i=A.users[0];n._notifyReloadListener(i);const o=(v=i.providerUserInfo)!=null&&v.length?OQ(i.providerUserInfo):[],a=dG(n.providerData,o),u=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),d=u?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Oy(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function fG(n){const e=An(n);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dG(n,e){return[...n.filter(A=>!e.some(i=>i.providerId===A.providerId)),...e]}function OQ(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(n,e){const t=await PQ(n,{},async()=>{const A=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,a=await VQ(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:A};return n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(f.credentials="include"),HQ.fetch()(a,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gG(n,e){return Ws(n,"POST","/v2/accounts:revokeToken",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=oI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:A,refreshToken:i,expiresIn:o}=await hG(e,t);this.updateTokensAndExpiration(A,i,Number(o))}updateTokensAndExpiration(e,t,A){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+A*1e3}static fromJSON(e,t){const{refreshToken:A,accessToken:i,expirationTime:o}=t,a=new al;return A&&(xe(typeof A=="string","internal-error",{appName:e}),a.refreshToken=A),i&&(xe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(xe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:t,stsTokenManager:A,...i}){this.providerId="firebase",this.proactiveRefresh=new cG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Oy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await cc(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lG(this,e)}reload(){return fG(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let A=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),A=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),A&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(WA(this.auth.app))return Promise.reject(Si(this.auth));const e=await this.getIdToken();return await cc(this,aG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const A=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,a=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:T,providerData:Q,stsTokenManager:D}=t;xe(v&&D,e,"internal-error");const M=al.fromJSON(this.name,D);xe(typeof v=="string",e,"internal-error"),vs(A,e.name),vs(i,e.name),xe(typeof w=="boolean",e,"internal-error"),xe(typeof T=="boolean",e,"internal-error"),vs(o,e.name),vs(a,e.name),vs(u,e.name),vs(f,e.name),vs(d,e.name),vs(m,e.name);const k=new fr({uid:v,auth:e,email:i,emailVerified:w,displayName:A,isAnonymous:T,photoURL:a,phoneNumber:o,tenantId:u,stsTokenManager:M,createdAt:d,lastLoginAt:m});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(G=>({...G}))),f&&(k._redirectEventId=f),k}static async _fromIdTokenResponse(e,t,A=!1){const i=new al;i.updateFromServerResponse(t);const o=new fr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:A});return await ph(o),o}static async _fromGetAccountInfoResponse(e,t,A){const i=t.users[0];xe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?OQ(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new al;u.updateFromIdToken(A);const f=new fr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Oy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Map;function Ti(n){xi(n instanceof Function,"Expected a class definition");let e=aI.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kQ.type="NONE";const lI=kQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n,e,t){return`firebase:${n}:${e}:${t}`}class ll{constructor(e,t,A){this.persistence=e,this.auth=t,this.userKey=A;const{config:i,name:o}=this.auth;this.fullUserKey=Pd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Pd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gh(this.auth,{idToken:e}).catch(()=>{});return t?fr._fromGetAccountInfoResponse(this.auth,t,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,A="authUser"){if(!t.length)return new ll(Ti(lI),e,A);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ti(lI);const a=Pd(A,e.config.apiKey,e.name);let u=null;for(const d of t)try{const m=await d._get(a);if(m){let v;if(typeof m=="string"){const w=await gh(e,{idToken:m}).catch(()=>{});if(!w)break;v=await fr._fromGetAccountInfoResponse(e,w,m)}else v=fr._fromJSON(e,m);d!==o&&(u=v),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ll(o,e,A):(o=f[0],u&&await o._set(a,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new ll(o,e,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zQ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KQ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YQ(e))return"Blackberry";if(XQ(e))return"Webos";if(GQ(e))return"Safari";if((e.includes("chrome/")||qQ(e))&&!e.includes("edge/"))return"Chrome";if(JQ(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,A=n.match(t);if((A==null?void 0:A.length)===2)return A[1]}return"Other"}function KQ(n=kn()){return/firefox\//i.test(n)}function GQ(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qQ(n=kn()){return/crios\//i.test(n)}function zQ(n=kn()){return/iemobile/i.test(n)}function JQ(n=kn()){return/android/i.test(n)}function YQ(n=kn()){return/blackberry/i.test(n)}function XQ(n=kn()){return/webos/i.test(n)}function yB(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pG(n=kn()){var e;return yB(n)&&!!((e=window.navigator)!=null&&e.standalone)}function mG(){return V2()&&document.documentMode===10}function WQ(n=kn()){return yB(n)||JQ(n)||XQ(n)||YQ(n)||/windows phone/i.test(n)||zQ(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(n,e=[]){let t;switch(n){case"Browser":t=uI(kn());break;case"Worker":t=`${uI(kn())}-${n}`;break;default:t=n}const A=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${El}/${A}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const A=o=>new Promise((a,u)=>{try{const f=e(o);a(f)}catch(f){u(f)}});A.onAbort=t,this.queue.push(A);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const A of this.queue)await A(e),A.onAbort&&t.push(A.onAbort)}catch(A){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:A==null?void 0:A.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BG(n,e={}){return Ws(n,"GET","/v2/passwordPolicy",Xs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG=6;class wG{constructor(e){var A;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??vG,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((A=e.allowedNonAlphanumericCharacters)==null?void 0:A.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const A=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;A&&(t.meetsMinPasswordLength=e.length>=A),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let A;for(let i=0;i<e.length;i++)A=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(e,t,A,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,t,A,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=A,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cI(this),this.idTokenSubscription=new cI(this),this.beforeStateQueue=new yG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var A,i,o;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),(A=this._resolvePersistenceManagerAvailable)==null||A.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gh(this,{idToken:e}),A=await fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(A)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(WA(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let A=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=A==null?void 0:A._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===u)&&(f!=null&&f.user)&&(A=f.user,i=!0)}if(!A)return this.directlySetCurrentUser(null);if(!A._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(A)}catch(a){A=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return A?this.reloadAndSetCurrentUserOrClear(A):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===A._redirectEventId?this.directlySetCurrentUser(A):this.reloadAndSetCurrentUserOrClear(A)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(WA(this.app))return Promise.reject(Si(this));const t=e?An(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return WA(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return WA(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BG(this),t=new wG(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,t,A){return this.registerStateListener(this.authStateSubscription,e,t,A)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,A){return this.registerStateListener(this.idTokenSubscription,e,t,A)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const A=this.onAuthStateChanged(()=>{A(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),A={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(A.tenantId=this.tenantId),await gG(this,A)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const A=await this.getOrInitRedirectPersistenceManager(t);return e===null?A.removeCurrentUser():A.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,A;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((A=this.redirectUser)==null?void 0:A._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,A,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,A,i);return()=>{a=!0,f()}}else{const f=e.addObserver(t);return()=>{a=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$Q(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const A=await this._getAppCheckToken();return A&&(e["X-Firebase-AppCheck"]=A),e}async _getAppCheckToken(){var t;if(WA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&$K(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Wo(n){return An(n)}class cI{constructor(e){this.auth=e,this.observer=null,this.addObserver=J2(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EG(n){rg=n}function ZQ(n){return rg.loadJS(n)}function _G(){return rg.recaptchaEnterpriseScript}function TG(){return rg.gapiScript}function IG(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class SG{constructor(){this.enterprise=new UG}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class UG{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const FG="recaptcha-enterprise",jQ="NO_RECAPTCHA";class QG{constructor(e){this.type=FG,this.auth=Wo(e)}async verify(e="verify",t=!1){async function A(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{oG(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new sG(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(f=>{u(f)})})}function i(o,a,u){const f=window.grecaptcha;sI(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(jQ)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SG().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{A(this.auth).then(u=>{if(!t&&sI(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let f=_G();f.length!==0&&(f+=u),ZQ(f).then(()=>{i(u,o,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function fI(n,e,t,A=!1,i=!1){const o=new QG(n);let a;if(i)a=jQ;else try{a=await o.verify(t)}catch{a=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return A?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ky(n,e,t,A,i){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await fI(n,e,t,t==="getOobCode");return A(n,a)}else return A(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await fI(n,e,t,t==="getOobCode");return A(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(n,e){const t=Jo(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Hs(o,e??{}))return i;yr(i,"already-initialized")}return t.initialize({options:e})}function bG(n,e){const t=(e==null?void 0:e.persistence)||[],A=(Array.isArray(t)?t:[t]).map(Ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(A,e==null?void 0:e.popupRedirectResolver)}function xG(n,e,t){const A=Wo(n);xe(/^https?:\/\//.test(e),A,"invalid-emulator-scheme");const i=!1,o=eR(e),{host:a,port:u}=NG(e),f=u===null?"":`:${u}`,d={url:`${o}//${a}${f}/`},m=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!A._canInitEmulator){xe(A.config.emulator&&A.emulatorConfig,A,"emulator-config-failed"),xe(Hs(d,A.config.emulator)&&Hs(m,A.emulatorConfig),A,"emulator-config-failed");return}A.config.emulator=d,A.emulatorConfig=m,A.settings.appVerificationDisabledForTesting=!0,Cl(a)?(TU(`${o}//${a}${f}`),IU("Auth",!0)):DG()}function eR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NG(n){const e=eR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const A=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(A);if(i){const o=i[1];return{host:o,port:dI(A.substr(o.length+1))}}else{const[o,a]=A.split(":");return{host:o,port:dI(a)}}}function dI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DG(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,t){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function MG(n,e){return Ws(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LG(n,e){return Ic(n,"POST","/v1/accounts:signInWithPassword",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HG(n,e){return Ic(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}async function PG(n,e){return Ic(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends BB{constructor(e,t,A,i=null){super("password",A),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new fc(e,t,"password")}static _fromEmailAndCode(e,t,A=null){return new fc(e,t,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,t,"signInWithPassword",LG);case"emailLink":return HG(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const A={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,A,"signUpPassword",MG);case"emailLink":return PG(e,{idToken:t,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n,e){return Ic(n,"POST","/v1/accounts:signInWithIdp",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="http://localhost";class Ko extends BB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:A,signInMethod:i,...o}=t;if(!A||!i)return null;const a=new Ko(A,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return ul(e,t)}_linkToIdToken(e,t){const A=this.buildRequest();return A.idToken=t,ul(e,A)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ul(e,t)}buildRequest(){const e={requestUri:VG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kG(n){const e=Nu(Du(n)).link,t=e?Nu(Du(e)).deep_link_id:null,A=Nu(Du(n)).deep_link_id;return(A?Nu(Du(A)).link:null)||A||t||e||n}class vB{constructor(e){const t=Nu(Du(e)),A=t.apiKey??null,i=t.oobCode??null,o=OG(t.mode??null);xe(A&&i&&o,"argument-error"),this.apiKey=A,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=kG(e);try{return new vB(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.providerId=Ql.PROVIDER_ID}static credential(e,t){return fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const A=vB.parseLink(t);return xe(A,"argument-error"),fc._fromEmailAndCode(e,A.code,A.tenantId)}}Ql.PROVIDER_ID="password";Ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends tR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Sc{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ko._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:A}=e;if(!t&&!A)return null;try{return Ts.credential(t,A)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Sc{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Sc{constructor(){super("twitter.com")}static credential(e,t){return Ko._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:A}=e;if(!t||!A)return null;try{return Ss.credential(t,A)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KG(n,e){return Ic(n,"POST","/v1/accounts:signUp",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,A,i=!1){const o=await fr._fromIdTokenResponse(e,A,i),a=hI(A);return new Go({user:o,providerId:a,_tokenResponse:A,operationType:t})}static async _forOperation(e,t,A){await e._updateTokensIfNecessary(A,!0);const i=hI(A);return new Go({user:e,providerId:i,_tokenResponse:A,operationType:t})}}function hI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends wr{constructor(e,t,A,i){super(t.code,t.message),this.operationType=A,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(e,t,A,i){return new mh(e,t,A,i)}}function nR(n,e,t,A){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,o,e,A):o})}async function GG(n,e,t=!1){const A=await cc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Go._forOperation(n,"link",A)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qG(n,e,t=!1){const{auth:A}=n;if(WA(A.app))return Promise.reject(Si(A));const i="reauthenticate";try{const o=await cc(n,nR(A,i,e,n),t);xe(o.idToken,A,"internal-error");const a=mB(o.idToken);xe(a,A,"internal-error");const{sub:u}=a;return xe(n.uid===u,A,"user-mismatch"),Go._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yr(A,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,e,t=!1){if(WA(n.app))return Promise.reject(Si(n));const A="signIn",i=await nR(n,A,e),o=await Go._fromIdTokenResponse(n,A,i);return t||await n._updateCurrentUser(o.user),o}async function zG(n,e){return AR(Wo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(n){const e=Wo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JG(n,e,t){if(WA(n.app))return Promise.reject(Si(n));const A=Wo(n),a=await ky(A,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KG).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&rR(n),f}),u=await Go._fromIdTokenResponse(A,"signIn",a);return await A._updateCurrentUser(u.user),u}function YG(n,e,t){return WA(n.app)?Promise.reject(Si(n)):zG(An(n),Ql.credential(e,t)).catch(async A=>{throw A.code==="auth/password-does-not-meet-requirements"&&rR(n),A})}function XG(n,e,t,A){return An(n).onIdTokenChanged(e,t,A)}function WG(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function $G(n,e,t,A){return An(n).onAuthStateChanged(e,t,A)}function ZG(n){return An(n).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=1e3,e5=10;class sR extends iR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WQ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const A=this.storage.getItem(t),i=this.localCache[t];A!==i&&e(t,i,A)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,f)=>{this.notifyListeners(a,f)});return}const A=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(A);!t&&this.localCache[A]===a||this.notifyListeners(A,a)},o=this.storage.getItem(A);mG()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,e5):i()}notifyListeners(e,t){this.localCache[e]=t;const A=this.listeners[e];if(A)for(const i of Array.from(A))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:A}),!0)})},jG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sR.type="LOCAL";const t5=sR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends iR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oR.type="SESSION";const aR=oR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const A=new ig(e);return this.receivers.push(A),A}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:A,eventType:i,data:o}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:A,eventType:i});const u=Array.from(a).map(async d=>d(t.origin,o)),f=await n5(u);t.ports[0].postMessage({status:"done",eventId:A,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(n="",e=10){let t="";for(let A=0;A<e;A++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,A=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,f)=>{const d=wB("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},A);a={messageChannel:i,onMessage(v){const w=v;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function r5(n){Gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function i5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function o5(){return lR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebaseLocalStorageDb",a5=1,Bh="firebaseLocalStorage",cR="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sg(n,e){return n.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function l5(){const n=indexedDB.deleteDatabase(uR);return new Uc(n).toPromise()}function Ky(){const n=indexedDB.open(uR,a5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const A=n.result;try{A.createObjectStore(Bh,{keyPath:cR})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const A=n.result;A.objectStoreNames.contains(Bh)?e(A):(A.close(),await l5(),e(await Ky()))})})}async function gI(n,e,t){const A=sg(n,!0).put({[cR]:e,value:t});return new Uc(A).toPromise()}async function u5(n,e){const t=sg(n,!1).get(e),A=await new Uc(t).toPromise();return A===void 0?null:A.value}function pI(n,e){const t=sg(n,!0).delete(e);return new Uc(t).toPromise()}const c5=800,f5=3;class fR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ky(),this.db)}async _withRetries(e){let t=0;for(;;)try{const A=await this._openDb();return await e(A)}catch(A){if(t++>f5)throw A;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(o5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,A;if(this.activeServiceWorker=await i5(),!this.activeServiceWorker)return;this.sender=new A5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(A=e[0])!=null&&A.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ky();return await gI(e,yh,"1"),await pI(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(A=>gI(A,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(A=>u5(A,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=sg(i,!1).getAll();return new Uc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],A=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)A.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!A.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const A=this.listeners[e];if(A)for(const i of Array.from(A))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fR.type="LOCAL";const d5=fR;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(n,e){return e?Ti(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB extends BB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ul(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function g5(n){return AR(n.auth,new CB(n),n.bypassAuthState)}function p5(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),qG(t,new CB(n),n.bypassAuthState)}async function m5(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),GG(t,new CB(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t,A,i,o=!1){this.auth=e,this.resolver=A,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(A){this.reject(A)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:A,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const f={auth:this.auth,requestUri:t,sessionId:A,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g5;case"linkViaPopup":case"linkViaRedirect":return m5;case"reauthViaPopup":case"reauthViaRedirect":return p5;default:yr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new Tc(2e3,1e4);class tl extends dR{constructor(e,t,A,i,o){super(e,t,i,o),this.provider=A,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=wB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,A;if((A=(t=this.authWindow)==null?void 0:t.window)!=null&&A.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y5.get())};e()}}tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="pendingRedirect",Vd=new Map;class v5 extends dR{constructor(e,t,A=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,A),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const A=await w5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(A)}catch(t){e=()=>Promise.reject(t)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w5(n,e){const t=_5(e),A=E5(n);if(!await A._isAvailable())return!1;const i=await A._get(t)==="true";return await A._remove(t),i}function C5(n,e){Vd.set(n._key(),e)}function E5(n){return Ti(n._redirectPersistence)}function _5(n){return Pd(B5,n.config.apiKey,n.name)}async function T5(n,e,t=!1){if(WA(n.app))return Promise.reject(Si(n));const A=Wo(n),i=h5(A,e),a=await new v5(A,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await A._persistUserIfCurrent(a.user),await A._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=600*1e3;class S5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(e,A)&&(t=!0,this.sendToConsumer(e,A),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var A;if(e.error&&!hR(e)){const i=((A=e.error.code)==null?void 0:A.split("auth/")[1])||"internal-error";t.onError(Kr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const A=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&A}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mI(e))}saveEventToCache(e){this.cachedEventUids.add(mI(e)),this.lastProcessedEventTime=Date.now()}}function mI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(n,e={}){return Ws(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R5=/^https?/;async function b5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await F5(n);for(const t of e)try{if(x5(t))return}catch{}yr(n,"unauthorized-domain")}function x5(n){const e=Vy(),{protocol:t,hostname:A}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&A===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===A}if(!R5.test(t))return!1;if(Q5.test(n))return A===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(A)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=new Tc(3e4,6e4);function yI(){const n=Gr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function D5(n){return new Promise((e,t)=>{var i,o,a;function A(){yI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yI(),t(Kr(n,"network-request-failed"))},timeout:N5.get()})}if((o=(i=Gr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Gr().gapi)!=null&&a.load)A();else{const u=IG("iframefcb");return Gr()[u]=()=>{gapi.load?A():t(Kr(n,"network-request-failed"))},ZQ(`${TG()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw Od=null,e})}let Od=null;function M5(n){return Od=Od||D5(n),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new Tc(5e3,15e3),H5="__/auth/iframe",P5="emulator/auth/iframe",V5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k5(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pB(e,P5):`https://${n.config.authDomain}/${H5}`,A={apiKey:e.apiKey,appName:n.name,v:El},i=O5.get(n.config.apiHost);i&&(A.eid=i);const o=n._getFrameworks();return o.length&&(A.fw=o.join(",")),`${t}?${pc(A).slice(1)}`}async function K5(n){const e=await M5(n),t=Gr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:k5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V5,dontclear:!0},A=>new Promise(async(i,o)=>{await A.restyle({setHideOnLeave:!1});const a=Kr(n,"network-request-failed"),u=Gr().setTimeout(()=>{o(a)},L5.get());function f(){Gr().clearTimeout(u),i(A)}A.ping(f).then(f,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q5=500,z5=600,J5="_blank",Y5="http://localhost";class BI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X5(n,e,t,A=q5,i=z5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-A)/2,0).toString();let u="";const f={...G5,width:A.toString(),height:i.toString(),top:o,left:a},d=kn().toLowerCase();t&&(u=qQ(d)?J5:t),KQ(d)&&(e=e||Y5,f.scrollbars="yes");const m=Object.entries(f).reduce((w,[T,Q])=>`${w}${T}=${Q},`,"");if(pG(d)&&u!=="_self")return W5(e||"",u),new BI(null);const v=window.open(e||"",u,m);xe(v,n,"popup-blocked");try{v.focus()}catch{}return new BI(v)}function W5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(A)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="__/auth/handler",Z5="emulator/auth/handler",j5=encodeURIComponent("fac");async function vI(n,e,t,A,i,o){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:A,v:El,eventId:i};if(e instanceof tR){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",z2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))a[m]=v}if(e instanceof Sc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),d=f?`#${j5}=${encodeURIComponent(f)}`:"";return`${e6(n)}?${pc(u).slice(1)}${d}`}function e6({config:n}){return n.emulator?pB(n,Z5):`https://${n.authDomain}/${$5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class t6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aR,this._completeRedirectFn=T5,this._overrideRedirectResult=C5}async _openPopup(e,t,A,i){var a;xi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await vI(e,t,A,Vy(),i);return X5(e,o,wB())}async _openRedirect(e,t,A,i){await this._originValidation(e);const o=await vI(e,t,A,Vy(),i);return r5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(xi(o,"If manager is not set, promise should be"),o)}const A=this.initAndGetManager(e);return this.eventManagers[t]={promise:A},A.catch(()=>{delete this.eventManagers[t]}),A}async initAndGetManager(e){const t=await K5(e),A=new S5(e);return t.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:A.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:A},this.iframes[e._key()]=t,A}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xm,{type:xm},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[xm];o!==void 0&&t(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=b5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WQ()||GQ()||yB()}}const n6=t6;var wI="@firebase/auth",CI="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(A=>{e((A==null?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i6(n){qr(new pr("auth",(e,{options:t})=>{const A=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=A.options;xe(a&&!a.includes(":"),"invalid-api-key",{appName:A.name});const f={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$Q(n)},d=new CG(A,i,o,f);return bG(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,A)=>{e.getProvider("auth-internal").initialize()})),qr(new pr("auth-internal",e=>{const t=Wo(e.getProvider("auth").getImmediate());return(A=>new A6(A))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(wI,CI,r6(n)),tr(wI,CI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=300,o6=_U("authIdTokenMaxAge")||s6;let EI=null;const a6=n=>async e=>{const t=e&&await e.getIdTokenResult(),A=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(A&&A>o6)return;const i=t==null?void 0:t.token;EI!==i&&(EI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l6(n=I0()){const e=Jo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RG(n,{popupRedirectResolver:n6,persistence:[d5,t5,aR]}),A=_U("authTokenSyncURL");if(A&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(A,location.origin);if(location.origin===o.origin){const a=a6(o.toString());WG(t,a,()=>a(t.currentUser)),XG(t,u=>a(u))}}const i=CU("auth");return i&&xG(t,`http://${i}`),t}function u6(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}EG({loadJS(n){return new Promise((e,t)=>{const A=document.createElement("script");A.setAttribute("src",n),A.onload=e,A.onerror=i=>{const o=Kr("internal-error");o.customData=i,t(o)},A.type="text/javascript",A.charset="UTF-8",u6().appendChild(A)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i6("Browser");const _I={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var TI={};const Uo=n=>typeof import.meta<"u"&&_I&&_I[n]||typeof process<"u"&&TI&&TI[n]||"",Gy={apiKey:Uo("VITE_FIREBASE_API_KEY")||"AIzaSyBxTwrBjVNESSzx1oboJXZpjPLOfAmbGJ0",authDomain:Uo("VITE_FIREBASE_AUTH_DOMAIN")||"my-trip-57036.firebaseapp.com",projectId:Uo("VITE_FIREBASE_PROJECT_ID")||"my-trip-57036",storageBucket:Uo("VITE_FIREBASE_STORAGE_BUCKET")||"my-trip-57036.firebasestorage.app",messagingSenderId:Uo("VITE_FIREBASE_MESSAGING_SENDER_ID")||"671607347102",appId:Uo("VITE_FIREBASE_APP_ID")||"1:671607347102:web:e3754fa41d10b2f758288f",measurementId:Uo("VITE_FIREBASE_MEASUREMENT_ID")||"G-K0WX69E0M8"},c6=Gy.projectId&&Gy.apiKey;let sd=null,f6=null,$s=null,Br=null,EB=!1;if(c6)try{sd=xU(Gy),$s=SK(sd),Br=l6(sd),EB=!0,console.log("Firebase initialized successfully");try{typeof window<"u"&&(f6=TO(sd))}catch(n){console.warn(" Firebase Analytics failed to initialize. This is likely due to API Key domain restrictions. The app will continue to function.",n)}}catch(n){console.error("Firebase initialization critical error:",n)}else console.warn(" Firebase configuration is missing or invalid."),console.warn("Please check firebaseConfig.ts");const og="orders",gR="users",Li=()=>!EB||!Br||!$s?(console.warn("Firebase not initialized. Action skipped."),!1):!0,d6=async(n,e)=>{if(!Li())throw new Error("Cloud service unavailable");return(await JG(Br,n,e)).user},h6=async(n,e)=>{if(!Li())throw new Error("Cloud service unavailable");return(await YG(Br,n,e)).user},g6=async()=>{Li()&&await ZG(Br)},p6=n=>!EB||!Br?(n(null),()=>{}):$G(Br,n),m6=async n=>{if(!Li())return;const e=Br.currentUser;if(e)try{const t=Ec($s,gR,e.uid);await NQ(t,{apiKey:n},{merge:!0})}catch(t){console.error("Error saving user preferences: ",t)}},y6=async()=>{if(!Li())return{};const n=Br.currentUser;if(!n)return{};try{const e=Ec($s,gR,n.uid),t=await qK(e);if(t.exists())return t.data()}catch(e){console.error("Error fetching user preferences: ",e)}return{}},B6=async n=>{if(!Li())return;const e=Br.currentUser;if(e)try{await NQ(Ec($s,og,n.id),{...n,userId:e.uid,createdAt:St.now()})}catch(t){console.error("Error adding document: ",t)}},v6=async n=>{if(Li())try{const e=Ec($s,og,n.id);await JK(e,{restaurant_name:n.restaurant_name,restaurant_address:n.restaurant_address})}catch(e){console.error("Error updating document: ",e)}},w6=async()=>{if(!Li())return[];const n=Br.currentUser;if(!n)return[];try{const e=VK(IK($s,og),OK("userId","==",n.uid)),t=await zK(e),A=[];return t.forEach(i=>{const o=i.data(),{userId:a,createdAt:u,...f}=o;A.push(f)}),A.sort((i,o)=>(o.id||"").localeCompare(i.id||""))}catch(e){return console.error("Error fetching documents: ",e),[]}},C6=async n=>{if(Li())try{await YK(Ec($s,og,n))}catch(e){console.error("Error deleting document: ",e)}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qy=function(n,e){return qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,A){t.__proto__=A}||function(t,A){for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&(t[i]=A[i])},qy(n,e)};function Cr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zy=function(){return zy=Object.assign||function(e){for(var t,A=1,i=arguments.length;A<i;A++){t=arguments[A];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zy.apply(this,arguments)};function Wn(n,e,t,A){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function u(m){try{d(A.next(m))}catch(v){a(v)}}function f(m){try{d(A.throw(m))}catch(v){a(v)}}function d(m){m.done?o(m.value):i(m.value).then(u,f)}d((A=A.apply(n,[])).next())})}function Ln(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},A,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(d){return function(m){return f([d,m])}}function f(d){if(A)throw new TypeError("Generator is already executing.");for(;t;)try{if(A=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(m){d=[6,m],i=0}finally{A=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function od(n,e,t){if(arguments.length===2)for(var A=0,i=e.length,o;A<i;A++)(o||!(A in e))&&(o||(o=Array.prototype.slice.call(e,0,A)),o[A]=e[A]);return n.concat(o||e)}var Ni=(function(){function n(e,t,A,i){this.left=e,this.top=t,this.width=A,this.height=i}return n.prototype.add=function(e,t,A,i){return new n(this.left+e,this.top+t,this.width+A,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var A=Array.from(t).find(function(i){return i.width!==0});return A?new n(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),ag=function(n,e){return Ni.fromClientRect(n,e.getBoundingClientRect())},E6=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var A=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Ni(0,0,A,i)},lg=function(n){for(var e=[],t=0,A=n.length;t<A;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<A){var o=n.charCodeAt(t++);(o&64512)===56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},en=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var A=[],i=-1,o="";++i<t;){var a=n[i];a<=65535?A.push(a):(a-=65536,A.push((a>>10)+55296,a%1024+56320)),(i+1===t||A.length>16384)&&(o+=String.fromCharCode.apply(String,A),A.length=0)}return o},II="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ad=0;ad<II.length;ad++)_6[II.charCodeAt(ad)]=ad;var SI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ld=0;ld<SI.length;ld++)Vu[SI.charCodeAt(ld)]=ld;var T6=function(n){var e=n.length*.75,t=n.length,A,i=0,o,a,u,f;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(d)?d:new Uint8Array(d);for(A=0;A<t;A+=4)o=Vu[n.charCodeAt(A)],a=Vu[n.charCodeAt(A+1)],u=Vu[n.charCodeAt(A+2)],f=Vu[n.charCodeAt(A+3)],m[i++]=o<<2|a>>4,m[i++]=(a&15)<<4|u>>2,m[i++]=(u&3)<<6|f&63;return d},I6=function(n){for(var e=n.length,t=[],A=0;A<e;A+=2)t.push(n[A+1]<<8|n[A]);return t},S6=function(n){for(var e=n.length,t=[],A=0;A<e;A+=4)t.push(n[A+3]<<24|n[A+2]<<16|n[A+1]<<8|n[A]);return t},Lo=5,_B=11,Nm=2,U6=_B-Lo,pR=65536>>Lo,F6=1<<Lo,Dm=F6-1,Q6=1024>>Lo,R6=pR+Q6,b6=R6,x6=32,N6=b6+x6,D6=65536>>_B,M6=1<<U6,L6=M6-1,UI=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},H6=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},P6=function(n,e){var t=T6(n),A=Array.isArray(t)?S6(t):new Uint32Array(t),i=Array.isArray(t)?I6(t):new Uint16Array(t),o=24,a=UI(i,o/2,A[4]/2),u=A[5]===2?UI(i,(o+A[4])/2):H6(A,Math.ceil((o+A[4])/4));return new V6(A[0],A[1],A[2],A[3],a,u)},V6=(function(){function n(e,t,A,i,o,a){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=i,this.index=o,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Lo],t=(t<<Nm)+(e&Dm),this.data[t];if(e<=65535)return t=this.index[pR+(e-55296>>Lo)],t=(t<<Nm)+(e&Dm),this.data[t];if(e<this.highStart)return t=N6-D6+(e>>_B),t=this.index[t],t+=e>>Lo&L6,t=this.index[t],t=(t<<Nm)+(e&Dm),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),FI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ud=0;ud<FI.length;ud++)O6[FI.charCodeAt(ud)]=ud;var k6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",QI=50,K6=1,mR=2,yR=3,G6=4,q6=5,RI=7,BR=8,bI=9,Fs=10,Jy=11,xI=12,Yy=13,z6=14,Ou=15,Xy=16,cd=17,Fu=18,J6=19,NI=20,Wy=21,Qu=22,Mm=23,Va=24,TA=25,ku=26,Ku=27,Oa=28,Y6=29,bo=30,X6=31,fd=32,dd=33,$y=34,Zy=35,jy=36,dc=37,e0=38,kd=39,Kd=40,Lm=41,vR=42,W6=43,$6=[9001,65288],wR="!",Ze="",hd="",t0=P6(k6),Ci=[bo,jy],n0=[K6,mR,yR,q6],CR=[Fs,BR],DI=[Ku,ku],Z6=n0.concat(CR),MI=[e0,kd,Kd,$y,Zy],j6=[Ou,Yy],e9=function(n,e){e===void 0&&(e="strict");var t=[],A=[],i=[];return n.forEach(function(o,a){var u=t0.get(o);if(u>QI?(i.push(!0),u-=QI):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return A.push(a),t.push(Xy);if(u===G6||u===Jy){if(a===0)return A.push(a),t.push(bo);var f=t[a-1];return Z6.indexOf(f)===-1?(A.push(A[a-1]),t.push(f)):(A.push(a),t.push(bo))}if(A.push(a),u===X6)return t.push(e==="strict"?Wy:dc);if(u===vR||u===Y6)return t.push(bo);if(u===W6)return o>=131072&&o<=196605||o>=196608&&o<=262141?t.push(dc):t.push(bo);t.push(u)}),[A,t,i]},Hm=function(n,e,t,A){var i=A[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var o=t;o<=A.length;){o++;var a=A[o];if(a===e)return!0;if(a!==Fs)break}if(i===Fs)for(var o=t;o>0;){o--;var u=A[o];if(Array.isArray(n)?n.indexOf(u)!==-1:n===u)for(var f=t;f<=A.length;){f++;var a=A[f];if(a===e)return!0;if(a!==Fs)break}if(u!==Fs)break}return!1},LI=function(n,e){for(var t=n;t>=0;){var A=e[t];if(A===Fs)t--;else return A}return 0},t9=function(n,e,t,A,i){if(t[A]===0)return Ze;var o=A-1;if(Array.isArray(i)&&i[o]===!0)return Ze;var a=o-1,u=o+1,f=e[o],d=a>=0?e[a]:0,m=e[u];if(f===mR&&m===yR)return Ze;if(n0.indexOf(f)!==-1)return wR;if(n0.indexOf(m)!==-1||CR.indexOf(m)!==-1)return Ze;if(LI(o,e)===BR)return hd;if(t0.get(n[o])===Jy||(f===fd||f===dd)&&t0.get(n[u])===Jy||f===RI||m===RI||f===bI||[Fs,Yy,Ou].indexOf(f)===-1&&m===bI||[cd,Fu,J6,Va,Oa].indexOf(m)!==-1||LI(o,e)===Qu||Hm(Mm,Qu,o,e)||Hm([cd,Fu],Wy,o,e)||Hm(xI,xI,o,e))return Ze;if(f===Fs)return hd;if(f===Mm||m===Mm)return Ze;if(m===Xy||f===Xy)return hd;if([Yy,Ou,Wy].indexOf(m)!==-1||f===z6||d===jy&&j6.indexOf(f)!==-1||f===Oa&&m===jy||m===NI||Ci.indexOf(m)!==-1&&f===TA||Ci.indexOf(f)!==-1&&m===TA||f===Ku&&[dc,fd,dd].indexOf(m)!==-1||[dc,fd,dd].indexOf(f)!==-1&&m===ku||Ci.indexOf(f)!==-1&&DI.indexOf(m)!==-1||DI.indexOf(f)!==-1&&Ci.indexOf(m)!==-1||[Ku,ku].indexOf(f)!==-1&&(m===TA||[Qu,Ou].indexOf(m)!==-1&&e[u+1]===TA)||[Qu,Ou].indexOf(f)!==-1&&m===TA||f===TA&&[TA,Oa,Va].indexOf(m)!==-1)return Ze;if([TA,Oa,Va,cd,Fu].indexOf(m)!==-1)for(var v=o;v>=0;){var w=e[v];if(w===TA)return Ze;if([Oa,Va].indexOf(w)!==-1)v--;else break}if([Ku,ku].indexOf(m)!==-1)for(var v=[cd,Fu].indexOf(f)!==-1?a:o;v>=0;){var w=e[v];if(w===TA)return Ze;if([Oa,Va].indexOf(w)!==-1)v--;else break}if(e0===f&&[e0,kd,$y,Zy].indexOf(m)!==-1||[kd,$y].indexOf(f)!==-1&&[kd,Kd].indexOf(m)!==-1||[Kd,Zy].indexOf(f)!==-1&&m===Kd||MI.indexOf(f)!==-1&&[NI,ku].indexOf(m)!==-1||MI.indexOf(m)!==-1&&f===Ku||Ci.indexOf(f)!==-1&&Ci.indexOf(m)!==-1||f===Va&&Ci.indexOf(m)!==-1||Ci.concat(TA).indexOf(f)!==-1&&m===Qu&&$6.indexOf(n[u])===-1||Ci.concat(TA).indexOf(m)!==-1&&f===Fu)return Ze;if(f===Lm&&m===Lm){for(var T=t[o],Q=1;T>0&&(T--,e[T]===Lm);)Q++;if(Q%2!==0)return Ze}return f===fd&&m===dd?Ze:hd},n9=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=e9(n,e.lineBreak),A=t[0],i=t[1],o=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(u){return[TA,bo,vR].indexOf(u)!==-1?dc:u}));var a=e.wordBreak==="keep-all"?o.map(function(u,f){return u&&n[f]>=19968&&n[f]<=40959}):void 0;return[A,i,a]},A9=(function(){function n(e,t,A,i){this.codePoints=e,this.required=t===wR,this.start=A,this.end=i}return n.prototype.slice=function(){return en.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),r9=function(n,e){var t=lg(n),A=n9(t,e),i=A[0],o=A[1],a=A[2],u=t.length,f=0,d=0;return{next:function(){if(d>=u)return{done:!0,value:null};for(var m=Ze;d<u&&(m=t9(t,o,i,++d,a))===Ze;);if(m!==Ze||d===u){var v=new A9(t,m,f,d);return f=d,{value:v,done:!1}}return{done:!0,value:null}}}},i9=1,s9=2,Fc=4,HI=8,vh=10,PI=47,ju=92,o9=9,a9=32,gd=34,Ru=61,l9=35,u9=36,c9=37,pd=39,md=40,bu=41,f9=95,uA=45,d9=33,h9=60,g9=62,p9=64,m9=91,y9=93,B9=61,v9=123,yd=63,w9=125,VI=124,C9=126,E9=128,OI=65533,Pm=42,Do=43,_9=44,T9=58,I9=59,hc=46,S9=0,U9=8,F9=11,Q9=14,R9=31,b9=127,Lr=-1,ER=48,_R=97,TR=101,x9=102,N9=117,D9=122,IR=65,SR=69,UR=70,M9=85,L9=90,Pn=function(n){return n>=ER&&n<=57},H9=function(n){return n>=55296&&n<=57343},ka=function(n){return Pn(n)||n>=IR&&n<=UR||n>=_R&&n<=x9},P9=function(n){return n>=_R&&n<=D9},V9=function(n){return n>=IR&&n<=L9},O9=function(n){return P9(n)||V9(n)},k9=function(n){return n>=E9},Bd=function(n){return n===vh||n===o9||n===a9},wh=function(n){return O9(n)||k9(n)||n===f9},kI=function(n){return wh(n)||Pn(n)||n===uA},K9=function(n){return n>=S9&&n<=U9||n===F9||n>=Q9&&n<=R9||n===b9},Es=function(n,e){return n!==ju?!1:e!==vh},vd=function(n,e,t){return n===uA?wh(e)||Es(e,t):wh(n)?!0:!!(n===ju&&Es(n,e))},Vm=function(n,e,t){return n===Do||n===uA?Pn(e)?!0:e===hc&&Pn(t):Pn(n===hc?e:n)},G9=function(n){var e=0,t=1;(n[e]===Do||n[e]===uA)&&(n[e]===uA&&(t=-1),e++);for(var A=[];Pn(n[e]);)A.push(n[e++]);var i=A.length?parseInt(en.apply(void 0,A),10):0;n[e]===hc&&e++;for(var o=[];Pn(n[e]);)o.push(n[e++]);var a=o.length,u=a?parseInt(en.apply(void 0,o),10):0;(n[e]===SR||n[e]===TR)&&e++;var f=1;(n[e]===Do||n[e]===uA)&&(n[e]===uA&&(f=-1),e++);for(var d=[];Pn(n[e]);)d.push(n[e++]);var m=d.length?parseInt(en.apply(void 0,d),10):0;return t*(i+u*Math.pow(10,-a))*Math.pow(10,f*m)},q9={type:2},z9={type:3},J9={type:4},Y9={type:13},X9={type:8},W9={type:21},$9={type:9},Z9={type:10},j9={type:11},e8={type:12},t8={type:14},wd={type:23},n8={type:1},A8={type:25},r8={type:24},i8={type:26},s8={type:27},o8={type:28},a8={type:29},l8={type:31},A0={type:32},FR=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(lg(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==A0;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case gd:return this.consumeStringToken(gd);case l9:var t=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);if(kI(t)||Es(A,i)){var o=vd(t,A,i)?s9:i9,a=this.consumeName();return{type:5,value:a,flags:o}}break;case u9:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),Y9;break;case pd:return this.consumeStringToken(pd);case md:return q9;case bu:return z9;case Pm:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),t8;break;case Do:if(Vm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _9:return J9;case uA:var u=e,f=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Vm(u,f,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(vd(u,f,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(f===uA&&d===g9)return this.consumeCodePoint(),this.consumeCodePoint(),r8;break;case hc:if(Vm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case PI:if(this.peekCodePoint(0)===Pm)for(this.consumeCodePoint();;){var m=this.consumeCodePoint();if(m===Pm&&(m=this.consumeCodePoint(),m===PI))return this.consumeToken();if(m===Lr)return this.consumeToken()}break;case T9:return i8;case I9:return s8;case h9:if(this.peekCodePoint(0)===d9&&this.peekCodePoint(1)===uA&&this.peekCodePoint(2)===uA)return this.consumeCodePoint(),this.consumeCodePoint(),A8;break;case p9:var v=this.peekCodePoint(0),w=this.peekCodePoint(1),T=this.peekCodePoint(2);if(vd(v,w,T)){var a=this.consumeName();return{type:7,value:a}}break;case m9:return o8;case ju:if(Es(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case y9:return a8;case B9:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),X9;break;case v9:return j9;case w9:return e8;case N9:case M9:var Q=this.peekCodePoint(0),D=this.peekCodePoint(1);return Q===Do&&(ka(D)||D===yd)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case VI:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),$9;if(this.peekCodePoint(0)===VI)return this.consumeCodePoint(),W9;break;case C9:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),Z9;break;case Lr:return A0}return Bd(e)?(this.consumeWhiteSpace(),l8):Pn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):wh(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:en(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();ka(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var A=!1;t===yd&&e.length<6;)e.push(t),t=this.consumeCodePoint(),A=!0;if(A){var i=parseInt(en.apply(void 0,e.map(function(f){return f===yd?ER:f})),16),o=parseInt(en.apply(void 0,e.map(function(f){return f===yd?UR:f})),16);return{type:30,start:i,end:o}}var a=parseInt(en.apply(void 0,e),16);if(this.peekCodePoint(0)===uA&&ka(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var u=[];ka(t)&&u.length<6;)u.push(t),t=this.consumeCodePoint();var o=parseInt(en.apply(void 0,u),16);return{type:30,start:a,end:o}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===md?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===md?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lr)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===pd||t===gd){var A=this.consumeStringToken(this.consumeCodePoint());return A.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lr||this.peekCodePoint(0)===bu)?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),wd)}for(;;){var i=this.consumeCodePoint();if(i===Lr||i===bu)return{type:22,value:en.apply(void 0,e)};if(Bd(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lr||this.peekCodePoint(0)===bu?(this.consumeCodePoint(),{type:22,value:en.apply(void 0,e)}):(this.consumeBadUrlRemnants(),wd);if(i===gd||i===pd||i===md||K9(i))return this.consumeBadUrlRemnants(),wd;if(i===ju)if(Es(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),wd;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;Bd(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===bu||e===Lr)return;Es(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,A="";e>0;){var i=Math.min(t,e);A+=en.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),A},n.prototype.consumeStringToken=function(e){var t="",A=0;do{var i=this._value[A];if(i===Lr||i===void 0||i===e)return t+=this.consumeStringSlice(A),{type:0,value:t};if(i===vh)return this._value.splice(0,A),n8;if(i===ju){var o=this._value[A+1];o!==Lr&&o!==void 0&&(o===vh?(t+=this.consumeStringSlice(A),A=-1,this._value.shift()):Es(i,o)&&(t+=this.consumeStringSlice(A),t+=en(this.consumeEscapedCodePoint()),A=-1))}A++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=Fc,A=this.peekCodePoint(0);for((A===Do||A===uA)&&e.push(this.consumeCodePoint());Pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(A===hc&&Pn(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=HI;Pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0),i=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((A===SR||A===TR)&&((i===Do||i===uA)&&Pn(o)||Pn(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=HI;Pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[G9(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],A=e[1],i=this.peekCodePoint(0),o=this.peekCodePoint(1),a=this.peekCodePoint(2);if(vd(i,o,a)){var u=this.consumeName();return{type:15,number:t,flags:A,unit:u}}return i===c9?(this.consumeCodePoint(),{type:16,number:t,flags:A}):{type:17,number:t,flags:A}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ka(e)){for(var t=en(e);ka(this.peekCodePoint(0))&&t.length<6;)t+=en(this.consumeCodePoint());Bd(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(t,16);return A===0||H9(A)||A>1114111?OI:A}return e===Lr?OI:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(kI(t))e+=en(t);else if(Es(t,this.peekCodePoint(0)))e+=en(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),QR=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new FR;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},A=this.consumeToken();;){if(A.type===32||c8(A,e))return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue()),A=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var A=this.consumeToken();if(A.type===32||A.type===3)return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?A0:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),Qc=function(n){return n.type===15},Rl=function(n){return n.type===17},wt=function(n){return n.type===20},u8=function(n){return n.type===0},r0=function(n,e){return wt(n)&&n.value===e},RR=function(n){return n.type!==31},yl=function(n){return n.type!==31&&n.type!==4},Yr=function(n){var e=[],t=[];return n.forEach(function(A){if(A.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}A.type!==31&&t.push(A)}),t.length&&e.push(t),e},c8=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},qs=function(n){return n.type===17||n.type===15},un=function(n){return n.type===16||qs(n)},bR=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},bn={type:17,number:0,flags:Fc},TB={type:16,number:50,flags:Fc},Qs={type:16,number:100,flags:Fc},Gu=function(n,e,t){var A=n[0],i=n[1];return[Ut(A,e),Ut(typeof i<"u"?i:A,t)]},Ut=function(n,e){if(n.type===16)return n.number/100*e;if(Qc(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},xR="deg",NR="grad",DR="rad",MR="turn",ug={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case xR:return Math.PI*e.number/180;case NR:return Math.PI/200*e.number;case DR:return e.number;case MR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},LR=function(n){return n.type===15&&(n.unit===xR||n.unit===NR||n.unit===DR||n.unit===MR)},HR=function(n){var e=n.filter(wt).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[bn,bn];case"to top":case"bottom":return ZA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[bn,Qs];case"to right":case"left":return ZA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Qs,Qs];case"to bottom":case"top":return ZA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Qs,bn];case"to left":case"right":return ZA(270)}return 0},ZA=function(n){return Math.PI*n/180},Ms={name:"color",parse:function(n,e){if(e.type===18){var t=f8[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var A=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3);return Rs(parseInt(A+A,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(e.value.length===4){var A=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3),a=e.value.substring(3,4);return Rs(parseInt(A+A,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(e.value.length===6){var A=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6);return Rs(parseInt(A,16),parseInt(i,16),parseInt(o,16),1)}if(e.value.length===8){var A=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6),a=e.value.substring(6,8);return Rs(parseInt(A,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}}if(e.type===20){var u=Ui[e.value.toUpperCase()];if(typeof u<"u")return u}return Ui.TRANSPARENT}},Ls=function(n){return(255&n)===0},Bn=function(n){var e=255&n,t=255&n>>8,A=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+A+","+t+","+e/255+")":"rgb("+i+","+A+","+t+")"},Rs=function(n,e,t,A){return(n<<24|e<<16|t<<8|Math.round(A*255)<<0)>>>0},KI=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},GI=function(n,e){var t=e.filter(yl);if(t.length===3){var A=t.map(KI),i=A[0],o=A[1],a=A[2];return Rs(i,o,a,1)}if(t.length===4){var u=t.map(KI),i=u[0],o=u[1],a=u[2],f=u[3];return Rs(i,o,a,f)}return 0};function Om(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var qI=function(n,e){var t=e.filter(yl),A=t[0],i=t[1],o=t[2],a=t[3],u=(A.type===17?ZA(A.number):ug.parse(n,A))/(Math.PI*2),f=un(i)?i.number/100:0,d=un(o)?o.number/100:0,m=typeof a<"u"&&un(a)?Ut(a,1):1;if(f===0)return Rs(d*255,d*255,d*255,1);var v=d<=.5?d*(f+1):d+f-d*f,w=d*2-v,T=Om(w,v,u+1/3),Q=Om(w,v,u),D=Om(w,v,u-1/3);return Rs(T*255,Q*255,D*255,m)},f8={hsl:qI,hsla:qI,rgb:GI,rgba:GI},ec=function(n,e){return Ms.parse(n,QR.create(e).parseComponentValue())},Ui={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},d8={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(wt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},h8={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cg=function(n,e){var t=Ms.parse(n,e[0]),A=e[1];return A&&un(A)?{color:t,stop:A}:{color:t,stop:null}},zI=function(n,e){var t=n[0],A=n[n.length-1];t.stop===null&&(t.stop=bn),A.stop===null&&(A.stop=Qs);for(var i=[],o=0,a=0;a<n.length;a++){var u=n[a].stop;if(u!==null){var f=Ut(u,e);f>o?i.push(f):i.push(o),o=f}else i.push(null)}for(var d=null,a=0;a<i.length;a++){var m=i[a];if(m===null)d===null&&(d=a);else if(d!==null){for(var v=a-d,w=i[d-1],T=(m-w)/(v+1),Q=1;Q<=v;Q++)i[d+Q-1]=T*Q;d=null}}return n.map(function(D,M){var k=D.color;return{color:k,stop:Math.max(Math.min(1,i[M]/e),0)}})},g8=function(n,e,t){var A=e/2,i=t/2,o=Ut(n[0],e)-A,a=i-Ut(n[1],t);return(Math.atan2(a,o)+Math.PI*2)%(Math.PI*2)},p8=function(n,e,t){var A=typeof n=="number"?n:g8(n,e,t),i=Math.abs(e*Math.sin(A))+Math.abs(t*Math.cos(A)),o=e/2,a=t/2,u=i/2,f=Math.sin(A-Math.PI/2)*u,d=Math.cos(A-Math.PI/2)*u;return[i,o-d,o+d,a-f,a+f]},cr=function(n,e){return Math.sqrt(n*n+e*e)},JI=function(n,e,t,A,i){var o=[[0,0],[0,e],[n,0],[n,e]];return o.reduce(function(a,u){var f=u[0],d=u[1],m=cr(t-f,A-d);return(i?m<a.optimumDistance:m>a.optimumDistance)?{optimumCorner:u,optimumDistance:m}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},m8=function(n,e,t,A,i){var o=0,a=0;switch(n.size){case 0:n.shape===0?o=a=Math.min(Math.abs(e),Math.abs(e-A),Math.abs(t),Math.abs(t-i)):n.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-A)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)o=a=Math.min(cr(e,t),cr(e,t-i),cr(e-A,t),cr(e-A,t-i));else if(n.shape===1){var u=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-A)),f=JI(A,i,e,t,!0),d=f[0],m=f[1];o=cr(d-e,(m-t)/u),a=u*o}break;case 1:n.shape===0?o=a=Math.max(Math.abs(e),Math.abs(e-A),Math.abs(t),Math.abs(t-i)):n.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-A)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)o=a=Math.max(cr(e,t),cr(e,t-i),cr(e-A,t),cr(e-A,t-i));else if(n.shape===1){var u=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-A)),v=JI(A,i,e,t,!1),d=v[0],m=v[1];o=cr(d-e,(m-t)/u),a=u*o}break}return Array.isArray(n.size)&&(o=Ut(n.size[0],A),a=n.size.length===2?Ut(n.size[1],i):o),[o,a]},y8=function(n,e){var t=ZA(180),A=[];return Yr(e).forEach(function(i,o){if(o===0){var a=i[0];if(a.type===20&&a.value==="to"){t=HR(i);return}else if(LR(a)){t=ug.parse(n,a);return}}var u=cg(n,i);A.push(u)}),{angle:t,stops:A,type:1}},Cd=function(n,e){var t=ZA(180),A=[];return Yr(e).forEach(function(i,o){if(o===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=HR(i);return}else if(LR(a)){t=(ug.parse(n,a)+ZA(270))%ZA(360);return}}var u=cg(n,i);A.push(u)}),{angle:t,stops:A,type:1}},B8=function(n,e){var t=ZA(180),A=[],i=1,o=0,a=3,u=[];return Yr(e).forEach(function(f,d){var m=f[0];if(d===0){if(wt(m)&&m.value==="linear"){i=1;return}else if(wt(m)&&m.value==="radial"){i=2;return}}if(m.type===18){if(m.name==="from"){var v=Ms.parse(n,m.values[0]);A.push({stop:bn,color:v})}else if(m.name==="to"){var v=Ms.parse(n,m.values[0]);A.push({stop:Qs,color:v})}else if(m.name==="color-stop"){var w=m.values.filter(yl);if(w.length===2){var v=Ms.parse(n,w[1]),T=w[0];Rl(T)&&A.push({stop:{type:16,number:T.number*100,flags:T.flags},color:v})}}}}),i===1?{angle:(t+ZA(180))%ZA(360),stops:A,type:i}:{size:a,shape:o,stops:A,position:u,type:i}},PR="closest-side",VR="farthest-side",OR="closest-corner",kR="farthest-corner",KR="circle",GR="ellipse",qR="cover",zR="contain",v8=function(n,e){var t=0,A=3,i=[],o=[];return Yr(e).forEach(function(a,u){var f=!0;if(u===0){var d=!1;f=a.reduce(function(v,w){if(d)if(wt(w))switch(w.value){case"center":return o.push(TB),v;case"top":case"left":return o.push(bn),v;case"right":case"bottom":return o.push(Qs),v}else(un(w)||qs(w))&&o.push(w);else if(wt(w))switch(w.value){case KR:return t=0,!1;case GR:return t=1,!1;case"at":return d=!0,!1;case PR:return A=0,!1;case qR:case VR:return A=1,!1;case zR:case OR:return A=2,!1;case kR:return A=3,!1}else if(qs(w)||un(w))return Array.isArray(A)||(A=[]),A.push(w),!1;return v},f)}if(f){var m=cg(n,a);i.push(m)}}),{size:A,shape:t,stops:i,position:o,type:2}},Ed=function(n,e){var t=0,A=3,i=[],o=[];return Yr(e).forEach(function(a,u){var f=!0;if(u===0?f=a.reduce(function(m,v){if(wt(v))switch(v.value){case"center":return o.push(TB),!1;case"top":case"left":return o.push(bn),!1;case"right":case"bottom":return o.push(Qs),!1}else if(un(v)||qs(v))return o.push(v),!1;return m},f):u===1&&(f=a.reduce(function(m,v){if(wt(v))switch(v.value){case KR:return t=0,!1;case GR:return t=1,!1;case zR:case PR:return A=0,!1;case VR:return A=1,!1;case OR:return A=2,!1;case qR:case kR:return A=3,!1}else if(qs(v)||un(v))return Array.isArray(A)||(A=[]),A.push(v),!1;return m},f)),f){var d=cg(n,a);i.push(d)}}),{size:A,shape:t,stops:i,position:o,type:2}},w8=function(n){return n.type===1},C8=function(n){return n.type===2},IB={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var A=JR[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return A(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function E8(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!JR[n.name])}var JR={"linear-gradient":y8,"-moz-linear-gradient":Cd,"-ms-linear-gradient":Cd,"-o-linear-gradient":Cd,"-webkit-linear-gradient":Cd,"radial-gradient":v8,"-moz-radial-gradient":Ed,"-ms-radial-gradient":Ed,"-o-radial-gradient":Ed,"-webkit-radial-gradient":Ed,"-webkit-gradient":B8},_8={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(A){return yl(A)&&E8(A)}).map(function(A){return IB.parse(n,A)})}},T8={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(wt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},I8={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return Yr(e).map(function(t){return t.filter(un)}).map(bR)}},S8={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return Yr(e).map(function(t){return t.filter(wt).map(function(A){return A.value}).join(" ")}).map(U8)}},U8=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},cl;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(cl||(cl={}));var F8={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return Yr(e).map(function(t){return t.filter(Q8)})}},Q8=function(n){return wt(n)||un(n)},fg=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},R8=fg("top"),b8=fg("right"),x8=fg("bottom"),N8=fg("left"),dg=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return bR(t.filter(un))}}},D8=dg("top-left"),M8=dg("top-right"),L8=dg("bottom-right"),H8=dg("bottom-left"),hg=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},P8=hg("top"),V8=hg("right"),O8=hg("bottom"),k8=hg("left"),gg=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Qc(t)?t.number:0}}},K8=gg("top"),G8=gg("right"),q8=gg("bottom"),z8=gg("left"),J8={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Y8={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},X8={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(wt).reduce(function(t,A){return t|W8(A.value)},0)}},W8=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},$8={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Z8={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Ch;(function(n){n.NORMAL="normal",n.STRICT="strict"})(Ch||(Ch={}));var j8={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return Ch.STRICT;case"normal":default:return Ch.NORMAL}}},eq={name:"line-height",initialValue:"normal",prefix:!1,type:4},YI=function(n,e){return wt(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:un(n)?Ut(n,e):e},tq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:IB.parse(n,e)}},nq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},i0={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},pg=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Aq=pg("top"),rq=pg("right"),iq=pg("bottom"),sq=pg("left"),oq={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(wt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},aq={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},mg=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lq=mg("top"),uq=mg("right"),cq=mg("bottom"),fq=mg("left"),dq={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},hq={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},gq={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&r0(e[0],"none")?[]:Yr(e).map(function(t){for(var A={color:Ui.TRANSPARENT,offsetX:bn,offsetY:bn,blur:bn},i=0,o=0;o<t.length;o++){var a=t[o];qs(a)?(i===0?A.offsetX=a:i===1?A.offsetY=a:A.blur=a,i++):A.color=Ms.parse(n,a)}return A})}},pq={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mq={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=vq[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},yq=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Bq=function(n){var e=n.filter(function(f){return f.type===17}).map(function(f){return f.number}),t=e[0],A=e[1];e[2],e[3];var i=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],u=e[13];return e[14],e[15],e.length===16?[t,A,i,o,a,u]:null},vq={matrix:yq,matrix3d:Bq},XI={type:16,number:50,flags:Fc},wq=[XI,XI],Cq={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(un);return t.length!==2?wq:[t[0],t[1]]}},Eq={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},tc;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(tc||(tc={}));var _q={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return tc.BREAK_ALL;case"keep-all":return tc.KEEP_ALL;case"normal":default:return tc.NORMAL}}},Tq={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(Rl(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},YR={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Iq={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return Rl(e)?e.number:1}},Sq={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Uq={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(wt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Fq={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],A=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:A.push(t.join(" ")),t.length=0;break}}),t.length&&A.push(t.join(" ")),A.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Qq={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Rq={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(Rl(e))return e.number;if(wt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},bq={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(wt).map(function(t){return t.value})}},xq={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},gn=function(n,e){return(n&e)!==0},Nq={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Dq={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var A=[],i=e.filter(RR),o=0;o<i.length;o++){var a=i[o],u=i[o+1];if(a.type===20){var f=u&&Rl(u)?u.number:1;A.push({counter:a.value,increment:f})}}return A}},Mq={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],A=e.filter(RR),i=0;i<A.length;i++){var o=A[i],a=A[i+1];if(wt(o)&&o.value!=="none"){var u=a&&Rl(a)?a.number:0;t.push({counter:o.value,reset:u})}}return t}},Lq={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(Qc).map(function(t){return YR.parse(n,t)})}},Hq={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var A=[],i=e.filter(u8);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var a=i[o].value,u=i[o+1].value;A.push({open:a,close:u})}return A}},WI=function(n,e,t){if(!n)return"";var A=n[Math.min(e,n.length-1)];return A?t?A.open:A.close:""},Pq={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&r0(e[0],"none")?[]:Yr(e).map(function(t){for(var A={color:255,offsetX:bn,offsetY:bn,blur:bn,spread:bn,inset:!1},i=0,o=0;o<t.length;o++){var a=t[o];r0(a,"inset")?A.inset=!0:qs(a)?(i===0?A.offsetX=a:i===1?A.offsetY=a:i===2?A.blur=a:A.spread=a,i++):A.color=Ms.parse(n,a)}return A})}},Vq={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],A=[];return e.filter(wt).forEach(function(i){switch(i.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2);break}}),t.forEach(function(i){A.indexOf(i)===-1&&A.push(i)}),A}},Oq={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},kq={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return Qc(e)?e.number:0}},Kq=(function(){function n(e,t){var A,i;this.animationDuration=Be(e,Lq,t.animationDuration),this.backgroundClip=Be(e,d8,t.backgroundClip),this.backgroundColor=Be(e,h8,t.backgroundColor),this.backgroundImage=Be(e,_8,t.backgroundImage),this.backgroundOrigin=Be(e,T8,t.backgroundOrigin),this.backgroundPosition=Be(e,I8,t.backgroundPosition),this.backgroundRepeat=Be(e,S8,t.backgroundRepeat),this.backgroundSize=Be(e,F8,t.backgroundSize),this.borderTopColor=Be(e,R8,t.borderTopColor),this.borderRightColor=Be(e,b8,t.borderRightColor),this.borderBottomColor=Be(e,x8,t.borderBottomColor),this.borderLeftColor=Be(e,N8,t.borderLeftColor),this.borderTopLeftRadius=Be(e,D8,t.borderTopLeftRadius),this.borderTopRightRadius=Be(e,M8,t.borderTopRightRadius),this.borderBottomRightRadius=Be(e,L8,t.borderBottomRightRadius),this.borderBottomLeftRadius=Be(e,H8,t.borderBottomLeftRadius),this.borderTopStyle=Be(e,P8,t.borderTopStyle),this.borderRightStyle=Be(e,V8,t.borderRightStyle),this.borderBottomStyle=Be(e,O8,t.borderBottomStyle),this.borderLeftStyle=Be(e,k8,t.borderLeftStyle),this.borderTopWidth=Be(e,K8,t.borderTopWidth),this.borderRightWidth=Be(e,G8,t.borderRightWidth),this.borderBottomWidth=Be(e,q8,t.borderBottomWidth),this.borderLeftWidth=Be(e,z8,t.borderLeftWidth),this.boxShadow=Be(e,Pq,t.boxShadow),this.color=Be(e,J8,t.color),this.direction=Be(e,Y8,t.direction),this.display=Be(e,X8,t.display),this.float=Be(e,$8,t.cssFloat),this.fontFamily=Be(e,Fq,t.fontFamily),this.fontSize=Be(e,Qq,t.fontSize),this.fontStyle=Be(e,xq,t.fontStyle),this.fontVariant=Be(e,bq,t.fontVariant),this.fontWeight=Be(e,Rq,t.fontWeight),this.letterSpacing=Be(e,Z8,t.letterSpacing),this.lineBreak=Be(e,j8,t.lineBreak),this.lineHeight=Be(e,eq,t.lineHeight),this.listStyleImage=Be(e,tq,t.listStyleImage),this.listStylePosition=Be(e,nq,t.listStylePosition),this.listStyleType=Be(e,i0,t.listStyleType),this.marginTop=Be(e,Aq,t.marginTop),this.marginRight=Be(e,rq,t.marginRight),this.marginBottom=Be(e,iq,t.marginBottom),this.marginLeft=Be(e,sq,t.marginLeft),this.opacity=Be(e,Iq,t.opacity);var o=Be(e,oq,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=Be(e,aq,t.overflowWrap),this.paddingTop=Be(e,lq,t.paddingTop),this.paddingRight=Be(e,uq,t.paddingRight),this.paddingBottom=Be(e,cq,t.paddingBottom),this.paddingLeft=Be(e,fq,t.paddingLeft),this.paintOrder=Be(e,Vq,t.paintOrder),this.position=Be(e,hq,t.position),this.textAlign=Be(e,dq,t.textAlign),this.textDecorationColor=Be(e,Sq,(A=t.textDecorationColor)!==null&&A!==void 0?A:t.color),this.textDecorationLine=Be(e,Uq,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Be(e,gq,t.textShadow),this.textTransform=Be(e,pq,t.textTransform),this.transform=Be(e,mq,t.transform),this.transformOrigin=Be(e,Cq,t.transformOrigin),this.visibility=Be(e,Eq,t.visibility),this.webkitTextStrokeColor=Be(e,Oq,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Be(e,kq,t.webkitTextStrokeWidth),this.wordBreak=Be(e,_q,t.wordBreak),this.zIndex=Be(e,Tq,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Ls(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return gn(this.display,4)||gn(this.display,33554432)||gn(this.display,268435456)||gn(this.display,536870912)||gn(this.display,67108864)||gn(this.display,134217728)},n})(),Gq=(function(){function n(e,t){this.content=Be(e,Nq,t.content),this.quotes=Be(e,Hq,t.quotes)}return n})(),$I=(function(){function n(e,t){this.counterIncrement=Be(e,Dq,t.counterIncrement),this.counterReset=Be(e,Mq,t.counterReset)}return n})(),Be=function(n,e,t){var A=new FR,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;A.write(i);var o=new QR(A.read());switch(e.type){case 2:var a=o.parseComponentValue();return e.parse(n,wt(a)?a.value:e.initialValue);case 0:return e.parse(n,o.parseComponentValue());case 1:return e.parse(n,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return ug.parse(n,o.parseComponentValue());case"color":return Ms.parse(n,o.parseComponentValue());case"image":return IB.parse(n,o.parseComponentValue());case"length":var u=o.parseComponentValue();return qs(u)?u:bn;case"length-percentage":var f=o.parseComponentValue();return un(f)?f:bn;case"time":return YR.parse(n,o.parseComponentValue())}break}},qq="data-html2canvas-debug",zq=function(n){var e=n.getAttribute(qq);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},s0=function(n,e){var t=zq(n);return t===1||e===t},Xr=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,s0(t,3))debugger;this.styles=new Kq(e,window.getComputedStyle(t,null)),l0(t)&&(this.styles.animationDuration.some(function(A){return A>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=ag(this.context,t),s0(t,4)&&(this.flags|=16)}return n})(),Jq="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ZI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _d=0;_d<ZI.length;_d++)qu[ZI.charCodeAt(_d)]=_d;var Yq=function(n){var e=n.length*.75,t=n.length,A,i=0,o,a,u,f;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(d)?d:new Uint8Array(d);for(A=0;A<t;A+=4)o=qu[n.charCodeAt(A)],a=qu[n.charCodeAt(A+1)],u=qu[n.charCodeAt(A+2)],f=qu[n.charCodeAt(A+3)],m[i++]=o<<2|a>>4,m[i++]=(a&15)<<4|u>>2,m[i++]=(u&3)<<6|f&63;return d},Xq=function(n){for(var e=n.length,t=[],A=0;A<e;A+=2)t.push(n[A+1]<<8|n[A]);return t},Wq=function(n){for(var e=n.length,t=[],A=0;A<e;A+=4)t.push(n[A+3]<<24|n[A+2]<<16|n[A+1]<<8|n[A]);return t},Ho=5,SB=11,km=2,$q=SB-Ho,XR=65536>>Ho,Zq=1<<Ho,Km=Zq-1,jq=1024>>Ho,ez=XR+jq,tz=ez,nz=32,Az=tz+nz,rz=65536>>SB,iz=1<<$q,sz=iz-1,jI=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},oz=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},az=function(n,e){var t=Yq(n),A=Array.isArray(t)?Wq(t):new Uint32Array(t),i=Array.isArray(t)?Xq(t):new Uint16Array(t),o=24,a=jI(i,o/2,A[4]/2),u=A[5]===2?jI(i,(o+A[4])/2):oz(A,Math.ceil((o+A[4])/4));return new lz(A[0],A[1],A[2],A[3],a,u)},lz=(function(){function n(e,t,A,i,o,a){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=i,this.index=o,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Ho],t=(t<<km)+(e&Km),this.data[t];if(e<=65535)return t=this.index[XR+(e-55296>>Ho)],t=(t<<km)+(e&Km),this.data[t];if(e<this.highStart)return t=Az-rz+(e>>SB),t=this.index[t],t+=e>>Ho&sz,t=this.index[t],t=(t<<km)+(e&Km),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),eS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Td=0;Td<eS.length;Td++)uz[eS.charCodeAt(Td)]=Td;var cz=1,Gm=2,qm=3,tS=4,nS=5,fz=7,AS=8,zm=9,Jm=10,rS=11,iS=12,sS=13,oS=14,Ym=15,dz=function(n){for(var e=[],t=0,A=n.length;t<A;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<A){var o=n.charCodeAt(t++);(o&64512)===56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},hz=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var A=[],i=-1,o="";++i<t;){var a=n[i];a<=65535?A.push(a):(a-=65536,A.push((a>>10)+55296,a%1024+56320)),(i+1===t||A.length>16384)&&(o+=String.fromCharCode.apply(String,A),A.length=0)}return o},gz=az(Jq),YA="",Xm="",pz=function(n){return gz.get(n)},mz=function(n,e,t){var A=t-2,i=e[A],o=e[t-1],a=e[t];if(o===Gm&&a===qm)return YA;if(o===Gm||o===qm||o===tS||a===Gm||a===qm||a===tS)return Xm;if(o===AS&&[AS,zm,rS,iS].indexOf(a)!==-1||(o===rS||o===zm)&&(a===zm||a===Jm)||(o===iS||o===Jm)&&a===Jm||a===sS||a===nS||a===fz||o===cz)return YA;if(o===sS&&a===oS){for(;i===nS;)i=e[--A];if(i===oS)return YA}if(o===Ym&&a===Ym){for(var u=0;i===Ym;)u++,i=e[--A];if(u%2===0)return YA}return Xm},yz=function(n){var e=dz(n),t=e.length,A=0,i=0,o=e.map(pz);return{next:function(){if(A>=t)return{done:!0,value:null};for(var a=YA;A<t&&(a=mz(e,o,++A))===YA;);if(a!==YA||A===t){var u=hz.apply(null,e.slice(i,A));return i=A,{value:u,done:!1}}return{done:!0,value:null}}}},Bz=function(n){for(var e=yz(n),t=[],A;!(A=e.next()).done;)A.value&&t.push(A.value.slice());return t},vz=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var A=n.createElement("boundtest");A.style.height=e+"px",A.style.display="block",n.body.appendChild(A),t.selectNode(A);var i=t.getBoundingClientRect(),o=Math.round(i.height);if(n.body.removeChild(A),o===e)return!0}}return!1},wz=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var A=e.firstChild,i=lg(A.data).map(function(f){return en(f)}),o=0,a={},u=i.every(function(f,d){t.setStart(A,o),t.setEnd(A,o+f.length);var m=t.getBoundingClientRect();o+=f.length;var v=m.x>a.x||m.y>a.y;return a=m,d===0?!0:v});return n.body.removeChild(e),u},Cz=function(){return typeof new Image().crossOrigin<"u"},Ez=function(){return typeof new XMLHttpRequest().responseType=="string"},_z=function(n){var e=new Image,t=n.createElement("canvas"),A=t.getContext("2d");if(!A)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},aS=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},Tz=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var A=e.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,t,t);var i=new Image,o=e.toDataURL();i.src=o;var a=o0(t,t,0,0,i);return A.fillStyle="red",A.fillRect(0,0,t,t),lS(a).then(function(u){A.drawImage(u,0,0);var f=A.getImageData(0,0,t,t).data;A.fillStyle="red",A.fillRect(0,0,t,t);var d=n.createElement("div");return d.style.backgroundImage="url("+o+")",d.style.height=t+"px",aS(f)?lS(o0(t,t,0,0,d)):Promise.reject(!1)}).then(function(u){return A.drawImage(u,0,0),aS(A.getImageData(0,0,t,t).data)}).catch(function(){return!1})},o0=function(n,e,t,A,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),u=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),u.setAttributeNS(null,"width","100%"),u.setAttributeNS(null,"height","100%"),u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",A.toString()),u.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(u),u.appendChild(i),a},lS=function(n){return new Promise(function(e,t){var A=new Image;A.onload=function(){return e(A)},A.onerror=t,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Fn={get SUPPORT_RANGE_BOUNDS(){var n=vz(document);return Object.defineProperty(Fn,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Fn.SUPPORT_RANGE_BOUNDS&&wz(document);return Object.defineProperty(Fn,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=_z(document);return Object.defineProperty(Fn,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?Tz(document):Promise.resolve(!1);return Object.defineProperty(Fn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=Cz();return Object.defineProperty(Fn,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=Ez();return Object.defineProperty(Fn,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fn,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},nc=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),Iz=function(n,e,t,A){var i=Fz(e,t),o=[],a=0;return i.forEach(function(u){if(t.textDecorationLine.length||u.trim().length>0)if(Fn.SUPPORT_RANGE_BOUNDS){var f=uS(A,a,u.length).getClientRects();if(f.length>1){var d=UB(u),m=0;d.forEach(function(w){o.push(new nc(w,Ni.fromDOMRectList(n,uS(A,m+a,w.length).getClientRects()))),m+=w.length})}else o.push(new nc(u,Ni.fromDOMRectList(n,f)))}else{var v=A.splitText(u.length);o.push(new nc(u,Sz(n,A))),A=v}else Fn.SUPPORT_RANGE_BOUNDS||(A=A.splitText(u.length));a+=u.length}),o},Sz=function(n,e){var t=e.ownerDocument;if(t){var A=t.createElement("html2canvaswrapper");A.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(A,e);var o=ag(n,A);return A.firstChild&&i.replaceChild(A.firstChild,A),o}}return Ni.EMPTY},uS=function(n,e,t){var A=n.ownerDocument;if(!A)throw new Error("Node has no owner document");var i=A.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},UB=function(n){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return Bz(n)},Uz=function(n,e){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(A){return A.segment})}return Rz(n,e)},Fz=function(n,e){return e.letterSpacing!==0?UB(n):Uz(n,e)},Qz=[32,160,4961,65792,65793,4153,4241],Rz=function(n,e){for(var t=r9(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),A=[],i,o=function(){if(i.value){var a=i.value.slice(),u=lg(a),f="";u.forEach(function(d){Qz.indexOf(d)===-1?f+=en(d):(f.length&&A.push(f),A.push(en(d)),f="")}),f.length&&A.push(f)}};!(i=t.next()).done;)o();return A},bz=(function(){function n(e,t,A){this.text=xz(t.data,A.textTransform),this.textBounds=Iz(e,this.text,A,t)}return n})(),xz=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Nz,Dz);case 2:return n.toUpperCase();default:return n}},Nz=/(^|\s|:|-|\(|\))([a-z])/g,Dz=function(n,e,t){return n.length>0?e+t.toUpperCase():n},WR=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.src=A.currentSrc||A.src,i.intrinsicWidth=A.naturalWidth,i.intrinsicHeight=A.naturalHeight,i.context.cache.addImage(i.src),i}return e})(Xr),$R=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.canvas=A,i.intrinsicWidth=A.width,i.intrinsicHeight=A.height,i}return e})(Xr),ZR=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this,o=new XMLSerializer,a=ag(t,A);return A.setAttribute("width",a.width+"px"),A.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(A)),i.intrinsicWidth=A.width.baseVal.value,i.intrinsicHeight=A.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(Xr),jR=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.value=A.value,i}return e})(Xr),a0=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.start=A.start,i.reversed=typeof A.reversed=="boolean"&&A.reversed===!0,i}return e})(Xr),Mz=[{type:15,flags:0,unit:"px",number:3}],Lz=[{type:16,flags:0,number:50}],Hz=function(n){return n.width>n.height?new Ni(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Ni(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Pz=function(n){var e=n.type===Vz?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},Eh="checkbox",_h="radio",Vz="password",cS=707406591,FB=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;switch(i.type=A.type.toLowerCase(),i.checked=A.checked,i.value=Pz(A),(i.type===Eh||i.type===_h)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Hz(i.bounds)),i.type){case Eh:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Mz;break;case _h:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Lz;break}return i}return e})(Xr),eb=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this,o=A.options[A.selectedIndex||0];return i.value=o&&o.text||"",i}return e})(Xr),tb=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.value=A.value,i}return e})(Xr),nb=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;i.src=A.src,i.width=parseInt(A.width,10)||0,i.height=parseInt(A.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){i.tree=rb(t,A.contentWindow.document.documentElement);var o=A.contentWindow.document.documentElement?ec(t,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):Ui.TRANSPARENT,a=A.contentWindow.document.body?ec(t,getComputedStyle(A.contentWindow.document.body).backgroundColor):Ui.TRANSPARENT;i.backgroundColor=Ls(o)?Ls(a)?i.styles.backgroundColor:a:o}}catch{}return i}return e})(Xr),Oz=["OL","UL","MENU"],Gd=function(n,e,t,A){for(var i=e.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,ib(i)&&i.data.trim().length>0)t.textNodes.push(new bz(n,i,t.styles));else if(nl(i))if(lb(i)&&i.assignedNodes)i.assignedNodes().forEach(function(u){return Gd(n,u,t,A)});else{var a=Ab(n,i);a.styles.isVisible()&&(kz(i,a,A)?a.flags|=4:Kz(a.styles)&&(a.flags|=2),Oz.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?Gd(n,i.shadowRoot,a,A):!Th(i)&&!sb(i)&&!Ih(i)&&Gd(n,i,a,A))}},Ab=function(n,e){return u0(e)?new WR(n,e):ob(e)?new $R(n,e):sb(e)?new ZR(n,e):Gz(e)?new jR(n,e):qz(e)?new a0(n,e):zz(e)?new FB(n,e):Ih(e)?new eb(n,e):Th(e)?new tb(n,e):ab(e)?new nb(n,e):new Xr(n,e)},rb=function(n,e){var t=Ab(n,e);return t.flags|=4,Gd(n,e,t,t),t},kz=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||QB(n)&&t.styles.isTransparent()},Kz=function(n){return n.isPositioned()||n.isFloating()},ib=function(n){return n.nodeType===Node.TEXT_NODE},nl=function(n){return n.nodeType===Node.ELEMENT_NODE},l0=function(n){return nl(n)&&typeof n.style<"u"&&!qd(n)},qd=function(n){return typeof n.className=="object"},Gz=function(n){return n.tagName==="LI"},qz=function(n){return n.tagName==="OL"},zz=function(n){return n.tagName==="INPUT"},Jz=function(n){return n.tagName==="HTML"},sb=function(n){return n.tagName==="svg"},QB=function(n){return n.tagName==="BODY"},ob=function(n){return n.tagName==="CANVAS"},fS=function(n){return n.tagName==="VIDEO"},u0=function(n){return n.tagName==="IMG"},ab=function(n){return n.tagName==="IFRAME"},dS=function(n){return n.tagName==="STYLE"},Yz=function(n){return n.tagName==="SCRIPT"},Th=function(n){return n.tagName==="TEXTAREA"},Ih=function(n){return n.tagName==="SELECT"},lb=function(n){return n.tagName==="SLOT"},hS=function(n){return n.tagName.indexOf("-")>0},Xz=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(A){return t.counters[A].pop()})},n.prototype.parse=function(e){var t=this,A=e.counterIncrement,i=e.counterReset,o=!0;A!==null&&A.forEach(function(u){var f=t.counters[u.counter];f&&u.increment!==0&&(o=!1,f.length||f.push(1),f[Math.max(0,f.length-1)]+=u.increment)});var a=[];return o&&i.forEach(function(u){var f=t.counters[u.counter];a.push(u.counter),f||(f=t.counters[u.counter]=[]),f.push(u.reset)}),a},n})(),gS={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},pS={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wz={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$z={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ka=function(n,e,t,A,i,o){return n<e||n>t?gc(n,i,o.length>0):A.integers.reduce(function(a,u,f){for(;n>=u;)n-=u,a+=A.values[f];return a},"")+o},ub=function(n,e,t,A){var i="";do t||n--,i=A(n)+i,n/=e;while(n*e>=e);return i},jt=function(n,e,t,A,i){var o=t-e+1;return(n<0?"-":"")+(ub(Math.abs(n),o,A,function(a){return en(Math.floor(a%o)+e)})+i)},Fo=function(n,e,t){t===void 0&&(t=". ");var A=e.length;return ub(Math.abs(n),A,!1,function(i){return e[Math.floor(i%A)]})+t},$a=1,ws=2,Cs=4,zu=8,Ei=function(n,e,t,A,i,o){if(n<-9999||n>9999)return gc(n,4,i.length>0);var a=Math.abs(n),u=i;if(a===0)return e[0]+u;for(var f=0;a>0&&f<=4;f++){var d=a%10;d===0&&gn(o,$a)&&u!==""?u=e[d]+u:d>1||d===1&&f===0||d===1&&f===1&&gn(o,ws)||d===1&&f===1&&gn(o,Cs)&&n>100||d===1&&f>1&&gn(o,zu)?u=e[d]+(f>0?t[f-1]:"")+u:d===1&&f>0&&(u=t[f-1]+u),a=Math.floor(a/10)}return(n<0?A:"")+u},mS="",yS="",BS="",Wm="",gc=function(n,e,t){var A=t?". ":"",i=t?"":"",o=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var u=jt(n,48,57,!0,A);return u.length<4?"0"+u:u;case 4:return Fo(n,"",i);case 6:return Ka(n,1,3999,gS,3,A).toLowerCase();case 7:return Ka(n,1,3999,gS,3,A);case 8:return jt(n,945,969,!1,A);case 9:return jt(n,97,122,!1,A);case 10:return jt(n,65,90,!1,A);case 11:return jt(n,1632,1641,!0,A);case 12:case 49:return Ka(n,1,9999,pS,3,A);case 35:return Ka(n,1,9999,pS,3,A).toLowerCase();case 13:return jt(n,2534,2543,!0,A);case 14:case 30:return jt(n,6112,6121,!0,A);case 15:return Fo(n,"",i);case 16:return Fo(n,"",i);case 17:case 48:return Ei(n,"",mS,"",i,ws|Cs|zu);case 47:return Ei(n,"",yS,"",i,$a|ws|Cs|zu);case 42:return Ei(n,"",mS,"",i,ws|Cs|zu);case 41:return Ei(n,"",yS,"",i,$a|ws|Cs|zu);case 26:return Ei(n,"","",BS,i,0);case 25:return Ei(n,"","",BS,i,$a|ws|Cs);case 31:return Ei(n,"","",Wm,o,$a|ws|Cs);case 33:return Ei(n,"","",Wm,o,0);case 32:return Ei(n,"","",Wm,o,$a|ws|Cs);case 18:return jt(n,2406,2415,!0,A);case 20:return Ka(n,1,19999,$z,3,A);case 21:return jt(n,2790,2799,!0,A);case 22:return jt(n,2662,2671,!0,A);case 22:return Ka(n,1,10999,Wz,3,A);case 23:return Fo(n,"");case 24:return Fo(n,"");case 27:return jt(n,3302,3311,!0,A);case 28:return Fo(n,"",i);case 29:return Fo(n,"",i);case 34:return jt(n,3792,3801,!0,A);case 37:return jt(n,6160,6169,!0,A);case 38:return jt(n,4160,4169,!0,A);case 39:return jt(n,2918,2927,!0,A);case 40:return jt(n,1776,1785,!0,A);case 43:return jt(n,3046,3055,!0,A);case 44:return jt(n,3174,3183,!0,A);case 45:return jt(n,3664,3673,!0,A);case 46:return jt(n,3872,3881,!0,A);case 3:default:return jt(n,48,57,!0,A)}},cb="data-html2canvas-ignore",vS=(function(){function n(e,t,A){if(this.context=e,this.options=A,this.scrolledElements=[],this.referenceElement=t,this.counters=new Xz,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var A=this,i=Zz(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,u=i.contentWindow,f=u.document,d=t7(i).then(function(){return Wn(A,void 0,void 0,function(){var m,v;return Ln(this,function(w){switch(w.label){case 0:return this.scrolledElements.forEach(i7),u&&(u.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(u.scrollY!==t.top||u.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-t.left,u.scrollY-t.top,0,0))),m=this.options.onclone,v=this.clonedReferenceElement,typeof v>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:f.fonts&&f.fonts.ready?[4,f.fonts.ready]:[3,2];case 1:w.sent(),w.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,e7(f)]:[3,4];case 3:w.sent(),w.label=4;case 4:return typeof m=="function"?[2,Promise.resolve().then(function(){return m(f,v)}).then(function(){return i})]:[2,i]}})})});return f.open(),f.write(A7(document.doctype)+"<html></html>"),r7(this.referenceElement.ownerDocument,o,a),f.replaceChild(f.adoptNode(this.documentElement),f.documentElement),f.close(),d},n.prototype.createElementClone=function(e){if(s0(e,2))debugger;if(ob(e))return this.createCanvasClone(e);if(fS(e))return this.createVideoClone(e);if(dS(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return u0(t)&&(u0(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),hS(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return $m(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var A=[].slice.call(t.cssRules,0).reduce(function(o,a){return a&&typeof a.cssText=="string"?o+a.cssText:o},""),i=e.cloneNode(!1);return i.textContent=A,i}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var A=e.ownerDocument.createElement("img");try{return A.src=e.toDataURL(),A}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var o=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&o)a.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var u=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(u){var f=u.getContextAttributes();(f==null?void 0:f.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var A=t.getContext("2d");try{return A&&(A.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||A.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,A){(!nl(t)||!Yz(t)&&!t.hasAttribute(cb)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!nl(t)||!dS(t))&&e.appendChild(this.cloneNode(t,A))},n.prototype.cloneChildNodes=function(e,t,A){for(var i=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(nl(o)&&lb(o)&&typeof o.assignedNodes=="function"){var a=o.assignedNodes();a.length&&a.forEach(function(u){return i.appendChildNode(t,u,A)})}else this.appendChildNode(t,o,A)},n.prototype.cloneNode=function(e,t){if(ib(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var A=e.ownerDocument.defaultView;if(A&&nl(e)&&(l0(e)||qd(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var o=A.getComputedStyle(e),a=A.getComputedStyle(e,":before"),u=A.getComputedStyle(e,":after");this.referenceElement===e&&l0(i)&&(this.clonedReferenceElement=i),QB(i)&&a7(i);var f=this.counters.parse(new $I(this.context,o)),d=this.resolvePseudoContent(e,i,a,Ac.BEFORE);hS(e)&&(t=!0),fS(e)||this.cloneChildNodes(e,i,t),d&&i.insertBefore(d,i.firstChild);var m=this.resolvePseudoContent(e,i,u,Ac.AFTER);return m&&i.appendChild(m),this.counters.pop(f),(o&&(this.options.copyStyles||qd(e))&&!ab(e)||t)&&$m(o,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Th(e)||Ih(e))&&(Th(i)||Ih(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,A,i){var o=this;if(A){var a=A.content,u=t.ownerDocument;if(!(!u||!a||a==="none"||a==="-moz-alt-content"||A.display==="none")){this.counters.parse(new $I(this.context,A));var f=new Gq(this.context,A),d=u.createElement("html2canvaspseudoelement");$m(A,d),f.content.forEach(function(v){if(v.type===0)d.appendChild(u.createTextNode(v.value));else if(v.type===22){var w=u.createElement("img");w.src=v.value,w.style.opacity="1",d.appendChild(w)}else if(v.type===18){if(v.name==="attr"){var T=v.values.filter(wt);T.length&&d.appendChild(u.createTextNode(e.getAttribute(T[0].value)||""))}else if(v.name==="counter"){var Q=v.values.filter(yl),D=Q[0],M=Q[1];if(D&&wt(D)){var k=o.counters.getCounterValue(D.value),G=M&&wt(M)?i0.parse(o.context,M.value):3;d.appendChild(u.createTextNode(gc(k,G,!1)))}}else if(v.name==="counters"){var X=v.values.filter(yl),D=X[0],te=X[1],M=X[2];if(D&&wt(D)){var re=o.counters.getCounterValues(D.value),$=M&&wt(M)?i0.parse(o.context,M.value):3,b=te&&te.type===0?te.value:"",R=re.map(function(L){return gc(L,$,!1)}).join(b);d.appendChild(u.createTextNode(R))}}}else if(v.type===20)switch(v.value){case"open-quote":d.appendChild(u.createTextNode(WI(f.quotes,o.quoteDepth++,!0)));break;case"close-quote":d.appendChild(u.createTextNode(WI(f.quotes,--o.quoteDepth,!1)));break;default:d.appendChild(u.createTextNode(v.value))}}),d.className=c0+" "+f0;var m=i===Ac.BEFORE?" "+c0:" "+f0;return qd(t)?t.className.baseValue+=m:t.className+=m,d}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Ac;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Ac||(Ac={}));var Zz=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(cb,"true"),n.body.appendChild(t),t},jz=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},e7=function(n){return Promise.all([].slice.call(n.images,0).map(jz))},t7=function(n){return new Promise(function(e,t){var A=n.contentWindow;if(!A)return t("No window assigned for iframe");var i=A.document;A.onload=n.onload=function(){A.onload=n.onload=null;var o=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(o),e(n))},50)}})},n7=["all","d","content"],$m=function(n,e){for(var t=n.length-1;t>=0;t--){var A=n.item(t);n7.indexOf(A)===-1&&e.style.setProperty(A,n.getPropertyValue(A))}return e},A7=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},r7=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},i7=function(n){var e=n[0],t=n[1],A=n[2];e.scrollLeft=t,e.scrollTop=A},s7=":before",o7=":after",c0="___html2canvas___pseudoelement_before",f0="___html2canvas___pseudoelement_after",wS=`{
    content: "" !important;
    display: none !important;
}`,a7=function(n){l7(n,"."+c0+s7+wS+`
         .`+f0+o7+wS)},l7=function(n,e){var t=n.ownerDocument;if(t){var A=t.createElement("style");A.textContent=e,n.appendChild(A)}},fb=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),u7=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(jm(e)||h7(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Wn(this,void 0,void 0,function(){var t,A,i,o,a=this;return Ln(this,function(u){switch(u.label){case 0:return t=fb.isSameOrigin(e),A=!Zm(e)&&this._options.useCORS===!0&&Fn.SUPPORT_CORS_IMAGES&&!t,i=!Zm(e)&&!t&&!jm(e)&&typeof this._options.proxy=="string"&&Fn.SUPPORT_CORS_XHR&&!A,!t&&this._options.allowTaint===!1&&!Zm(e)&&!jm(e)&&!i&&!A?[2]:(o=e,i?[4,this.proxy(o)]:[3,2]);case 1:o=u.sent(),u.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(f,d){var m=new Image;m.onload=function(){return f(m)},m.onerror=d,(g7(o)||A)&&(m.crossOrigin="anonymous"),m.src=o,m.complete===!0&&setTimeout(function(){return f(m)},500),a._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,u.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(o,a){var u=Fn.SUPPORT_RESPONSE_TYPE?"blob":"text",f=new XMLHttpRequest;f.onload=function(){if(f.status===200)if(u==="text")o(f.response);else{var v=new FileReader;v.addEventListener("load",function(){return o(v.result)},!1),v.addEventListener("error",function(w){return a(w)},!1),v.readAsDataURL(f.response)}else a("Failed to proxy resource "+i+" with status code "+f.status)},f.onerror=a;var d=A.indexOf("?")>-1?"&":"?";if(f.open("GET",""+A+d+"url="+encodeURIComponent(e)+"&responseType="+u),u!=="text"&&f instanceof XMLHttpRequest&&(f.responseType=u),t._options.imageTimeout){var m=t._options.imageTimeout;f.timeout=m,f.ontimeout=function(){return a("Timed out ("+m+"ms) proxying "+i)}}f.send()})},n})(),c7=/^data:image\/svg\+xml/i,f7=/^data:image\/.*;base64,/i,d7=/^data:image\/.*/i,h7=function(n){return Fn.SUPPORT_SVG_DRAWING||!p7(n)},Zm=function(n){return d7.test(n)},g7=function(n){return f7.test(n)},jm=function(n){return n.substr(0,4)==="blob"},p7=function(n){return n.substr(-3).toLowerCase()==="svg"||c7.test(n)},me=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),Ga=function(n,e,t){return new me(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},Id=(function(){function n(e,t,A,i){this.type=1,this.start=e,this.startControl=t,this.endControl=A,this.end=i}return n.prototype.subdivide=function(e,t){var A=Ga(this.start,this.startControl,e),i=Ga(this.startControl,this.endControl,e),o=Ga(this.endControl,this.end,e),a=Ga(A,i,e),u=Ga(i,o,e),f=Ga(a,u,e);return t?new n(this.start,A,a,f):new n(f,u,o,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),XA=function(n){return n.type===1},m7=(function(){function n(e){var t=e.styles,A=e.bounds,i=Gu(t.borderTopLeftRadius,A.width,A.height),o=i[0],a=i[1],u=Gu(t.borderTopRightRadius,A.width,A.height),f=u[0],d=u[1],m=Gu(t.borderBottomRightRadius,A.width,A.height),v=m[0],w=m[1],T=Gu(t.borderBottomLeftRadius,A.width,A.height),Q=T[0],D=T[1],M=[];M.push((o+f)/A.width),M.push((Q+v)/A.width),M.push((a+D)/A.height),M.push((d+w)/A.height);var k=Math.max.apply(Math,M);k>1&&(o/=k,a/=k,f/=k,d/=k,v/=k,w/=k,Q/=k,D/=k);var G=A.width-f,X=A.height-w,te=A.width-v,re=A.height-D,$=t.borderTopWidth,b=t.borderRightWidth,R=t.borderBottomWidth,U=t.borderLeftWidth,N=Ut(t.paddingTop,e.bounds.width),L=Ut(t.paddingRight,e.bounds.width),V=Ut(t.paddingBottom,e.bounds.width),x=Ut(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||a>0?Lt(A.left+U/3,A.top+$/3,o-U/3,a-$/3,ft.TOP_LEFT):new me(A.left+U/3,A.top+$/3),this.topRightBorderDoubleOuterBox=o>0||a>0?Lt(A.left+G,A.top+$/3,f-b/3,d-$/3,ft.TOP_RIGHT):new me(A.left+A.width-b/3,A.top+$/3),this.bottomRightBorderDoubleOuterBox=v>0||w>0?Lt(A.left+te,A.top+X,v-b/3,w-R/3,ft.BOTTOM_RIGHT):new me(A.left+A.width-b/3,A.top+A.height-R/3),this.bottomLeftBorderDoubleOuterBox=Q>0||D>0?Lt(A.left+U/3,A.top+re,Q-U/3,D-R/3,ft.BOTTOM_LEFT):new me(A.left+U/3,A.top+A.height-R/3),this.topLeftBorderDoubleInnerBox=o>0||a>0?Lt(A.left+U*2/3,A.top+$*2/3,o-U*2/3,a-$*2/3,ft.TOP_LEFT):new me(A.left+U*2/3,A.top+$*2/3),this.topRightBorderDoubleInnerBox=o>0||a>0?Lt(A.left+G,A.top+$*2/3,f-b*2/3,d-$*2/3,ft.TOP_RIGHT):new me(A.left+A.width-b*2/3,A.top+$*2/3),this.bottomRightBorderDoubleInnerBox=v>0||w>0?Lt(A.left+te,A.top+X,v-b*2/3,w-R*2/3,ft.BOTTOM_RIGHT):new me(A.left+A.width-b*2/3,A.top+A.height-R*2/3),this.bottomLeftBorderDoubleInnerBox=Q>0||D>0?Lt(A.left+U*2/3,A.top+re,Q-U*2/3,D-R*2/3,ft.BOTTOM_LEFT):new me(A.left+U*2/3,A.top+A.height-R*2/3),this.topLeftBorderStroke=o>0||a>0?Lt(A.left+U/2,A.top+$/2,o-U/2,a-$/2,ft.TOP_LEFT):new me(A.left+U/2,A.top+$/2),this.topRightBorderStroke=o>0||a>0?Lt(A.left+G,A.top+$/2,f-b/2,d-$/2,ft.TOP_RIGHT):new me(A.left+A.width-b/2,A.top+$/2),this.bottomRightBorderStroke=v>0||w>0?Lt(A.left+te,A.top+X,v-b/2,w-R/2,ft.BOTTOM_RIGHT):new me(A.left+A.width-b/2,A.top+A.height-R/2),this.bottomLeftBorderStroke=Q>0||D>0?Lt(A.left+U/2,A.top+re,Q-U/2,D-R/2,ft.BOTTOM_LEFT):new me(A.left+U/2,A.top+A.height-R/2),this.topLeftBorderBox=o>0||a>0?Lt(A.left,A.top,o,a,ft.TOP_LEFT):new me(A.left,A.top),this.topRightBorderBox=f>0||d>0?Lt(A.left+G,A.top,f,d,ft.TOP_RIGHT):new me(A.left+A.width,A.top),this.bottomRightBorderBox=v>0||w>0?Lt(A.left+te,A.top+X,v,w,ft.BOTTOM_RIGHT):new me(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=Q>0||D>0?Lt(A.left,A.top+re,Q,D,ft.BOTTOM_LEFT):new me(A.left,A.top+A.height),this.topLeftPaddingBox=o>0||a>0?Lt(A.left+U,A.top+$,Math.max(0,o-U),Math.max(0,a-$),ft.TOP_LEFT):new me(A.left+U,A.top+$),this.topRightPaddingBox=f>0||d>0?Lt(A.left+Math.min(G,A.width-b),A.top+$,G>A.width+b?0:Math.max(0,f-b),Math.max(0,d-$),ft.TOP_RIGHT):new me(A.left+A.width-b,A.top+$),this.bottomRightPaddingBox=v>0||w>0?Lt(A.left+Math.min(te,A.width-U),A.top+Math.min(X,A.height-R),Math.max(0,v-b),Math.max(0,w-R),ft.BOTTOM_RIGHT):new me(A.left+A.width-b,A.top+A.height-R),this.bottomLeftPaddingBox=Q>0||D>0?Lt(A.left+U,A.top+Math.min(re,A.height-R),Math.max(0,Q-U),Math.max(0,D-R),ft.BOTTOM_LEFT):new me(A.left+U,A.top+A.height-R),this.topLeftContentBox=o>0||a>0?Lt(A.left+U+x,A.top+$+N,Math.max(0,o-(U+x)),Math.max(0,a-($+N)),ft.TOP_LEFT):new me(A.left+U+x,A.top+$+N),this.topRightContentBox=f>0||d>0?Lt(A.left+Math.min(G,A.width+U+x),A.top+$+N,G>A.width+U+x?0:f-U+x,d-($+N),ft.TOP_RIGHT):new me(A.left+A.width-(b+L),A.top+$+N),this.bottomRightContentBox=v>0||w>0?Lt(A.left+Math.min(te,A.width-(U+x)),A.top+Math.min(X,A.height+$+N),Math.max(0,v-(b+L)),w-(R+V),ft.BOTTOM_RIGHT):new me(A.left+A.width-(b+L),A.top+A.height-(R+V)),this.bottomLeftContentBox=Q>0||D>0?Lt(A.left+U+x,A.top+re,Math.max(0,Q-(U+x)),D-(R+V),ft.BOTTOM_LEFT):new me(A.left+U+x,A.top+A.height-(R+V))}return n})(),ft;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ft||(ft={}));var Lt=function(n,e,t,A,i){var o=4*((Math.sqrt(2)-1)/3),a=t*o,u=A*o,f=n+t,d=e+A;switch(i){case ft.TOP_LEFT:return new Id(new me(n,d),new me(n,d-u),new me(f-a,e),new me(f,e));case ft.TOP_RIGHT:return new Id(new me(n,e),new me(n+a,e),new me(f,d-u),new me(f,d));case ft.BOTTOM_RIGHT:return new Id(new me(f,e),new me(f,e+u),new me(n+a,d),new me(n,d));case ft.BOTTOM_LEFT:default:return new Id(new me(f,d),new me(f-a,d),new me(n,e+u),new me(n,e))}},Sh=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},y7=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},Uh=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},B7=(function(){function n(e,t,A){this.offsetX=e,this.offsetY=t,this.matrix=A,this.type=0,this.target=6}return n})(),Sd=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),v7=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),w7=function(n){return n.type===0},db=function(n){return n.type===1},C7=function(n){return n.type===2},CS=function(n,e){return n.length===e.length?n.some(function(t,A){return t===e[A]}):!1},E7=function(n,e,t,A,i){return n.map(function(o,a){switch(a){case 0:return o.add(e,t);case 1:return o.add(e+A,t);case 2:return o.add(e+A,t+i);case 3:return o.add(e,t+i)}return o})},hb=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),gb=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new m7(this.container),this.container.styles.opacity<1&&this.effects.push(new v7(this.container.styles.opacity)),this.container.styles.transform!==null){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new B7(A,i,o))}if(this.container.styles.overflowX!==0){var a=Sh(this.curves),u=Uh(this.curves);CS(a,u)?this.effects.push(new Sd(a,6)):(this.effects.push(new Sd(a,2)),this.effects.push(new Sd(u,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,A=this.parent,i=this.effects.slice(0);A;){var o=A.effects.filter(function(f){return!db(f)});if(t||A.container.styles.position!==0||!A.parent){if(i.unshift.apply(i,o),t=[2,3].indexOf(A.container.styles.position)===-1,A.container.styles.overflowX!==0){var a=Sh(A.curves),u=Uh(A.curves);CS(a,u)||i.unshift(new Sd(u,6))}}else i.unshift.apply(i,o);A=A.parent}return i.filter(function(f){return gn(f.target,e)})},n})(),d0=function(n,e,t,A){n.container.elements.forEach(function(i){var o=gn(i.flags,4),a=gn(i.flags,2),u=new gb(i,n);gn(i.styles.display,2048)&&A.push(u);var f=gn(i.flags,8)?[]:A;if(o||a){var d=o||i.styles.isPositioned()?t:e,m=new hb(u);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var v=i.styles.zIndex.order;if(v<0){var w=0;d.negativeZIndex.some(function(Q,D){return v>Q.element.container.styles.zIndex.order?(w=D,!1):w>0}),d.negativeZIndex.splice(w,0,m)}else if(v>0){var T=0;d.positiveZIndex.some(function(Q,D){return v>=Q.element.container.styles.zIndex.order?(T=D+1,!1):T>0}),d.positiveZIndex.splice(T,0,m)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(m)}else i.styles.isFloating()?d.nonPositionedFloats.push(m):d.nonPositionedInlineLevel.push(m);d0(u,m,o?m:t,f)}else i.styles.isInlineLevel()?e.inlineLevel.push(u):e.nonInlineLevel.push(u),d0(u,e,t,f);gn(i.flags,8)&&pb(i,f)})},pb=function(n,e){for(var t=n instanceof a0?n.start:1,A=n instanceof a0?n.reversed:!1,i=0;i<e.length;i++){var o=e[i];o.container instanceof jR&&typeof o.container.value=="number"&&o.container.value!==0&&(t=o.container.value),o.listValue=gc(t,o.container.styles.listStyleType,!0),t+=A?-1:1}},_7=function(n){var e=new gb(n,null),t=new hb(e),A=[];return d0(e,t,t,A),pb(e.container,A),t},ES=function(n,e){switch(e){case 0:return jA(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return jA(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return jA(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return jA(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},T7=function(n,e){switch(e){case 0:return jA(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return jA(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return jA(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return jA(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},I7=function(n,e){switch(e){case 0:return jA(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return jA(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return jA(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return jA(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},S7=function(n,e){switch(e){case 0:return Ud(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return Ud(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return Ud(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return Ud(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},Ud=function(n,e){var t=[];return XA(n)?t.push(n.subdivide(.5,!1)):t.push(n),XA(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},jA=function(n,e,t,A){var i=[];return XA(n)?i.push(n.subdivide(.5,!1)):i.push(n),XA(t)?i.push(t.subdivide(.5,!0)):i.push(t),XA(A)?i.push(A.subdivide(.5,!0).reverse()):i.push(A),XA(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},mb=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Fh=function(n){var e=n.styles,t=n.bounds,A=Ut(e.paddingLeft,t.width),i=Ut(e.paddingRight,t.width),o=Ut(e.paddingTop,t.width),a=Ut(e.paddingBottom,t.width);return t.add(A+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+A+i),-(e.borderTopWidth+e.borderBottomWidth+o+a))},U7=function(n,e){return n===0?e.bounds:n===2?Fh(e):mb(e)},F7=function(n,e){return n===0?e.bounds:n===2?Fh(e):mb(e)},ey=function(n,e,t){var A=U7(Za(n.styles.backgroundOrigin,e),n),i=F7(Za(n.styles.backgroundClip,e),n),o=Q7(Za(n.styles.backgroundSize,e),t,A),a=o[0],u=o[1],f=Gu(Za(n.styles.backgroundPosition,e),A.width-a,A.height-u),d=R7(Za(n.styles.backgroundRepeat,e),f,o,A,i),m=Math.round(A.left+f[0]),v=Math.round(A.top+f[1]);return[d,m,v,a,u]},qa=function(n){return wt(n)&&n.value===cl.AUTO},Fd=function(n){return typeof n=="number"},Q7=function(n,e,t){var A=e[0],i=e[1],o=e[2],a=n[0],u=n[1];if(!a)return[0,0];if(un(a)&&u&&un(u))return[Ut(a,t.width),Ut(u,t.height)];var f=Fd(o);if(wt(a)&&(a.value===cl.CONTAIN||a.value===cl.COVER)){if(Fd(o)){var d=t.width/t.height;return d<o!=(a.value===cl.COVER)?[t.width,t.width/o]:[t.height*o,t.height]}return[t.width,t.height]}var m=Fd(A),v=Fd(i),w=m||v;if(qa(a)&&(!u||qa(u))){if(m&&v)return[A,i];if(!f&&!w)return[t.width,t.height];if(w&&f){var T=m?A:i*o,Q=v?i:A/o;return[T,Q]}var D=m?A:t.width,M=v?i:t.height;return[D,M]}if(f){var k=0,G=0;return un(a)?k=Ut(a,t.width):un(u)&&(G=Ut(u,t.height)),qa(a)?k=G*o:(!u||qa(u))&&(G=k/o),[k,G]}var X=null,te=null;if(un(a)?X=Ut(a,t.width):u&&un(u)&&(te=Ut(u,t.height)),X!==null&&(!u||qa(u))&&(te=m&&v?X/A*i:t.height),te!==null&&qa(a)&&(X=m&&v?te/i*A:t.width),X!==null&&te!==null)return[X,te];throw new Error("Unable to calculate background-size for element")},Za=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},R7=function(n,e,t,A,i){var o=e[0],a=e[1],u=t[0],f=t[1];switch(n){case 2:return[new me(Math.round(A.left),Math.round(A.top+a)),new me(Math.round(A.left+A.width),Math.round(A.top+a)),new me(Math.round(A.left+A.width),Math.round(f+A.top+a)),new me(Math.round(A.left),Math.round(f+A.top+a))];case 3:return[new me(Math.round(A.left+o),Math.round(A.top)),new me(Math.round(A.left+o+u),Math.round(A.top)),new me(Math.round(A.left+o+u),Math.round(A.height+A.top)),new me(Math.round(A.left+o),Math.round(A.height+A.top))];case 1:return[new me(Math.round(A.left+o),Math.round(A.top+a)),new me(Math.round(A.left+o+u),Math.round(A.top+a)),new me(Math.round(A.left+o+u),Math.round(A.top+a+f)),new me(Math.round(A.left+o),Math.round(A.top+a+f))];default:return[new me(Math.round(i.left),Math.round(i.top)),new me(Math.round(i.left+i.width),Math.round(i.top)),new me(Math.round(i.left+i.width),Math.round(i.height+i.top)),new me(Math.round(i.left),Math.round(i.height+i.top))]}},b7="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",_S="Hidden Text",x7=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var A=this._document.createElement("div"),i=this._document.createElement("img"),o=this._document.createElement("span"),a=this._document.body;A.style.visibility="hidden",A.style.fontFamily=e,A.style.fontSize=t,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",a.appendChild(A),i.src=b7,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(_S)),A.appendChild(o),A.appendChild(i);var u=i.offsetTop-o.offsetTop+2;A.removeChild(o),A.appendChild(this._document.createTextNode(_S)),A.style.lineHeight="normal",i.style.verticalAlign="super";var f=i.offsetTop-A.offsetTop+2;return a.removeChild(A),{baseline:u,middle:f}},n.prototype.getMetrics=function(e,t){var A=e+" "+t;return typeof this._data[A]>"u"&&(this._data[A]=this.parseMetrics(e,t)),this._data[A]},n})(),yb=(function(){function n(e,t){this.context=e,this.options=t}return n})(),N7=1e4,D7=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i._activeEffects=[],i.canvas=A.canvas?A.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),A.canvas||(i.canvas.width=Math.floor(A.width*A.scale),i.canvas.height=Math.floor(A.height*A.scale),i.canvas.style.width=A.width+"px",i.canvas.style.height=A.height+"px"),i.fontMetrics=new x7(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-A.x,-A.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),i}return e.prototype.applyEffects=function(t){for(var A=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return A.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),C7(t)&&(this.ctx.globalAlpha=t.opacity),w7(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),db(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Wn(this,void 0,void 0,function(){var A;return Ln(this,function(i){switch(i.label){case 0:return A=t.element.container.styles,A.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Wn(this,void 0,void 0,function(){return Ln(this,function(A){switch(A.label){case 0:if(gn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return A.sent(),[4,this.renderNodeContent(t)];case 2:A.sent(),A.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,A,i){var o=this;if(A===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=UB(t.text);a.reduce(function(u,f){return o.ctx.fillText(f,u,t.bounds.top+i),u+o.ctx.measureText(f).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var A=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=V7(t.fontFamily).join(", "),o=Qc(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,A,t.fontWeight,o,i].join(" "),i,o]},e.prototype.renderTextNode=function(t,A){return Wn(this,void 0,void 0,function(){var i,o,a,u,f,d,m,v,w=this;return Ln(this,function(T){return i=this.createFontStyle(A),o=i[0],a=i[1],u=i[2],this.ctx.font=o,this.ctx.direction=A.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",f=this.fontMetrics.getMetrics(a,u),d=f.baseline,m=f.middle,v=A.paintOrder,t.textBounds.forEach(function(Q){v.forEach(function(D){switch(D){case 0:w.ctx.fillStyle=Bn(A.color),w.renderTextWithLetterSpacing(Q,A.letterSpacing,d);var M=A.textShadow;M.length&&Q.text.trim().length&&(M.slice(0).reverse().forEach(function(k){w.ctx.shadowColor=Bn(k.color),w.ctx.shadowOffsetX=k.offsetX.number*w.options.scale,w.ctx.shadowOffsetY=k.offsetY.number*w.options.scale,w.ctx.shadowBlur=k.blur.number,w.renderTextWithLetterSpacing(Q,A.letterSpacing,d)}),w.ctx.shadowColor="",w.ctx.shadowOffsetX=0,w.ctx.shadowOffsetY=0,w.ctx.shadowBlur=0),A.textDecorationLine.length&&(w.ctx.fillStyle=Bn(A.textDecorationColor||A.color),A.textDecorationLine.forEach(function(k){switch(k){case 1:w.ctx.fillRect(Q.bounds.left,Math.round(Q.bounds.top+d),Q.bounds.width,1);break;case 2:w.ctx.fillRect(Q.bounds.left,Math.round(Q.bounds.top),Q.bounds.width,1);break;case 3:w.ctx.fillRect(Q.bounds.left,Math.ceil(Q.bounds.top+m),Q.bounds.width,1);break}}));break;case 1:A.webkitTextStrokeWidth&&Q.text.trim().length&&(w.ctx.strokeStyle=Bn(A.webkitTextStrokeColor),w.ctx.lineWidth=A.webkitTextStrokeWidth,w.ctx.lineJoin=window.chrome?"miter":"round",w.ctx.strokeText(Q.text,Q.bounds.left,Q.bounds.top+d)),w.ctx.strokeStyle="",w.ctx.lineWidth=0,w.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,A,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var o=Fh(t),a=Uh(A);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Wn(this,void 0,void 0,function(){var A,i,o,a,u,f,G,G,d,m,v,w,te,T,Q,re,D,M,k,G,X,te,re;return Ln(this,function($){switch($.label){case 0:this.applyEffects(t.getEffects(4)),A=t.container,i=t.curves,o=A.styles,a=0,u=A.textNodes,$.label=1;case 1:return a<u.length?(f=u[a],[4,this.renderTextNode(f,o)]):[3,4];case 2:$.sent(),$.label=3;case 3:return a++,[3,1];case 4:if(!(A instanceof WR))return[3,8];$.label=5;case 5:return $.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return G=$.sent(),this.renderReplacedElement(A,i,G),[3,8];case 7:return $.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof $R&&this.renderReplacedElement(A,i,A.canvas),!(A instanceof ZR))return[3,12];$.label=9;case 9:return $.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return G=$.sent(),this.renderReplacedElement(A,i,G),[3,12];case 11:return $.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof nb&&A.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}),[4,d.render(A.tree)]):[3,14];case 13:m=$.sent(),A.width&&A.height&&this.ctx.drawImage(m,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),$.label=14;case 14:if(A instanceof FB&&(v=Math.min(A.bounds.width,A.bounds.height),A.type===Eh?A.checked&&(this.ctx.save(),this.path([new me(A.bounds.left+v*.39363,A.bounds.top+v*.79),new me(A.bounds.left+v*.16,A.bounds.top+v*.5549),new me(A.bounds.left+v*.27347,A.bounds.top+v*.44071),new me(A.bounds.left+v*.39694,A.bounds.top+v*.5649),new me(A.bounds.left+v*.72983,A.bounds.top+v*.23),new me(A.bounds.left+v*.84,A.bounds.top+v*.34085),new me(A.bounds.left+v*.39363,A.bounds.top+v*.79)]),this.ctx.fillStyle=Bn(cS),this.ctx.fill(),this.ctx.restore()):A.type===_h&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+v/2,A.bounds.top+v/2,v/4,0,Math.PI*2,!0),this.ctx.fillStyle=Bn(cS),this.ctx.fill(),this.ctx.restore())),M7(A)&&A.value.length){switch(w=this.createFontStyle(o),te=w[0],T=w[1],Q=this.fontMetrics.getMetrics(te,T).baseline,this.ctx.font=te,this.ctx.fillStyle=Bn(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=H7(A.styles.textAlign),re=Fh(A),D=0,A.styles.textAlign){case 1:D+=re.width/2;break;case 2:D+=re.width;break}M=re.add(D,0,0,-re.height/2+1),this.ctx.save(),this.path([new me(re.left,re.top),new me(re.left+re.width,re.top),new me(re.left+re.width,re.top+re.height),new me(re.left,re.top+re.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new nc(A.value,M),o.letterSpacing,Q),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!gn(A.styles.display,2048))return[3,20];if(A.styles.listStyleImage===null)return[3,19];if(k=A.styles.listStyleImage,k.type!==0)return[3,18];G=void 0,X=k.url,$.label=15;case 15:return $.trys.push([15,17,,18]),[4,this.context.cache.match(X)];case 16:return G=$.sent(),this.ctx.drawImage(G,A.bounds.left-(G.width+10),A.bounds.top),[3,18];case 17:return $.sent(),this.context.logger.error("Error loading list-style-image "+X),[3,18];case 18:return[3,20];case 19:t.listValue&&A.styles.listStyleType!==-1&&(te=this.createFontStyle(o)[0],this.ctx.font=te,this.ctx.fillStyle=Bn(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",re=new Ni(A.bounds.left,A.bounds.top+Ut(A.styles.paddingTop,A.bounds.width),A.bounds.width,YI(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new nc(t.listValue,re),o.letterSpacing,YI(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),$.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Wn(this,void 0,void 0,function(){var A,i,k,o,a,k,u,f,k,d,m,k,v,w,k,T,Q,k,D,M,k;return Ln(this,function(G){switch(G.label){case 0:if(gn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:G.sent(),A=0,i=t.negativeZIndex,G.label=2;case 2:return A<i.length?(k=i[A],[4,this.renderStack(k)]):[3,5];case 3:G.sent(),G.label=4;case 4:return A++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:G.sent(),o=0,a=t.nonInlineLevel,G.label=7;case 7:return o<a.length?(k=a[o],[4,this.renderNode(k)]):[3,10];case 8:G.sent(),G.label=9;case 9:return o++,[3,7];case 10:u=0,f=t.nonPositionedFloats,G.label=11;case 11:return u<f.length?(k=f[u],[4,this.renderStack(k)]):[3,14];case 12:G.sent(),G.label=13;case 13:return u++,[3,11];case 14:d=0,m=t.nonPositionedInlineLevel,G.label=15;case 15:return d<m.length?(k=m[d],[4,this.renderStack(k)]):[3,18];case 16:G.sent(),G.label=17;case 17:return d++,[3,15];case 18:v=0,w=t.inlineLevel,G.label=19;case 19:return v<w.length?(k=w[v],[4,this.renderNode(k)]):[3,22];case 20:G.sent(),G.label=21;case 21:return v++,[3,19];case 22:T=0,Q=t.zeroOrAutoZIndexOrTransformedOrOpacity,G.label=23;case 23:return T<Q.length?(k=Q[T],[4,this.renderStack(k)]):[3,26];case 24:G.sent(),G.label=25;case 25:return T++,[3,23];case 26:D=0,M=t.positiveZIndex,G.label=27;case 27:return D<M.length?(k=M[D],[4,this.renderStack(k)]):[3,30];case 28:G.sent(),G.label=29;case 29:return D++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var A=this;t.forEach(function(i,o){var a=XA(i)?i.start:i;o===0?A.ctx.moveTo(a.x,a.y):A.ctx.lineTo(a.x,a.y),XA(i)&&A.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,A,i,o){this.path(t),this.ctx.fillStyle=A,this.ctx.translate(i,o),this.ctx.fill(),this.ctx.translate(-i,-o)},e.prototype.resizeImage=function(t,A,i){var o;if(t.width===A&&t.height===i)return t;var a=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,u=a.createElement("canvas");u.width=Math.max(1,A),u.height=Math.max(1,i);var f=u.getContext("2d");return f.drawImage(t,0,0,t.width,t.height,0,0,A,i),u},e.prototype.renderBackgroundImage=function(t){return Wn(this,void 0,void 0,function(){var A,i,o,a,u,f;return Ln(this,function(d){switch(d.label){case 0:A=t.styles.backgroundImage.length-1,i=function(m){var v,w,T,N,q,ue,x,Ie,R,Q,N,q,ue,x,Ie,D,M,k,G,X,te,re,$,b,R,U,N,L,V,x,Ie,Je,q,ue,we,De,Oe,P,ne,ce,he,_e;return Ln(this,function(Se){switch(Se.label){case 0:if(m.type!==0)return[3,5];v=void 0,w=m.url,Se.label=1;case 1:return Se.trys.push([1,3,,4]),[4,o.context.cache.match(w)];case 2:return v=Se.sent(),[3,4];case 3:return Se.sent(),o.context.logger.error("Error loading background-image "+w),[3,4];case 4:return v&&(T=ey(t,A,[v.width,v.height,v.width/v.height]),N=T[0],q=T[1],ue=T[2],x=T[3],Ie=T[4],R=o.ctx.createPattern(o.resizeImage(v,x,Ie),"repeat"),o.renderRepeat(N,R,q,ue)),[3,6];case 5:w8(m)?(Q=ey(t,A,[null,null,null]),N=Q[0],q=Q[1],ue=Q[2],x=Q[3],Ie=Q[4],D=p8(m.angle,x,Ie),M=D[0],k=D[1],G=D[2],X=D[3],te=D[4],re=document.createElement("canvas"),re.width=x,re.height=Ie,$=re.getContext("2d"),b=$.createLinearGradient(k,X,G,te),zI(m.stops,M).forEach(function(ke){return b.addColorStop(ke.stop,Bn(ke.color))}),$.fillStyle=b,$.fillRect(0,0,x,Ie),x>0&&Ie>0&&(R=o.ctx.createPattern(re,"repeat"),o.renderRepeat(N,R,q,ue))):C8(m)&&(U=ey(t,A,[null,null,null]),N=U[0],L=U[1],V=U[2],x=U[3],Ie=U[4],Je=m.position.length===0?[TB]:m.position,q=Ut(Je[0],x),ue=Ut(Je[Je.length-1],Ie),we=m8(m,q,ue,x,Ie),De=we[0],Oe=we[1],De>0&&Oe>0&&(P=o.ctx.createRadialGradient(L+q,V+ue,0,L+q,V+ue,De),zI(m.stops,De*2).forEach(function(ke){return P.addColorStop(ke.stop,Bn(ke.color))}),o.path(N),o.ctx.fillStyle=P,De!==Oe?(ne=t.bounds.left+.5*t.bounds.width,ce=t.bounds.top+.5*t.bounds.height,he=Oe/De,_e=1/he,o.ctx.save(),o.ctx.translate(ne,ce),o.ctx.transform(1,0,0,he,0,0),o.ctx.translate(-ne,-ce),o.ctx.fillRect(L,_e*(V-ce)+ce,x,Ie*_e),o.ctx.restore()):o.ctx.fill())),Se.label=6;case 6:return A--,[2]}})},o=this,a=0,u=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return a<u.length?(f=u[a],[5,i(f)]):[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,A,i){return Wn(this,void 0,void 0,function(){return Ln(this,function(o){return this.path(ES(i,A)),this.ctx.fillStyle=Bn(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,A,i,o){return Wn(this,void 0,void 0,function(){var a,u;return Ln(this,function(f){switch(f.label){case 0:return A<3?[4,this.renderSolidBorder(t,i,o)]:[3,2];case 1:return f.sent(),[2];case 2:return a=T7(o,i),this.path(a),this.ctx.fillStyle=Bn(t),this.ctx.fill(),u=I7(o,i),this.path(u),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Wn(this,void 0,void 0,function(){var A,i,o,a,u,f,d,m,v=this;return Ln(this,function(w){switch(w.label){case 0:return this.applyEffects(t.getEffects(2)),A=t.container.styles,i=!Ls(A.backgroundColor)||A.backgroundImage.length,o=[{style:A.borderTopStyle,color:A.borderTopColor,width:A.borderTopWidth},{style:A.borderRightStyle,color:A.borderRightColor,width:A.borderRightWidth},{style:A.borderBottomStyle,color:A.borderBottomColor,width:A.borderBottomWidth},{style:A.borderLeftStyle,color:A.borderLeftColor,width:A.borderLeftWidth}],a=L7(Za(A.backgroundClip,0),t.curves),i||A.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ls(A.backgroundColor)||(this.ctx.fillStyle=Bn(A.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:w.sent(),this.ctx.restore(),A.boxShadow.slice(0).reverse().forEach(function(T){v.ctx.save();var Q=Sh(t.curves),D=T.inset?0:N7,M=E7(Q,-D+(T.inset?1:-1)*T.spread.number,(T.inset?1:-1)*T.spread.number,T.spread.number*(T.inset?-2:2),T.spread.number*(T.inset?-2:2));T.inset?(v.path(Q),v.ctx.clip(),v.mask(M)):(v.mask(Q),v.ctx.clip(),v.path(M)),v.ctx.shadowOffsetX=T.offsetX.number+D,v.ctx.shadowOffsetY=T.offsetY.number,v.ctx.shadowColor=Bn(T.color),v.ctx.shadowBlur=T.blur.number,v.ctx.fillStyle=T.inset?Bn(T.color):"rgba(0,0,0,1)",v.ctx.fill(),v.ctx.restore()}),w.label=2;case 2:u=0,f=0,d=o,w.label=3;case 3:return f<d.length?(m=d[f],m.style!==0&&!Ls(m.color)&&m.width>0?m.style!==2?[3,5]:[4,this.renderDashedDottedBorder(m.color,m.width,u,t.curves,2)]:[3,11]):[3,13];case 4:return w.sent(),[3,11];case 5:return m.style!==3?[3,7]:[4,this.renderDashedDottedBorder(m.color,m.width,u,t.curves,3)];case 6:return w.sent(),[3,11];case 7:return m.style!==4?[3,9]:[4,this.renderDoubleBorder(m.color,m.width,u,t.curves)];case 8:return w.sent(),[3,11];case 9:return[4,this.renderSolidBorder(m.color,u,t.curves)];case 10:w.sent(),w.label=11;case 11:u++,w.label=12;case 12:return f++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,A,i,o,a){return Wn(this,void 0,void 0,function(){var u,f,d,m,v,w,T,Q,D,M,k,G,X,te,re,$,re,$;return Ln(this,function(b){return this.ctx.save(),u=S7(o,i),f=ES(o,i),a===2&&(this.path(f),this.ctx.clip()),XA(f[0])?(d=f[0].start.x,m=f[0].start.y):(d=f[0].x,m=f[0].y),XA(f[1])?(v=f[1].end.x,w=f[1].end.y):(v=f[1].x,w=f[1].y),i===0||i===2?T=Math.abs(d-v):T=Math.abs(m-w),this.ctx.beginPath(),a===3?this.formatPath(u):this.formatPath(f.slice(0,2)),Q=A<3?A*3:A*2,D=A<3?A*2:A,a===3&&(Q=A,D=A),M=!0,T<=Q*2?M=!1:T<=Q*2+D?(k=T/(2*Q+D),Q*=k,D*=k):(G=Math.floor((T+D)/(Q+D)),X=(T-G*Q)/(G-1),te=(T-(G+1)*Q)/G,D=te<=0||Math.abs(D-X)<Math.abs(D-te)?X:te),M&&(a===3?this.ctx.setLineDash([0,Q+D]):this.ctx.setLineDash([Q,D])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=A):this.ctx.lineWidth=A*2+1.1,this.ctx.strokeStyle=Bn(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(XA(f[0])&&(re=f[3],$=f[0],this.ctx.beginPath(),this.formatPath([new me(re.end.x,re.end.y),new me($.start.x,$.start.y)]),this.ctx.stroke()),XA(f[1])&&(re=f[1],$=f[2],this.ctx.beginPath(),this.formatPath([new me(re.end.x,re.end.y),new me($.start.x,$.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Wn(this,void 0,void 0,function(){var A;return Ln(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Bn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),A=_7(t),[4,this.renderStack(A)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(yb),M7=function(n){return n instanceof tb||n instanceof eb?!0:n instanceof FB&&n.type!==_h&&n.type!==Eh},L7=function(n,e){switch(n){case 0:return Sh(e);case 2:return y7(e);case 1:default:return Uh(e)}},H7=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},P7=["-apple-system","system-ui"],V7=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return P7.indexOf(e)===-1}):n},O7=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.canvas=A.canvas?A.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=A,i.canvas.width=Math.floor(A.width*A.scale),i.canvas.height=Math.floor(A.height*A.scale),i.canvas.style.width=A.width+"px",i.canvas.style.height=A.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-A.x,-A.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),i}return e.prototype.render=function(t){return Wn(this,void 0,void 0,function(){var A,i;return Ln(this,function(o){switch(o.label){case 0:return A=o0(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,k7(A)];case 1:return i=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Bn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(yb),k7=function(n){return new Promise(function(e,t){var A=new Image;A.onload=function(){e(A)},A.onerror=t,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},K7=(function(){function n(e){var t=e.id,A=e.enabled;this.id=t,this.enabled=A,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,od([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,od([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,od([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,od([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),G7=(function(){function n(e,t){var A;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new K7({id:this.instanceName,enabled:e.logging}),this.cache=(A=e.cache)!==null&&A!==void 0?A:new u7(this,e)}return n.instanceCount=1,n})(),q7=function(n,e){return e===void 0&&(e={}),z7(n,e)};typeof window<"u"&&fb.setContext(window);var z7=function(n,e){return Wn(void 0,void 0,void 0,function(){var t,A,i,o,a,u,f,d,m,v,w,T,Q,D,M,k,G,X,te,re,b,$,b,R,U,N,L,V,x,Ie,Je,q,ue,we,De,Oe,P,ne,ce,he;return Ln(this,function(_e){switch(_e.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(A=t.defaultView,!A)throw new Error("Document is not attached to a Window");return i={allowTaint:(R=e.allowTaint)!==null&&R!==void 0?R:!1,imageTimeout:(U=e.imageTimeout)!==null&&U!==void 0?U:15e3,proxy:e.proxy,useCORS:(N=e.useCORS)!==null&&N!==void 0?N:!1},o=zy({logging:(L=e.logging)!==null&&L!==void 0?L:!0,cache:e.cache},i),a={windowWidth:(V=e.windowWidth)!==null&&V!==void 0?V:A.innerWidth,windowHeight:(x=e.windowHeight)!==null&&x!==void 0?x:A.innerHeight,scrollX:(Ie=e.scrollX)!==null&&Ie!==void 0?Ie:A.pageXOffset,scrollY:(Je=e.scrollY)!==null&&Je!==void 0?Je:A.pageYOffset},u=new Ni(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),f=new G7(o,u),d=(q=e.foreignObjectRendering)!==null&&q!==void 0?q:!1,m={allowTaint:(ue=e.allowTaint)!==null&&ue!==void 0?ue:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},f.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),v=new vS(f,n,m),w=v.clonedReferenceElement,w?[4,v.toIFrame(t,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return T=_e.sent(),Q=QB(w)||Jz(w)?E6(w.ownerDocument):ag(f,w),D=Q.width,M=Q.height,k=Q.left,G=Q.top,X=J7(f,w,e.backgroundColor),te={canvas:e.canvas,backgroundColor:X,scale:(De=(we=e.scale)!==null&&we!==void 0?we:A.devicePixelRatio)!==null&&De!==void 0?De:1,x:((Oe=e.x)!==null&&Oe!==void 0?Oe:0)+k,y:((P=e.y)!==null&&P!==void 0?P:0)+G,width:(ne=e.width)!==null&&ne!==void 0?ne:Math.ceil(D),height:(ce=e.height)!==null&&ce!==void 0?ce:Math.ceil(M)},d?(f.logger.debug("Document cloned, using foreign object rendering"),b=new O7(f,te),[4,b.render(w)]):[3,3];case 2:return re=_e.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+k+","+G+" with size "+D+"x"+M+" using computed rendering"),f.logger.debug("Starting DOM parsing"),$=rb(f,w),X===$.styles.backgroundColor&&($.styles.backgroundColor=Ui.TRANSPARENT),f.logger.debug("Starting renderer for element at "+te.x+","+te.y+" with size "+te.width+"x"+te.height),b=new D7(f,te),[4,b.render($)];case 4:re=_e.sent(),_e.label=5;case 5:return(!((he=e.removeContainer)!==null&&he!==void 0)||he)&&(vS.destroy(T)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,re]}})})},J7=function(n,e,t){var A=e.ownerDocument,i=A.documentElement?ec(n,getComputedStyle(A.documentElement).backgroundColor):Ui.TRANSPARENT,o=A.body?ec(n,getComputedStyle(A.body).backgroundColor):Ui.TRANSPARENT,a=typeof t=="string"?ec(n,t):t===null?Ui.TRANSPARENT:4294967295;return e===A.documentElement?Ls(i)?Ls(o)?a:o:i:a};const TS=["","","","","","","","","","","","","","","","","","","",""],Y7=()=>{const[n,e]=Me.useState(Re.LANDING),[t,A]=Me.useState("FLAVOR"),[i,o]=Me.useState("zh"),[a,u]=Me.useState("Traditional Chinese"),[f,d]=Me.useState(!1),[m,v]=Me.useState(null),[w,T]=Me.useState(!0),[Q,D]=Me.useState("login"),[M,k]=Me.useState(""),[G,X]=Me.useState(""),[te,re]=Me.useState(""),[$,b]=Me.useState(!1),[R,U]=Me.useState([]),[N,L]=Me.useState(null),[V,x]=Me.useState([]),[Ie,Je]=Me.useState([]),[q,ue]=Me.useState(null),[we,De]=Me.useState(null),[Oe,P]=Me.useState(""),[ne,ce]=Me.useState(""),[he,_e]=Me.useState(!1),[Se,ke]=Me.useState(null),[Nt,pt]=Me.useState(""),[Kn,Er]=Me.useState(""),[_r,Wr]=Me.useState(!1),[Cn,Hi]=Me.useState(!1),[Pi,$r]=Me.useState(""),[Vi,Vt]=Me.useState(0),[Ot,fA]=Me.useState(0),[Oi,$o]=Me.useState({}),[Ft,jn]=Me.useState(""),[ki,Zs]=Me.useState(""),[dn,bl]=Me.useState(!0),[js,Zo]=Me.useState(""),[jo,eA]=Me.useState(""),kt=Me.useRef(null),Gn=Me.useRef(null),Qt=Me.useRef({}),Ki=Me.useRef(null),UA=Me.useRef({text:"",count:0}),ae=o1[i],dA=[ae.loadingFlavor,ae.loadingFlavor1,ae.loadingFlavor2,ae.loadingFlavor3,ae.loadingFlavor4,ae.loadingFlavor5],Tr=[ae.loadingWord,ae.loadingWord1,ae.loadingWord2,ae.loadingWord3,ae.loadingWord4,ae.loadingWord5];Me.useEffect(()=>{if([Re.LOADING,Re.CHECKOUT,Re.RECEIPT].includes(n)){Zo(TS[Math.floor(Math.random()*TS.length)]);const ee=t==="FLAVOR"?ae.flavorFacts:ae.wordFacts;Array.isArray(ee)?eA(ee[Math.floor(Math.random()*ee.length)]):eA(ee)}},[n,t,ae.flavorFacts,ae.wordFacts]),Me.useEffect(()=>{window.speechSynthesis.cancel(),UA.current={text:"",count:0}},[n]),Me.useEffect(()=>{const ee=localStorage.getItem("flavorpal_saved_email");ee&&(k(ee),b(!0));const pe=p6(async de=>{if(v(de),de){T(!1);const Ee=await w6();Je(Ee);const Qe=localStorage.getItem("flavorpal_api_key");Qe&&jn(Qe);const ze=await y6();ze.apiKey?(jn(ze.apiKey),localStorage.setItem("flavorpal_api_key",ze.apiKey)):Qe||(jn(""),d(!0))}else T(!0),Je([]),jn("")});return()=>pe()},[]);const Kt=async ee=>{ee.preventDefault(),re("");try{Q==="login"?(await h6(M,G),$?localStorage.setItem("flavorpal_saved_email",M):localStorage.removeItem("flavorpal_saved_email")):await d6(M,G)}catch(pe){console.error(pe),re(ae.authError+(pe.message?` (${pe.message})`:""))}},FA=async()=>{await g6(),localStorage.removeItem("flavorpal_api_key"),d(!1)};Me.useEffect(()=>{const ee=localStorage.getItem("flavorpal_ui_lang"),pe=localStorage.getItem("flavorpal_target_lang");(ee==="en"||ee==="zh")&&o(ee),pe&&u(pe)},[]);const QA=async()=>{const ee=ki.trim();ee&&(localStorage.setItem("flavorpal_api_key",ee),jn(ee),await m6(ee)),localStorage.setItem("flavorpal_ui_lang",i),localStorage.setItem("flavorpal_target_lang",a),d(!1)};Me.useEffect(()=>{if(n===Re.LOADING){const ee=t==="FLAVOR"?dA:Tr,pe=setInterval(()=>{Vt(de=>(de+1)%ee.length)},2e3);return()=>clearInterval(pe)}},[n,t]);const hA=async()=>{var pe;if(R.length===0)return;if(!Ft){d(!0);return}e(Re.LOADING),fA(0);const ee=setInterval(()=>{fA(de=>{if(de>=90)return de;const Ee=Math.max(1,(90-de)/10);return de+Math.random()*Ee})},200);try{if(t==="FLAVOR"){const de=await y2(R,Ft,a);clearInterval(ee),fA(100),Oe.trim()?de.restaurant_name=Oe.trim():de.restaurant_name="",ne.trim()?de.restaurant_address=ne.trim():Oe.trim()||(de.restaurant_address=""),L(de);const Ee=Array.from(new Set(de.items.map(ze=>ze.currency_original))),Qe={};for(const ze of Ee)Qe[ze]=await w2(ze);$o(Qe),setTimeout(()=>{e(Re.MENU)},500)}else{const de=await B2(R,Ft,a);clearInterval(ee),fA(100),ke(de),setTimeout(()=>{e(Re.WORDPAL_RESULT)},500)}}catch(de){clearInterval(ee),console.error("AI Analysis failed:",de),alert(ae.failedAnalyze),((pe=de==null?void 0:de.message)!=null&&pe.includes("403")||de!=null&&de.toString().includes("API key"))&&(jn(""),d(!0)),e(t==="FLAVOR"?Re.UPLOAD:Re.WORDPAL_UPLOAD)}},xl=async()=>{if(!(!Nt.trim()||Cn)){if(!Ft){d(!0);return}Hi(!0);try{const ee=await v2(Nt,Ft);Er(ee.translated_text),$r(ee.detected_language)}catch(ee){console.error(ee),alert(ae.failedAnalyze)}finally{Hi(!1)}}},ea=ee=>{x(pe=>pe.find(Ee=>Ee.id===ee.name_original)?pe.map(Ee=>Ee.id===ee.name_original?{...Ee,quantity:Ee.quantity+1}:Ee):[...pe,{...ee,id:ee.name_original,quantity:1}])},RA=ee=>{x(pe=>{const de=pe.find(Ee=>Ee.id===ee.name_original);return de&&de.quantity>1?pe.map(Ee=>Ee.id===ee.name_original?{...Ee,quantity:Ee.quantity-1}:Ee):pe.filter(Ee=>Ee.id!==ee.name_original)})},Zr=async()=>{var Ee;if(!N)return;const ee=V.reduce((Qe,ze)=>Qe+ze.price_original*ze.quantity,0),pe=V.reduce((Qe,ze)=>Qe+ze.price_original*ze.quantity*(Oi[ze.currency_original]||1),0),de={id:Math.random().toString(36).substr(2,9),date:new Date().toLocaleDateString(),restaurant_name:N.restaurant_name,restaurant_address:N.restaurant_address,items:[...V],total_original:ee,currency_original:((Ee=V[0])==null?void 0:Ee.currency_original)||"HKD",total_hkd:pe,detected_language:N.detected_language};Je(Qe=>[de,...Qe]),B6(de),x([]),U([]),P(""),ce(""),e(Re.HOME)},eo=async(ee,pe)=>{if(n===Re.CHECKOUT&&N)L({...N,[ee]:pe});else if(n===Re.RECEIPT&&q){const de={...q,[ee]:pe};ue(de),Je(Ee=>Ee.map(Qe=>Qe.id===de.id?de:Qe)),await v6(de)}},jr=async ee=>{De(ee)},to=async()=>{if(!we)return;const ee=we;Je(pe=>pe.filter(de=>de.id!==ee)),C6(ee),De(null)},no=async()=>{if(Ki.current)try{const pe=(await q7(Ki.current,{backgroundColor:"#0f172a",scale:3,useCORS:!0,onclone:Ee=>{const Qe=Ee.getElementById("receipt-container");if(Qe){Qe.style.display="block",Qe.style.padding="40px";const ze=Ee.getElementById("receipt-total");ze&&(ze.style.marginTop="40px",ze.style.paddingTop="20px",ze.style.borderTop="2px solid #1e293b");const mn=Ee.getElementById("receipt-inputs");mn&&(mn.style.marginTop="40px",mn.style.padding="20px",mn.style.background="rgba(15, 23, 42, 0.5)",mn.style.borderRadius="16px"),Qe.querySelectorAll("input").forEach(zt=>{const rt=Ee.createElement("p");if(rt.textContent=zt.value||zt.placeholder,rt.style.fontSize=zt.classList.contains("text-xs")?"14px":"20px",rt.style.fontWeight="bold",rt.style.color="#e2e8f0",rt.style.textAlign="center",rt.style.margin="8px 0",rt.style.width="100%",rt.style.lineHeight="1.4",rt.style.border="none",rt.style.background="transparent",zt.parentNode)if(zt.parentElement&&zt.parentElement.classList.contains("relative")){const _t=zt.parentElement.querySelector("button");_t&&(_t.style.display="none"),zt.parentElement.appendChild(rt),zt.style.display="none"}else zt.parentNode.replaceChild(rt,zt)})}}})).toDataURL("image/png"),de=document.createElement("a");de.href=pe,de.download=`FlavorPal-Receipt-${new Date().toISOString().slice(0,10)}.png`,document.body.appendChild(de),de.click(),document.body.removeChild(de),setTimeout(()=>alert(ae.savedToGallery),500)}catch(ee){console.error("Failed to save receipt",ee)}},ei=ee=>{ue(ee),e(Re.RECEIPT)},qn=async ee=>{const pe=ee.target.files;if(pe&&pe.length>0){const Ee=Array.from(pe).map(ze=>new Promise(mn=>{const nA=new FileReader;nA.onloadend=()=>mn(nA.result),nA.readAsDataURL(ze)})),Qe=await Promise.all(Ee);U(ze=>[...ze,...Qe].slice(0,2)),n===Re.HOME?e(Re.UPLOAD):n===Re.WORDPAL_HOME&&e(Re.WORDPAL_UPLOAD)}},Ao=()=>{if(!Ft){alert(ae.enterKey),d(!0);return}_e(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async ee=>{const{latitude:pe,longitude:de}=ee.coords;try{const Ee=await C2(pe,de,Ft);ce(Ee),n===Re.CHECKOUT&&N?L({...N,restaurant_address:Ee}):n===Re.RECEIPT&&q&&eo("restaurant_address",Ee)}catch(Ee){console.error("Reverse geocoding failed",Ee);const Qe=`${pe.toFixed(5)}, ${de.toFixed(5)}`;ce(Qe),alert(ae.locateError+" (AI Error)")}finally{_e(!1)}},ee=>{alert(ae.locateError),console.error(ee),_e(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0}):(alert("Geolocation is not supported by this browser."),_e(!1))},gA=ee=>{if(Qt.current[ee]){const de=Qt.current[ee];if(de){const Ee=de.getBoundingClientRect().top+window.pageYOffset+-140;window.scrollTo({top:Ee,behavior:"smooth"})}}},En=(ee,pe)=>{if(window.speechSynthesis.speaking&&UA.current.text===ee){window.speechSynthesis.cancel(),UA.current={text:"",count:0};return}window.speechSynthesis.cancel();const de=new SpeechSynthesisUtterance(ee);if(pe)de.lang=pe;else if(t==="PORTABLE"&&Kn){const Ee=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf]/.test(Kn);de.lang=Ee?"ja-JP":"zh-TW"}else N!=null&&N.detected_language&&(de.lang=N.detected_language);de.rate=1,UA.current={text:ee,count:1},de.onend=()=>{UA.current={text:"",count:0}},window.speechSynthesis.speak(de)},Rt=ee=>({JPY:"",USD:"$",HKD:"HK$",TWD:"NT$",CNY:"",EUR:"",GBP:"",KRW:"",THB:""})[ee]||ee,Gt=ee=>{A(ee),U([]),ee==="FLAVOR"?e(Re.HOME):ee==="WORD"?e(Re.WORDPAL_HOME):ee==="PORTABLE"&&(e(Re.PORTABLE_TRANSLATOR),pt(""),Er(""),Wr(!1),$r(""))},bA=()=>we?I.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-3xl p-8 max-w-sm w-full shadow-2xl text-center",children:[I.jsx("div",{className:"text-5xl mb-4",children:""}),I.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:ae.deleteHistoryConfirm}),I.jsx("p",{className:"text-slate-400 text-sm mb-8 leading-relaxed",children:i==="zh"?"":"This action cannot be undone."}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{onClick:()=>De(null),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold py-3 rounded-2xl transition-all",children:ae.cancel}),I.jsx("button",{onClick:to,className:"flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-2xl transition-all shadow-lg",children:i==="zh"?"":"Delete"})]})]})}):null,Gi=()=>w?I.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:I.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:[I.jsxs("div",{className:"text-center mb-6",children:[I.jsx("div",{className:"text-5xl mb-2",children:""}),I.jsx("h2",{className:"text-2xl font-bold text-white",children:Q==="login"?ae.login:ae.signup}),I.jsx("p",{className:"text-slate-400 text-sm mt-2",children:ae.loginPrompt})]}),I.jsxs("form",{onSubmit:Kt,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:ae.email}),I.jsx("input",{type:"email",name:"email",autoComplete:"username",value:M,onChange:ee=>k(ee.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-teal-500 outline-none",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:ae.password}),I.jsx("input",{type:"password",name:"password",autoComplete:Q==="login"?"current-password":"new-password",value:G,onChange:ee=>X(ee.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-teal-500 outline-none",required:!0,minLength:6})]}),Q==="login"&&I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("input",{type:"checkbox",id:"rememberMe",checked:$,onChange:ee=>b(ee.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-slate-950 text-teal-600 focus:ring-teal-500 accent-teal-600 cursor-pointer"}),I.jsx("label",{htmlFor:"rememberMe",className:"text-sm text-slate-400 select-none cursor-pointer",children:ae.rememberMe})]}),te&&I.jsx("div",{className:"text-red-400 text-xs bg-red-900/20 p-2 rounded-lg border border-red-500/20",children:te}),I.jsx("button",{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg mt-2",children:Q==="login"?ae.login:ae.signup})]}),I.jsx("div",{className:"mt-6 text-center text-sm text-slate-400",children:I.jsxs("p",{children:[Q==="login"?ae.noAccount:ae.hasAccount," ",I.jsx("button",{onClick:()=>{D(Q==="login"?"signup":"login"),re("")},className:"text-teal-400 font-bold hover:underline",children:Q==="login"?ae.signup:ae.login})]})})]})}):null,Nl=()=>I.jsx(wi,{title:"",actions:I.jsx("button",{onClick:()=>d(!0),className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-300",title:ae.settings,children:I.jsx(Ht.Settings,{})}),children:I.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] gap-6 py-8",children:[Gi(),f&&I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-3xl p-6 max-w-sm w-full shadow-2xl overflow-y-auto max-h-[90vh]",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[I.jsx(Ht.Settings,{})," ",ae.settings]}),Ft&&I.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-white",children:""})]}),I.jsxs("div",{className:"mb-6 bg-slate-950 p-4 rounded-xl border border-slate-800",children:[I.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1",children:ae.loggedInAs}),I.jsx("p",{className:"text-white text-sm font-medium truncate mb-3",children:m==null?void 0:m.email}),I.jsxs("button",{onClick:FA,className:"w-full flex items-center justify-center gap-2 bg-slate-800 hover:bg-red-900/30 text-slate-300 hover:text-red-400 text-xs py-2 rounded-lg transition-colors border border-slate-700 hover:border-red-500/30",children:[I.jsx(Ht.Logout,{})," ",ae.logout]})]}),I.jsxs("div",{className:"mb-6",children:[I.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:ae.uiLanguage}),I.jsxs("div",{className:"flex bg-slate-950 rounded-xl p-1 border border-slate-800",children:[I.jsx("button",{onClick:()=>o("zh"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${i==="zh"?"bg-slate-800 text-white shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:""}),I.jsx("button",{onClick:()=>o("en"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${i==="en"?"bg-slate-800 text-white shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:"English"})]})]}),I.jsxs("div",{className:"mb-6 pt-6 border-t border-slate-800",children:[I.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:ae.apiKey}),I.jsxs("p",{className:"text-slate-500 text-xs mb-3 leading-relaxed",children:[ae.apiKeyDesc," ",I.jsx("br",{}),I.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-teal-400 underline hover:text-teal-300",children:ae.getKey})]}),I.jsx("input",{type:"password",value:ki,onChange:ee=>Zs(ee.target.value),placeholder:Ft?"****************":ae.apiKeyPlaceholder,className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white mb-2 focus:border-teal-500 outline-none placeholder:text-slate-600"})]}),I.jsx("button",{onClick:QA,className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg",children:ae.save})]})}),I.jsxs("div",{className:"text-center space-y-2 mb-4",children:[I.jsx("h1",{className:"text-4xl font-black text-white tracking-tight",children:ae.appTitle}),I.jsx("p",{className:"text-slate-400",children:ae.chooseTool})]}),I.jsxs("button",{onClick:()=>Gt("FLAVOR"),className:"w-full bg-slate-900 hover:bg-slate-800 border border-slate-700 hover:border-teal-500/50 p-6 rounded-3xl transition-all group relative overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/0 via-teal-500/5 to-teal-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-6xl mb-4 group-hover:scale-110 transition-transform duration-300 scale-x-[-1] inline-block",children:""}),I.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-1",children:ae.flavorPal}),I.jsx("p",{className:"text-slate-500 text-xs",children:ae.flavorPalDesc})]})]}),I.jsxs("button",{onClick:()=>Gt("WORD"),className:"w-full bg-slate-900 hover:bg-slate-800 border border-slate-700 hover:border-indigo-500/50 p-6 rounded-3xl transition-all group relative overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/0 via-indigo-500/5 to-indigo-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-6xl mb-4 group-hover:scale-110 transition-transform duration-300",children:""}),I.jsx("h2",{className:"text-2xl font-bold text-indigo-400 mb-1",children:ae.wordPal}),I.jsx("p",{className:"text-slate-500 text-xs",children:ae.wordPalDesc})]})]}),I.jsxs("button",{onClick:()=>Gt("PORTABLE"),className:"w-full bg-slate-900 hover:bg-slate-800 border border-slate-700 hover:border-purple-500/50 p-6 rounded-3xl transition-all group relative overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/0 via-purple-500/5 to-purple-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-6xl mb-4 group-hover:scale-110 transition-transform duration-300",children:""}),I.jsx("h2",{className:"text-2xl font-bold text-purple-400 mb-1",children:ae.portablePal}),I.jsx("p",{className:"text-slate-500 text-xs",children:ae.portablePalDesc})]})]})]})}),ta=()=>I.jsx(wi,{title:ae.portablePal,onBack:()=>e(Re.LANDING),children:I.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] gap-4 py-4 relative",children:[I.jsx("div",{className:`flex-1 flex flex-col relative transition-transform duration-500 ${_r?"rotate-180":""}`,children:I.jsxs("div",{className:"flex-1 bg-gradient-to-br from-indigo-600 to-purple-700 rounded-[2.5rem] p-8 flex flex-col items-center justify-center text-center shadow-xl border border-white/10 overflow-hidden relative",children:[!Kn&&!Cn&&I.jsxs("div",{className:"flex flex-col items-center gap-4 text-white/40",children:[I.jsx(Ht.Translate,{}),I.jsx("p",{className:"text-lg font-medium",children:ae.translationPlaceholder})]}),Cn&&I.jsxs("div",{className:"flex flex-col items-center gap-4",children:[I.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin"}),I.jsx("p",{className:"text-white/60 font-bold",children:ae.translating})]}),Kn&&!Cn&&I.jsx("p",{className:"text-white text-3xl font-black leading-tight break-words max-w-full",children:Kn}),Kn&&!Cn&&I.jsx("button",{onClick:()=>En(Kn),className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white backdrop-blur-md transition-all active:scale-90",children:I.jsx(Ht.Speaker,{})})]})}),I.jsxs("div",{className:"flex justify-between items-center px-2",children:[I.jsx("button",{onClick:()=>{pt(""),Er(""),$r("")},className:"p-4 bg-slate-900 border border-slate-800 rounded-2xl text-slate-500 hover:text-red-400 hover:bg-red-950/20 hover:border-red-900/50 transition-all active:scale-90",children:I.jsx(Ht.Trash,{})}),I.jsxs("button",{onClick:()=>Wr(!_r),className:`flex items-center gap-2 px-8 py-4 rounded-2xl font-bold transition-all ${_r?"bg-indigo-600 text-white shadow-lg":"bg-slate-900 border border-slate-800 text-slate-300 hover:bg-slate-800"}`,children:[I.jsx(Ht.Rotate,{})," ",ae.flipToOther]})]}),I.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-[2rem] p-6 shadow-inner flex flex-col gap-4",children:[I.jsx("textarea",{value:Nt,onChange:ee=>pt(ee.target.value),placeholder:ae.inputPlaceholder,className:"w-full bg-transparent text-white text-lg outline-none resize-none h-24 placeholder:text-slate-600"}),I.jsx("button",{onClick:xl,disabled:!Nt.trim()||Cn,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-800 disabled:text-slate-600 text-white font-bold py-5 rounded-2xl shadow-lg transition-all flex items-center justify-center gap-3 active:scale-95",children:I.jsx("span",{className:"text-lg",children:ae.translateShowOther})})]})]})}),na=()=>I.jsx(wi,{title:ae.flavorPal,onBack:()=>e(Re.LANDING),actions:I.jsx("div",{className:"flex gap-2",children:I.jsx("button",{onClick:()=>e(Re.HISTORY),className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-300",children:I.jsx(Ht.History,{})})}),children:I.jsxs("div",{className:"flex flex-col items-center py-10 relative",children:[I.jsx("div",{className:"w-48 h-48 bg-slate-900 rounded-full flex items-center justify-center mb-10 shadow-[0_0_30px_rgba(13,148,136,0.2)] border border-slate-800",children:I.jsx("div",{className:"text-6xl animate-bounce",children:""})}),I.jsxs("div",{className:"w-full space-y-4",children:[I.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-800 mb-4",children:[I.jsx("h3",{className:"text-teal-400 font-semibold mb-2",children:ae.targetLanguage}),I.jsxs("select",{value:a,onChange:ee=>u(ee.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-slate-200 outline-none focus:ring-2 ring-teal-500/50",children:[I.jsx("option",{value:"Traditional Chinese",children:""}),I.jsx("option",{value:"English",children:"English"}),I.jsx("option",{value:"Japanese",children:""})]})]}),I.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[I.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",ref:kt,onChange:qn}),I.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",ref:Gn,onChange:qn}),I.jsxs("button",{onClick:()=>{var ee;return(ee=kt.current)==null?void 0:ee.click()},className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-5 rounded-3xl shadow-[0_10px_30px_-10px_rgba(13,148,136,0.5)] transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(Ht.Camera,{}),I.jsx("span",{className:"text-lg",children:ae.takePhoto})]}),I.jsxs("button",{onClick:()=>e(Re.UPLOAD),className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold py-4 rounded-3xl border border-slate-700 transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(Ht.Photo,{}),I.jsx("span",{className:"text-sm",children:ae.uploadGallery})]})]})]})]})}),xA=()=>I.jsx(wi,{title:ae.wordPal,onBack:()=>e(Re.LANDING),children:I.jsxs("div",{className:"flex flex-col items-center py-10 relative",children:[I.jsx("div",{className:"w-48 h-48 bg-slate-900 rounded-full flex items-center justify-center mb-10 shadow-[0_0_30px_rgba(99,102,241,0.2)] border border-slate-800",children:I.jsx("div",{className:"text-6xl animate-bounce",children:""})}),I.jsxs("div",{className:"w-full space-y-4",children:[I.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-800 mb-4",children:[I.jsx("h3",{className:"text-indigo-400 font-semibold mb-2",children:ae.targetLanguage}),I.jsxs("select",{value:a,onChange:ee=>u(ee.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-slate-200 outline-none focus:ring-2 ring-indigo-500/50",children:[I.jsx("option",{value:"Traditional Chinese",children:""}),I.jsx("option",{value:"English",children:"English"}),I.jsx("option",{value:"Japanese",children:""}),I.jsx("option",{value:"French",children:"French"}),I.jsx("option",{value:"Korean",children:"Korean"})]})]}),I.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[I.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",ref:kt,onChange:qn}),I.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",ref:Gn,onChange:qn}),I.jsxs("button",{onClick:()=>{var ee;return(ee=kt.current)==null?void 0:ee.click()},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-5 rounded-3xl shadow-[0_10px_30px_-10px_rgba(99,102,241,0.5)] transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(Ht.Camera,{}),I.jsx("span",{className:"text-lg",children:ae.takePhoto})]}),I.jsxs("button",{onClick:()=>e(Re.WORDPAL_UPLOAD),className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold py-4 rounded-3xl border border-slate-700 transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(Ht.Photo,{}),I.jsx("span",{className:"text-sm",children:ae.uploadGallery})]})]})]})]})}),ti=()=>I.jsx(wi,{title:t==="FLAVOR"?ae.analyzeMenu:ae.translateText,onBack:()=>e(t==="FLAVOR"?Re.HOME:Re.WORDPAL_HOME),children:I.jsxs("div",{className:"py-6 space-y-6",children:[I.jsx("div",{className:"grid grid-cols-2 gap-4",children:[0,1].map(ee=>I.jsx("div",{className:"aspect-[3/4] rounded-2xl border-2 border-dashed border-slate-700 bg-slate-900 relative flex items-center justify-center overflow-hidden hover:border-teal-500/50 transition-colors",children:R[ee]?I.jsxs(I.Fragment,{children:[I.jsx("img",{src:R[ee],className:"w-full h-full object-cover",alt:`Snippet ${ee}`}),I.jsx("button",{onClick:()=>U(pe=>pe.filter((de,Ee)=>Ee!==ee)),className:"absolute top-2 right-2 bg-red-500/80 hover:bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs backdrop-blur-sm",children:""})]}):I.jsxs("label",{className:"cursor-pointer w-full h-full flex flex-col items-center justify-center gap-2 group",children:[I.jsx("span",{className:"text-3xl text-slate-600 group-hover:text-teal-500 transition-colors",children:"+"}),I.jsx("span",{className:"text-xs text-slate-500 group-hover:text-teal-400 transition-colors",children:"Add Image"}),I.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:qn,className:"hidden"})]})},ee))}),t==="FLAVOR"&&I.jsxs("div",{className:"bg-slate-900 rounded-2xl p-5 border border-slate-800 space-y-4",children:[I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:ae.restaurantName}),I.jsx("input",{type:"text",value:Oe,onChange:ee=>P(ee.target.value),placeholder:ae.enterRestName,className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-teal-500 outline-none text-sm placeholder:text-slate-600"})]}),I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:ae.restaurantAddress}),I.jsxs("button",{onClick:Ao,disabled:he,className:"text-xs text-teal-400 flex items-center gap-1 hover:text-teal-300 disabled:opacity-50",children:[I.jsx(Ht.Locate,{})," ",he?ae.locating:ae.locate]})]}),I.jsx("input",{type:"text",value:ne,onChange:ee=>ce(ee.target.value),placeholder:ae.enterRestAddr,className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-teal-500 outline-none text-sm placeholder:text-slate-600"})]})]}),I.jsx("div",{className:"bg-indigo-900/20 rounded-2xl p-4 border border-indigo-500/20",children:I.jsxs("p",{className:"text-indigo-300 text-sm leading-relaxed",children:[" ",I.jsxs("strong",{children:[ae.tip.split(":")[0],":"]})," ",ae.tip.split(":")[1]]})}),I.jsxs("button",{onClick:hA,disabled:R.length===0,className:`w-full ${t==="FLAVOR"?"bg-teal-600 hover:bg-teal-500":"bg-indigo-600 hover:bg-indigo-500"} disabled:bg-slate-800 disabled:text-slate-600 text-white font-bold py-5 rounded-3xl shadow-lg transition-all flex items-center justify-center gap-3`,children:[I.jsx(Ht.Check,{}),I.jsx("span",{className:"text-lg",children:t==="FLAVOR"?ae.analyzeMenu:ae.translateText})]})]})}),NA=()=>I.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-950 flex flex-col items-center justify-center px-8 text-center text-slate-200",children:[I.jsxs("div",{className:"w-64 h-64 mb-10 relative",children:[I.jsx("div",{className:`absolute inset-0 ${t==="FLAVOR"?"bg-teal-500/10":"bg-indigo-500/10"} rounded-full animate-pulse`}),I.jsx("div",{className:"relative text-8xl flex items-center justify-center h-full animate-bounce",children:t==="FLAVOR"?I.jsx("span",{className:"scale-x-[-1] inline-block",children:js}):""})]}),I.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 shadow-xl border border-slate-800 w-full mb-8",children:[I.jsx("h2",{className:`${t==="FLAVOR"?"text-teal-500":"text-indigo-500"} font-bold tracking-widest text-xs uppercase mb-2`,children:ae.didYouKnow}),I.jsx("p",{className:"text-slate-400 leading-relaxed italic mt-2",children:jo||(t==="FLAVOR"?ae.factFlavor:ae.factWord)})]}),I.jsxs("div",{className:"w-full space-y-4",children:[I.jsx("div",{className:"w-full bg-slate-800 h-2 rounded-full overflow-hidden",children:I.jsx("div",{className:`h-full ${t==="FLAVOR"?"bg-teal-500":"bg-indigo-500"} transition-all duration-300 ease-out`,style:{width:`${Ot}%`}})}),I.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-mono mt-1",children:[I.jsx("span",{children:t==="FLAVOR"?dA[Vi]:Tr[Vi]}),I.jsxs("span",{children:[Math.round(Ot),"%"]})]})]})]}),tA=()=>Se?I.jsx(wi,{title:ae.wordPal,onBack:()=>e(Re.WORDPAL_UPLOAD),actions:I.jsxs("div",{className:"text-xs bg-indigo-900/50 text-indigo-300 px-3 py-1 rounded-full border border-indigo-500/30",children:[Se.detected_language,"  ",a]}),children:I.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] gap-4 py-4",children:[I.jsxs("div",{className:"flex-1 bg-slate-900 rounded-3xl border border-slate-800 flex flex-col overflow-hidden relative group",children:[I.jsxs("div",{className:"px-6 pt-5 pb-3 bg-slate-900 border-b border-slate-800 z-10 flex justify-between items-center shrink-0",children:[I.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:ae.originalText}),I.jsx("button",{onClick:()=>En(Se.original_text,Se.detected_language),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-all opacity-0 group-hover:opacity-100",children:I.jsx(Ht.Speaker,{})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:I.jsx("p",{className:"text-slate-200 whitespace-pre-wrap leading-relaxed text-lg font-serif",children:Se.original_text})})]}),I.jsxs("div",{className:"flex-1 bg-slate-900 rounded-3xl border border-indigo-500/20 flex flex-col overflow-hidden relative group",children:[I.jsxs("div",{className:"px-6 pt-5 pb-3 bg-slate-900 border-b border-indigo-500/20 z-10 flex justify-between items-center shrink-0",children:[I.jsx("h3",{className:"text-xs font-bold text-indigo-400 uppercase tracking-widest",children:ae.translation}),I.jsx("button",{onClick:()=>En(Se.translated_text),className:"p-2 bg-indigo-900/30 rounded-full text-indigo-300 hover:text-white transition-all",children:I.jsx(Ht.Speaker,{})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:I.jsx("p",{className:"text-indigo-100 whitespace-pre-wrap leading-relaxed text-lg",children:Se.translated_text})})]}),I.jsx("button",{onClick:()=>e(Re.WORDPAL_UPLOAD),className:"w-full mt-2 text-indigo-400 hover:text-indigo-300 text-sm font-bold border border-indigo-500/30 hover:bg-indigo-500/10 py-3 rounded-2xl transition-all",children:ae.translateNew})]})}):null,zn=()=>{var _t,Xt;if(!N)return null;const ee=N.items.reduce((Tt,at)=>(Tt[at.category]||(Tt[at.category]=[]),Tt[at.category].push(at),Tt),{}),pe=Object.keys(ee),de=V.reduce((Tt,at)=>Tt+at.quantity,0),Ee=V.reduce((Tt,at)=>Tt+at.price_original*at.quantity,0),Qe=((_t=V[0])==null?void 0:_t.currency_original)||((Xt=N.items[0])==null?void 0:Xt.currency_original),ze=Ee*(Oi[Qe]||1),mn=dn?Ee.toFixed(0):ze.toFixed(1),nA=dn?Qe:"HKD",zt=dn?ze.toFixed(1):Ee.toFixed(0),rt=dn?"HKD":Qe;return I.jsxs(wi,{title:ae.menu,onBack:()=>e(Re.UPLOAD),actions:I.jsxs("div",{className:"flex flex-col items-end gap-1",children:[I.jsx("div",{className:"flex gap-2",children:I.jsxs("button",{onClick:()=>bl(!dn),className:"text-xs bg-slate-800 px-3 py-1.5 rounded-full text-teal-400 font-bold hover:bg-slate-700 border border-slate-700",children:[ae.swap,": ",dn?Qe:"HKD"]})}),N.restaurant_name&&I.jsx("span",{className:"text-[10px] font-bold text-slate-500",children:N.restaurant_name})]}),children:[I.jsxs("div",{className:"pb-32 relative",children:[I.jsx("div",{className:"sticky top-0 z-20 bg-slate-950/90 backdrop-blur pb-2 -mx-6 px-6",children:I.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 no-scrollbar w-full flex-nowrap touch-pan-x",children:pe.map(Tt=>I.jsx("button",{onClick:()=>gA(Tt),className:"whitespace-nowrap bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-full text-sm font-medium transition-colors border border-slate-700 flex-shrink-0",children:Tt},Tt))})}),I.jsx("div",{className:"space-y-8 mt-2",children:pe.map(Tt=>I.jsxs("div",{ref:at=>{Qt.current[Tt]=at},children:[I.jsx("h3",{className:"text-xl font-bold text-teal-500 mb-4 px-2 border-l-4 border-teal-600",children:Tt}),I.jsx("div",{className:"space-y-4",children:ee[Tt].map((at,lt)=>{const mA=V.find(MA=>MA.id===at.name_original),DA=Oi[at.currency_original]||1,Ir=(at.price_original*DA).toFixed(1),Nn=dn?at.price_original:Ir,ni=dn?at.currency_original:"HKD",Aa=dn?Ir:at.price_original,ro=dn?"HKD":at.currency_original;return I.jsxs("div",{className:`bg-slate-900 rounded-3xl p-5 shadow-sm border ${mA?"border-teal-500/50 bg-teal-900/10":"border-slate-800"} transition-all`,children:[I.jsx("div",{className:"flex justify-between items-start mb-2",children:I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("h3",{className:"text-lg font-bold text-slate-200",children:at.name_translated}),I.jsx("button",{onClick:MA=>{MA.stopPropagation(),En(at.name_original,N.detected_language)},className:"text-slate-500 hover:text-teal-400 p-1 transition-colors",children:I.jsx(Ht.Speaker,{})})]}),I.jsx("p",{className:"text-xs text-slate-500 italic mb-1",children:at.name_original})]})}),I.jsx("div",{className:"bg-amber-900/20 p-3 rounded-2xl border border-amber-700/30 mb-4",children:I.jsx("p",{className:"text-sm text-amber-200 leading-snug",children:at.description})}),I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-baseline gap-1",children:[I.jsxs("span",{className:"text-xl font-bold text-teal-400",children:[Rt(ni),Nn]}),I.jsx("span",{className:"text-xs font-bold text-teal-600/70",children:ni})]}),I.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-tight",children:[" ",Aa," ",ro]})]}),I.jsxs("div",{className:"flex items-center gap-4 bg-slate-950 p-1 rounded-2xl border border-slate-800",children:[I.jsx("button",{onClick:()=>RA(at),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:text-slate-400 transition-colors",disabled:!mA,children:I.jsx(Ht.Minus,{})}),I.jsx("span",{className:"font-bold text-slate-200 w-4 text-center",children:(mA==null?void 0:mA.quantity)||0}),I.jsx("button",{onClick:()=>ea(at),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-teal-600 hover:bg-teal-500 shadow-lg text-white transition-colors",children:I.jsx(Ht.Plus,{})})]})]})]},lt)})})]},Tt))})]}),de>0&&I.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto p-4 bg-gradient-to-t from-slate-950 via-slate-950 to-transparent pointer-events-none z-30",children:I.jsxs("div",{className:"pointer-events-auto bg-teal-800 rounded-3xl p-6 shadow-2xl flex items-center justify-between border border-teal-600/30",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-teal-200 text-xs font-bold tracking-widest uppercase mb-1",children:ae.estTotal}),I.jsxs("div",{className:"flex flex-col",children:[I.jsxs("div",{className:"flex items-baseline gap-1 text-white",children:[I.jsxs("span",{className:"text-2xl font-black",children:[Rt(nA),mn]}),I.jsx("span",{className:"text-sm font-bold opacity-80",children:nA})]}),I.jsxs("div",{className:"text-[10px] text-teal-300 opacity-80",children:[" ",rt==="HKD"?"$":Rt(rt),zt," ",rt," (",ae.currencyDisclaimer,")"]})]})]}),I.jsxs("button",{onClick:()=>e(Re.CHECKOUT),className:"bg-white text-teal-900 font-bold px-8 py-3 rounded-2xl shadow-lg active:scale-95 transition-transform flex items-center gap-2 hover:bg-slate-100",children:[ae.checkout," ",I.jsx("span",{className:"bg-teal-900/10 text-teal-900 px-2 py-0.5 rounded-lg text-sm",children:de})]})]})})]})},pA=ee=>{var Ee;let pe;if(ee==="checkout"){if(!N)return null;const Qe=V.reduce((zt,rt)=>zt+rt.price_original*rt.quantity,0),ze=((Ee=V[0])==null?void 0:Ee.currency_original)||"HKD",mn=Oi[ze]||1,nA=Qe*mn;pe={restaurant_name:N.restaurant_name,restaurant_address:N.restaurant_address,date:new Date().toLocaleDateString(),items:V,total_original:Qe,currency_original:ze,total_hkd:nA,rate:mn,language:N.detected_language}}else{if(!q)return null;pe={restaurant_name:q.restaurant_name,restaurant_address:q.restaurant_address,date:q.date,items:q.items,total_original:q.total_original,currency_original:q.currency_original,total_hkd:q.total_hkd,rate:q.total_hkd/q.total_original||1,language:q.detected_language}}const de=Rt(pe.currency_original);return I.jsx(wi,{title:ee==="checkout"?ae.checkout:ae.receipt,onBack:()=>e(ee==="checkout"?Re.MENU:Re.HISTORY),children:I.jsxs("div",{className:"py-6 space-y-6",children:[I.jsxs("div",{id:"receipt-container",ref:Ki,className:"bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-sm flex flex-col items-center text-center gap-4",children:[I.jsx("div",{className:"text-6xl scale-x-[-1] inline-block mb-2",children:js}),I.jsx("h2",{className:"text-3xl font-black tracking-tighter text-white mb-1",children:(()=>{const Qe=(pe.language||"").toLowerCase();return Qe.startsWith("ja")?"":Qe.startsWith("zh")?"":"My Order"})()}),ee==="receipt"&&I.jsxs(I.Fragment,{children:[I.jsx("p",{className:"text-slate-400 font-medium",children:pe.restaurant_name}),pe.restaurant_address&&I.jsx("p",{className:"text-xs text-slate-600 max-w-[200px] truncate",children:pe.restaurant_address}),I.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest mb-2",children:pe.date})]}),ee==="checkout"&&I.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest mb-2",children:pe.date}),I.jsx("div",{className:"w-full border-t border-dashed border-slate-700 py-6 space-y-4",children:pe.items.map((Qe,ze)=>I.jsxs("div",{className:"flex justify-between items-start text-left",children:[I.jsx("div",{className:"flex-1",children:I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsxs("span",{className:"font-bold text-slate-300",children:[Qe.quantity,"x"]}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("h4",{className:"font-bold text-slate-200 leading-tight",children:Qe.name_original}),I.jsx("button",{onClick:()=>En(Qe.name_original,pe.language),className:"text-slate-500 hover:text-teal-400 transition-colors p-1",title:"Read Aloud",children:I.jsx(Ht.Speaker,{})})]}),I.jsx("p",{className:"text-xs text-slate-500",children:Qe.name_translated})]})]})}),I.jsxs("div",{className:"text-right",children:[I.jsxs("p",{className:"font-bold text-slate-200",children:[de,Qe.price_original*Qe.quantity]}),I.jsxs("p",{className:"text-[10px] text-slate-500 uppercase",children:[" HKD ",(Qe.price_original*Qe.quantity*pe.rate).toFixed(1)]})]})]},ze))}),I.jsxs("div",{id:"receipt-total",className:"w-full border-t-2 border-slate-800 pt-6 space-y-2",children:[I.jsxs("div",{className:"flex justify-between items-center text-slate-500 uppercase tracking-widest text-[10px] font-bold",children:[I.jsx("span",{children:ae.subtotal}),I.jsxs("span",{children:[de,pe.total_original]})]}),I.jsxs("div",{className:"flex justify-between items-center text-2xl font-black text-white",children:[I.jsx("span",{children:ae.total}),I.jsxs("span",{children:[de,pe.total_original]})]}),I.jsxs("div",{className:"bg-slate-800 text-slate-200 rounded-2xl py-3 px-4 flex justify-between items-center mt-4",children:[I.jsx("span",{className:"font-bold uppercase tracking-widest text-[10px] opacity-60",children:ae.estHkd}),I.jsxs("span",{className:"text-xl font-bold text-teal-400",children:[" $",pe.total_hkd.toFixed(1)]})]}),ee==="checkout"&&I.jsx("button",{onClick:()=>e(Re.MENU),className:"w-full mt-4 text-teal-500 hover:text-teal-400 text-sm font-bold border border-teal-500/30 hover:bg-teal-500/10 py-3 rounded-2xl transition-all",children:ae.continueOrdering})]}),I.jsxs("div",{id:"receipt-inputs",className:"w-full mt-6 space-y-2 p-4 bg-slate-900/50 rounded-2xl border border-slate-800 border-dashed",children:[I.jsx("input",{type:"text",value:ee==="checkout"?(N==null?void 0:N.restaurant_name)||"":(q==null?void 0:q.restaurant_name)||"",onChange:Qe=>eo("restaurant_name",Qe.target.value),placeholder:ae.enterRestName,className:"w-full bg-slate-950/50 border border-slate-700/50 rounded-lg p-2 text-center text-slate-300 font-medium focus:border-teal-500 outline-none text-sm placeholder:text-slate-600"}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"text",value:ee==="checkout"?(N==null?void 0:N.restaurant_address)||"":(q==null?void 0:q.restaurant_address)||"",onChange:Qe=>eo("restaurant_address",Qe.target.value),placeholder:ae.enterRestAddr,className:"w-full bg-slate-950/50 border border-slate-700/50 rounded-lg p-2 text-center text-slate-500 text-xs focus:border-teal-500 outline-none placeholder:text-slate-600"}),I.jsx("button",{onClick:Ao,className:"absolute right-2 top-1/2 -translate-y-1/2 text-teal-400 p-2",children:I.jsx(Ht.Locate,{})})]})]}),I.jsx("div",{className:"w-full mt-6 opacity-20",children:I.jsx("p",{className:"text-[8px] tracking-[0.3em] uppercase text-slate-500",children:ae.thankYou})})]}),ee==="checkout"&&I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("button",{onClick:no,className:"bg-slate-800 text-slate-300 font-bold py-4 rounded-3xl flex items-center justify-center gap-2 hover:bg-slate-700 transition-colors",children:[I.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),ae.receiptImg]}),I.jsx("button",{onClick:Zr,className:"bg-teal-600 text-white font-bold py-4 rounded-3xl shadow-lg active:scale-95 transition-transform hover:bg-teal-500",children:ae.finishOrder})]})]})})},qt=()=>I.jsx(wi,{title:ae.history,onBack:()=>e(Re.HOME),children:I.jsx("div",{className:"py-6 space-y-6",children:Ie.length===0?I.jsxs("div",{className:"py-20 text-center text-slate-600",children:[I.jsx("div",{className:"text-4xl mb-4 opacity-50",children:""}),I.jsx("p",{children:"No orders yet. Start scanning!"})]}):Ie.map(ee=>I.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-800 space-y-4",children:[I.jsxs("div",{className:"flex justify-between items-start",children:[I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2 text-amber-500 font-bold text-xs uppercase tracking-widest mb-1",children:[I.jsx(Ht.History,{}),ee.date]}),I.jsx("h3",{className:"text-xl font-bold text-slate-200 leading-tight",children:ee.restaurant_name})]}),I.jsx("button",{onClick:()=>jr(ee.id),className:"text-slate-600 hover:text-red-400 transition-colors p-2 -mr-2",children:I.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),I.jsx("div",{className:"space-y-1",children:ee.items.map((pe,de)=>I.jsxs("div",{className:"flex justify-between text-sm",children:[I.jsx("span",{className:"text-slate-400",children:pe.name_translated}),I.jsxs("span",{className:"text-slate-600 italic",children:["x",pe.quantity]})]},de))}),I.jsxs("div",{className:"pt-2 border-t border-slate-800 flex items-baseline gap-2",children:[I.jsxs("span",{className:"text-2xl font-bold text-teal-400 tracking-tighter",children:[ee.total_original," ",I.jsx("span",{className:"text-sm",children:ee.currency_original})]}),I.jsxs("span",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:["( ",ee.total_hkd.toFixed(1)," HKD)"]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[I.jsxs("button",{onClick:()=>window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(ee.restaurant_name+" "+(ee.restaurant_address||""))}`,"_blank"),className:"bg-indigo-900/30 text-indigo-400 border border-indigo-500/20 font-bold py-3 rounded-2xl flex items-center justify-center gap-2 text-sm hover:bg-indigo-900/50 transition-colors",children:[I.jsx(Ht.Navigation,{})," ",ae.navigate]}),I.jsx("button",{onClick:()=>ei(ee),className:"bg-slate-800 text-slate-300 font-bold py-3 rounded-2xl flex items-center justify-center gap-2 text-sm hover:bg-slate-700 transition-colors",children:ae.viewReceipt})]})]},ee.id))})});return I.jsxs("div",{className:"min-h-screen bg-slate-950",children:[n===Re.LANDING&&Nl(),n===Re.HOME&&na(),n===Re.UPLOAD&&ti(),n===Re.MENU&&zn(),n===Re.CHECKOUT&&pA("checkout"),n===Re.RECEIPT&&pA("receipt"),n===Re.HISTORY&&qt(),n===Re.WORDPAL_HOME&&xA(),n===Re.WORDPAL_UPLOAD&&ti(),n===Re.WORDPAL_RESULT&&tA(),n===Re.PORTABLE_TRANSLATOR&&ta(),n===Re.LOADING&&NA(),bA()]})},ty=document.getElementById("root");if(!ty)console.error("Failed to find the root element");else try{s1.createRoot(ty).render(I.jsx(Zx.StrictMode,{children:I.jsx(Y7,{})}))}catch(n){console.error("Error mounting React app:",n),ty.innerHTML=`
      <div style="color: white; padding: 20px; text-align: center;">
        <h1>Something went wrong</h1>
        <p>Please check the console for details.</p>
        <p>${n}</p>
      </div>
    `}
