(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))A(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&A(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function A(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function SS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cm={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C;function Wx(){if($C)return Su;$C=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(A,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:n,type:A,key:a,ref:i!==void 0?i:null,props:o}}return Su.Fragment=e,Su.jsx=t,Su.jsxs=t,Su}var ZC;function $x(){return ZC||(ZC=1,cm.exports=Wx()),cm.exports}var I=$x(),fm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function Zx(){if(jC)return Ve;jC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function O(P,j,fe){this.props=P,this.context=j,this.refs=D,this.updater=fe||Q}O.prototype.isReactComponent={},O.prototype.setState=function(P,j){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,j,"setState")},O.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function q(){}q.prototype=O.prototype;function W(P,j,fe){this.props=P,this.context=j,this.refs=D,this.updater=fe||Q}var ne=W.prototype=new q;ne.constructor=W,N(ne,O.prototype),ne.isPureReactComponent=!0;var ie=Array.isArray;function Z(){}var b={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function U(P,j,fe){var pe=fe.ref;return{$$typeof:n,type:P,key:j,ref:pe!==void 0?pe:null,props:fe}}function M(P,j){return U(P.type,j,P.props)}function L(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function k(P){var j={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(fe){return j[fe]})}var x=/\/+/g;function Te(P,j){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):j.toString(36)}function Xe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Z,Z):(P.status="pending",P.then(function(j){P.status==="pending"&&(P.status="fulfilled",P.value=j)},function(j){P.status==="pending"&&(P.status="rejected",P.reason=j)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,j,fe,pe,Ie){var Qe=typeof P;(Qe==="undefined"||Qe==="boolean")&&(P=null);var ke=!1;if(P===null)ke=!0;else switch(Qe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(P.$$typeof){case n:case e:ke=!0;break;case m:return ke=P._init,K(ke(P._payload),j,fe,pe,Ie)}}if(ke)return Ie=Ie(P),ke=pe===""?"."+Te(P,0):pe,ie(Ie)?(fe="",ke!=null&&(fe=ke.replace(x,"$&/")+"/"),K(Ie,j,fe,"",function(Er){return Er})):Ie!=null&&(L(Ie)&&(Ie=M(Ie,fe+(Ie.key==null||P&&P.key===Ie.key?"":(""+Ie.key).replace(x,"$&/")+"/")+ke)),j.push(Ie)),1;ke=0;var Ot=pe===""?".":pe+":";if(ie(P))for(var ft=0;ft<P.length;ft++)pe=P[ft],Qe=Ot+Te(pe,ft),ke+=K(pe,j,fe,Qe,Ie);else if(ft=T(P),typeof ft=="function")for(P=ft.call(P),ft=0;!(pe=P.next()).done;)pe=pe.value,Qe=Ot+Te(pe,ft++),ke+=K(pe,j,fe,Qe,Ie);else if(Qe==="object"){if(typeof P.then=="function")return K(Xe(P),j,fe,pe,Ie);throw j=String(P),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ue(P,j,fe){if(P==null)return P;var pe=[],Ie=0;return K(P,pe,"","",function(Qe){return j.call(fe,Qe,Ie++)}),pe}function me(P){if(P._status===-1){var j=P._result;j=j(),j.then(function(fe){(P._status===0||P._status===-1)&&(P._status=1,P._result=fe)},function(fe){(P._status===0||P._status===-1)&&(P._status=2,P._result=fe)}),P._status===-1&&(P._status=0,P._result=j)}if(P._status===1)return P._result.default;throw P._result}var Le=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},qe={map:ue,forEach:function(P,j,fe){ue(P,function(){j.apply(this,arguments)},fe)},count:function(P){var j=0;return ue(P,function(){j++}),j},toArray:function(P){return ue(P,function(j){return j})||[]},only:function(P){if(!L(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ve.Activity=v,Ve.Children=qe,Ve.Component=O,Ve.Fragment=t,Ve.Profiler=i,Ve.PureComponent=W,Ve.StrictMode=A,Ve.Suspense=f,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(P){return b.H.useMemoCache(P)}},Ve.cache=function(P){return function(){return P.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(P,j,fe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var pe=N({},P.props),Ie=P.key;if(j!=null)for(Qe in j.key!==void 0&&(Ie=""+j.key),j)!R.call(j,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&j.ref===void 0||(pe[Qe]=j[Qe]);var Qe=arguments.length-2;if(Qe===1)pe.children=fe;else if(1<Qe){for(var ke=Array(Qe),Ot=0;Ot<Qe;Ot++)ke[Ot]=arguments[Ot+2];pe.children=ke}return U(P.type,Ie,pe)},Ve.createContext=function(P){return P={$$typeof:a,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Ve.createElement=function(P,j,fe){var pe,Ie={},Qe=null;if(j!=null)for(pe in j.key!==void 0&&(Qe=""+j.key),j)R.call(j,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ie[pe]=j[pe]);var ke=arguments.length-2;if(ke===1)Ie.children=fe;else if(1<ke){for(var Ot=Array(ke),ft=0;ft<ke;ft++)Ot[ft]=arguments[ft+2];Ie.children=Ot}if(P&&P.defaultProps)for(pe in ke=P.defaultProps,ke)Ie[pe]===void 0&&(Ie[pe]=ke[pe]);return U(P,Qe,Ie)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(P){return{$$typeof:u,render:P}},Ve.isValidElement=L,Ve.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:me}},Ve.memo=function(P,j){return{$$typeof:d,type:P,compare:j===void 0?null:j}},Ve.startTransition=function(P){var j=b.T,fe={};b.T=fe;try{var pe=P(),Ie=b.S;Ie!==null&&Ie(fe,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Z,Le)}catch(Qe){Le(Qe)}finally{j!==null&&fe.types!==null&&(j.types=fe.types),b.T=j}},Ve.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},Ve.use=function(P){return b.H.use(P)},Ve.useActionState=function(P,j,fe){return b.H.useActionState(P,j,fe)},Ve.useCallback=function(P,j){return b.H.useCallback(P,j)},Ve.useContext=function(P){return b.H.useContext(P)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(P,j){return b.H.useDeferredValue(P,j)},Ve.useEffect=function(P,j){return b.H.useEffect(P,j)},Ve.useEffectEvent=function(P){return b.H.useEffectEvent(P)},Ve.useId=function(){return b.H.useId()},Ve.useImperativeHandle=function(P,j,fe){return b.H.useImperativeHandle(P,j,fe)},Ve.useInsertionEffect=function(P,j){return b.H.useInsertionEffect(P,j)},Ve.useLayoutEffect=function(P,j){return b.H.useLayoutEffect(P,j)},Ve.useMemo=function(P,j){return b.H.useMemo(P,j)},Ve.useOptimistic=function(P,j){return b.H.useOptimistic(P,j)},Ve.useReducer=function(P,j,fe){return b.H.useReducer(P,j,fe)},Ve.useRef=function(P){return b.H.useRef(P)},Ve.useState=function(P){return b.H.useState(P)},Ve.useSyncExternalStore=function(P,j,fe){return b.H.useSyncExternalStore(P,j,fe)},Ve.useTransition=function(){return b.H.useTransition()},Ve.version="19.2.3",Ve}var eE;function h0(){return eE||(eE=1,fm.exports=Zx()),fm.exports}var Ne=h0();const jx=SS(Ne);var dm={exports:{}},Uu={},hm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function e1(){return tE||(tE=1,(function(n){function e(K,ue){var me=K.length;K.push(ue);e:for(;0<me;){var Le=me-1>>>1,qe=K[Le];if(0<i(qe,ue))K[Le]=ue,K[me]=qe,me=Le;else break e}}function t(K){return K.length===0?null:K[0]}function A(K){if(K.length===0)return null;var ue=K[0],me=K.pop();if(me!==ue){K[0]=me;e:for(var Le=0,qe=K.length,P=qe>>>1;Le<P;){var j=2*(Le+1)-1,fe=K[j],pe=j+1,Ie=K[pe];if(0>i(fe,me))pe<qe&&0>i(Ie,fe)?(K[Le]=Ie,K[pe]=me,Le=pe):(K[Le]=fe,K[j]=me,Le=j);else if(pe<qe&&0>i(Ie,me))K[Le]=Ie,K[pe]=me,Le=pe;else break e}}return ue}function i(K,ue){var me=K.sortIndex-ue.sortIndex;return me!==0?me:K.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var f=[],d=[],m=1,v=null,w=3,T=!1,Q=!1,N=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ne(K){for(var ue=t(d);ue!==null;){if(ue.callback===null)A(d);else if(ue.startTime<=K)A(d),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(d)}}function ie(K){if(N=!1,ne(K),!Q)if(t(f)!==null)Q=!0,Z||(Z=!0,k());else{var ue=t(d);ue!==null&&Xe(ie,ue.startTime-K)}}var Z=!1,b=-1,R=5,U=-1;function M(){return D?!0:!(n.unstable_now()-U<R)}function L(){if(D=!1,Z){var K=n.unstable_now();U=K;var ue=!0;try{e:{Q=!1,N&&(N=!1,q(b),b=-1),T=!0;var me=w;try{t:{for(ne(K),v=t(f);v!==null&&!(v.expirationTime>K&&M());){var Le=v.callback;if(typeof Le=="function"){v.callback=null,w=v.priorityLevel;var qe=Le(v.expirationTime<=K);if(K=n.unstable_now(),typeof qe=="function"){v.callback=qe,ne(K),ue=!0;break t}v===t(f)&&A(f),ne(K)}else A(f);v=t(f)}if(v!==null)ue=!0;else{var P=t(d);P!==null&&Xe(ie,P.startTime-K),ue=!1}}break e}finally{v=null,w=me,T=!1}ue=void 0}}finally{ue?k():Z=!1}}}var k;if(typeof W=="function")k=function(){W(L)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Te=x.port2;x.port1.onmessage=L,k=function(){Te.postMessage(null)}}else k=function(){O(L,0)};function Xe(K,ue){b=O(function(){K(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var me=w;w=ue;try{return K()}finally{w=me}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=w;w=K;try{return ue()}finally{w=me}},n.unstable_scheduleCallback=function(K,ue,me){var Le=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Le+me:Le):me=Le,K){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=me+qe,K={id:m++,callback:ue,priorityLevel:K,startTime:me,expirationTime:qe,sortIndex:-1},me>Le?(K.sortIndex=me,e(d,K),t(f)===null&&K===t(d)&&(N?(q(b),b=-1):N=!0,Xe(ie,me-Le))):(K.sortIndex=qe,e(f,K),Q||T||(Q=!0,Z||(Z=!0,k()))),K},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(K){var ue=w;return function(){var me=w;w=ue;try{return K.apply(this,arguments)}finally{w=me}}}})(gm)),gm}var nE;function t1(){return nE||(nE=1,hm.exports=e1()),hm.exports}var pm={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function n1(){if(AE)return Hn;AE=1;var n=h0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var A={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:d,implementation:m}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Hn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Hn.flushSync=function(f){var d=a.T,m=A.p;try{if(a.T=null,A.p=2,f)return f()}finally{a.T=d,A.p=m,A.d.f()}},Hn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,A.d.C(f,d))},Hn.prefetchDNS=function(f){typeof f=="string"&&A.d.D(f)},Hn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,v=u(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?A.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:T}):m==="script"&&A.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);A.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&A.d.M(f)},Hn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=u(m,d.crossOrigin);A.d.L(f,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);A.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else A.d.m(f)},Hn.requestFormReset=function(f){A.d.r(f)},Hn.unstable_batchedUpdates=function(f,d){return f(d)},Hn.useFormState=function(f,d,m){return a.H.useFormState(f,d,m)},Hn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Hn.version="19.2.3",Hn}var rE;function A1(){if(rE)return pm.exports;rE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pm.exports=n1(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function r1(){if(iE)return Uu;iE=1;var n=t1(),e=h0(),t=A1();function A(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function a(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function u(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(A(188))}function d(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(A(188));return s!==r?null:r}for(var l=r,c=s;;){var y=l.return;if(y===null)break;var B=y.alternate;if(B===null){if(c=y.return,c!==null){l=c;continue}break}if(y.child===B.child){for(B=y.child;B;){if(B===l)return f(y),r;if(B===c)return f(y),s;B=B.sibling}throw Error(A(188))}if(l.return!==c.return)l=y,c=B;else{for(var E=!1,S=y.child;S;){if(S===l){E=!0,l=y,c=B;break}if(S===c){E=!0,c=y,l=B;break}S=S.sibling}if(!E){for(S=B.child;S;){if(S===l){E=!0,l=B,c=y;break}if(S===c){E=!0,c=B,l=y;break}S=S.sibling}if(!E)throw Error(A(189))}}if(l.alternate!==c)throw Error(A(190))}if(l.tag!==3)throw Error(A(188));return l.stateNode.current===l?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function k(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function Te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case ie:return"Suspense";case Z:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case Q:return"Portal";case W:return r.displayName||"Context";case q:return(r._context.displayName||"Context")+".Consumer";case ne:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case b:return s=r.displayName||null,s!==null?s:Te(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Te(r(s))}catch{}}return null}var Xe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Le=[],qe=-1;function P(r){return{current:r}}function j(r){0>qe||(r.current=Le[qe],Le[qe]=null,qe--)}function fe(r,s){qe++,Le[qe]=r.current,r.current=s}var pe=P(null),Ie=P(null),Qe=P(null),ke=P(null);function Ot(r,s){switch(fe(Qe,s),fe(Ie,r),fe(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?vC(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=vC(s),r=wC(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}j(pe),fe(pe,r)}function ft(){j(pe),j(Ie),j(Qe)}function Er(r){r.memoizedState!==null&&fe(ke,r);var s=pe.current,l=wC(s,r.type);s!==l&&(fe(Ie,r),fe(pe,l))}function er(r){Ie.current===r&&(j(pe),j(Ie)),ke.current===r&&(j(ke),Eu._currentValue=me)}var nA,Vi;function zn(r){if(nA===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);nA=s&&s[1]||"",Vi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nA+r+Vi}var Zr=!1;function Jn(r,s){if(!r||Zr)return"";Zr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var $=te}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(te){$=te}r.call(oe.prototype)}}else{try{throw Error()}catch(te){$=te}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&$&&typeof te.stack=="string")return[te.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=c.DetermineComponentFrameRoot(),E=B[0],S=B[1];if(E&&S){var H=E.split(`
`),X=S.split(`
`);for(y=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;y<X.length&&!X[y].includes("DetermineComponentFrameRoot");)y++;if(c===H.length||y===X.length)for(c=H.length-1,y=X.length-1;1<=c&&0<=y&&H[c]!==X[y];)y--;for(;1<=c&&0<=y;c--,y--)if(H[c]!==X[y]){if(c!==1||y!==1)do if(c--,y--,0>y||H[c]!==X[y]){var re=`
`+H[c].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=c&&0<=y);break}}}finally{Zr=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?zn(l):""}function jr(r,s){switch(r.tag){case 26:case 27:case 5:return zn(r.type);case 16:return zn("Lazy");case 13:return r.child!==s&&s!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return Jn(r.type,!1);case 11:return Jn(r.type.render,!1);case 1:return Jn(r.type,!0);case 31:return zn("Activity");default:return""}}function ei(r){try{var s="",l=null;do s+=jr(r,l),l=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var kt=Object.prototype.hasOwnProperty,It=n.unstable_scheduleCallback,tr=n.unstable_cancelCallback,xc=n.unstable_shouldYield,Oi=n.unstable_requestPaint,mn=n.unstable_now,ti=n.unstable_getCurrentPriorityLevel,ki=n.unstable_ImmediatePriority,_r=n.unstable_UserBlockingPriority,hA=n.unstable_NormalPriority,Ml=n.unstable_LowPriority,AA=n.unstable_IdlePriority,nr=n.log,no=n.unstable_setDisableYieldValue,gA=null,gt=null;function rA(r){if(typeof nr=="function"&&no(r),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(gA,r)}catch{}}var Dt=Math.clz32?Math.clz32:Ao,ia=Math.log,Ki=Math.LN2;function Ao(r){return r>>>=0,r===0?32:31-(ia(r)/Ki|0)|0}var Yn=256,Tr=262144,Mt=4194304;function iA(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Nn(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var y=0,B=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~B,c!==0?y=iA(c):(E&=S,E!==0?y=iA(E):l||(l=S&~r,l!==0&&(y=iA(l))))):(S=c&~B,S!==0?y=iA(S):E!==0?y=iA(E):l||(l=c&~r,l!==0&&(y=iA(l)))),y===0?0:s!==0&&s!==y&&(s&B)===0&&(B=y&-y,l=s&-s,B>=l||B===32&&(l&4194048)!==0)?s:y}function Ae(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function sa(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var r=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),r}function FA(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ni(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ll(r,s,l,c,y,B){var E=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var S=r.entanglements,H=r.expirationTimes,X=r.hiddenUpdates;for(l=E&~l;0<l;){var re=31-Dt(l),oe=1<<re;S[re]=0,H[re]=-1;var $=X[re];if($!==null)for(X[re]=null,re=0;re<$.length;re++){var te=$[re];te!==null&&(te.lane&=-536870913)}l&=~oe}c!==0&&Ai(r,c,0),B!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=B&~(E&~s))}function Ai(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Dt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function io(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-Dt(l),y=1<<c;y&s|r[c]&s&&(r[c]|=s),l&=~y}}function so(r,s){var l=s&-s;return l=(l&42)!==0?1:ri(l),(l&(r.suspendedLanes|s))!==0?0:l}function ri(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ar(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function oa(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:GC(r.type))}function pA(r,s){var l=ue.p;try{return ue.p=r,s()}finally{ue.p=l}}var mA=Math.random().toString(36).slice(2),Lt="__reactFiber$"+mA,nn="__reactProps$"+mA,QA="__reactContainer$"+mA,Gi="__reactEvents$"+mA,Hl="__reactListeners$"+mA,aa="__reactHandles$"+mA,Ir="__reactResources$"+mA,yA="__reactMarker$"+mA;function qi(r){delete r[Lt],delete r[nn],delete r[Gi],delete r[Hl],delete r[aa]}function Dn(r){var s=r[Lt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[QA]||l[Lt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=UC(r);r!==null;){if(l=r[Lt])return l;r=UC(r)}return s}r=l,l=r.parentNode}return null}function Cn(r){if(r=r[Lt]||r[QA]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function En(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(A(33))}function RA(r){var s=r[Ir];return s||(s=r[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(r){r[yA]=!0}var oo=new Set,ao={};function bA(r,s){xA(r,s),xA(r+"Capture",s)}function xA(r,s){for(ao[r]=s,r=0;r<s.length;r++)oo.add(s[r])}var lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zi={},uo={};function la(r){return kt.call(uo,r)?!0:kt.call(zi,r)?!1:lo.test(r)?uo[r]=!0:(zi[r]=!0,!1)}function Ji(r,s,l){if(la(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Mn(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function qt(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}function J(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function de(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function he(r,s,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,B=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(E){l=""+E,B.call(this,E)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ce(r){if(!r._valueTracker){var s=de(r)?"checked":"value";r._valueTracker=he(r,s,""+r[s])}}function Se(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=de(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function xe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var bt=/[\n"\\]/g;function Ct(r){return r.replace(bt,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function St(r,s,l,c,y,B,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+J(s)):r.value!==""+J(s)&&(r.value=""+J(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?fn(r,E,J(s)):l!=null?fn(r,E,J(l)):c!=null&&r.removeAttribute("value"),y==null&&B!=null&&(r.defaultChecked=!!B),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+J(S):r.removeAttribute("name")}function pt(r,s,l,c,y,B,E,S){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(r.type=B),s!=null||l!=null){if(!(B!=="submit"&&B!=="reset"||s!=null)){ce(r);return}l=l!=null?""+J(l):"",s=s!=null?""+J(s):l,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),ce(r)}function fn(r,s,l){s==="number"&&xe(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function dn(r,s,l,c){if(r=r.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=s.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&c&&(r[l].defaultSelected=!0)}else{for(l=""+J(l),s=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,c&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Ut(r,s,l){if(s!=null&&(s=""+J(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+J(l):""}function At(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(A(92));if(Xe(c)){if(1<c.length)throw Error(A(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=J(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),ce(r)}function Ln(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function co(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||Sr.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Yi(r,s,l){if(s!=null&&typeof s!="object")throw Error(A(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var y in s)c=s[y],s.hasOwnProperty(y)&&l[y]!==c&&co(r,y,c)}else for(var B in s)s.hasOwnProperty(B)&&co(r,B,s[B])}function Xi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(r){return Ur.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Xn(){}var Pl=null;function NA(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $i=null,Fr=null;function ho(r){var s=Cn(r);if(s&&(r=s.stateNode)){var l=r[nn]||null;e:switch(r=s.stateNode,s.type){case"input":if(St(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ct(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var y=c[nn]||null;if(!y)throw Error(A(90));St(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&Se(c)}break e;case"textarea":Ut(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&dn(r,!!l.multiple,s,!1)}}}var ua=!1;function Zi(r,s,l){if(ua)return r(s,l);ua=!0;try{var c=r(s);return c}finally{if(ua=!1,($i!==null||Fr!==null)&&(Sf(),$i&&(s=$i,r=Fr,Fr=$i=null,ho(s),r)))for(s=0;s<r.length;s++)ho(r[s])}}function rr(r,s){var l=r.stateNode;if(l===null)return null;var c=l[nn]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(A(231,s,typeof l));return l}var DA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=!1;if(DA)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){go=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{go=!1}var Qr=null,Vl=null,po=null;function Ol(){if(po)return po;var r,s=Vl,l=s.length,c,y="value"in Qr?Qr.value:Qr.textContent,B=y.length;for(r=0;r<l&&s[r]===y[r];r++);var E=l-r;for(c=1;c<=E&&s[l-c]===y[B-c];c++);return po=y.slice(r,1<c?1-c:void 0)}function mo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ii(){return!0}function ir(){return!1}function _n(r){function s(l,c,y,B,E){this._reactName=l,this._targetInst=y,this.type=c,this.nativeEvent=B,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(l=r[S],this[S]=l?l(B):B[S]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?ii:ir,this.isPropagationStopped=ir,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),s}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=_n(si),ji=v({},si,{view:0,detail:0}),kl=_n(ji),es,ca,br,fa=v({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==br&&(br&&r.type==="mousemove"?(es=r.screenX-br.screenX,ca=r.screenY-br.screenY):ca=es=0,br=r),es)},movementY:function(r){return"movementY"in r?r.movementY:ca}}),Kl=_n(fa),yo=v({},fa,{dataTransfer:0}),Nc=_n(yo),Dc=v({},ji,{relatedTarget:0}),Bo=_n(Dc),Gl=v({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=_n(Gl),da=v({},si,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Lc=_n(da),Hc=v({},si,{data:0}),xr=_n(Hc),Pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Oc[r])?!!s[r]:!1}function ts(){return kc}var Wn=v({},ji,{key:function(r){if(r.key){var s=Pc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=mo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Vc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(r){return r.type==="keypress"?mo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Kc=_n(Wn),Gc=v({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oi=_n(Gc),p=v({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),C=_n(p),_=v({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=_n(_),z=v({},fa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=_n(z),ge=v({},si,{newState:0,oldState:0}),Ke=_n(ge),Yt=[9,13,27,32],at=DA&&"CompositionEvent"in window,Ht=null;DA&&"documentMode"in document&&(Ht=document.documentMode);var MA=DA&&"TextEvent"in window&&!Ht,Nr=DA&&(!at||Ht&&8<Ht&&11>=Ht),sr=" ",or=!1;function vo(r,s){switch(r){case"keyup":return Yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ga=!1;function vb(r,s){switch(r){case"compositionend":return ha(s);case"keypress":return s.which!==32?null:(or=!0,sr);case"textInput":return r=s.data,r===sr&&or?null:r;default:return null}}function wb(r,s){if(ga)return r==="compositionend"||!at&&vo(r,s)?(r=Ol(),po=Vl=Qr=null,ga=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nr&&s.locale!=="ko"?null:s.data;default:return null}}var Cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RB(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Cb[r.type]:s==="textarea"}function bB(r,s,l,c){$i?Fr?Fr.push(c):Fr=[c]:$i=c,s=Nf(s,"onChange"),0<s.length&&(l=new Rr("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var ql=null,zl=null;function Eb(r){hC(r,0)}function qc(r){var s=En(r);if(Se(s))return r}function xB(r,s){if(r==="change")return s}var NB=!1;if(DA){var yg;if(DA){var Bg="oninput"in document;if(!Bg){var DB=document.createElement("div");DB.setAttribute("oninput","return;"),Bg=typeof DB.oninput=="function"}yg=Bg}else yg=!1;NB=yg&&(!document.documentMode||9<document.documentMode)}function MB(){ql&&(ql.detachEvent("onpropertychange",LB),zl=ql=null)}function LB(r){if(r.propertyName==="value"&&qc(zl)){var s=[];bB(s,zl,r,NA(r)),Zi(Eb,s)}}function _b(r,s,l){r==="focusin"?(MB(),ql=s,zl=l,ql.attachEvent("onpropertychange",LB)):r==="focusout"&&MB()}function Tb(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qc(zl)}function Ib(r,s){if(r==="click")return qc(s)}function Sb(r,s){if(r==="input"||r==="change")return qc(s)}function Ub(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var BA=typeof Object.is=="function"?Object.is:Ub;function Jl(r,s){if(BA(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var y=l[c];if(!kt.call(s,y)||!BA(r[y],s[y]))return!1}return!0}function HB(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function PB(r,s){var l=HB(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=HB(l)}}function VB(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?VB(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function OB(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=xe(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=xe(r.document)}return s}function vg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Fb=DA&&"documentMode"in document&&11>=document.documentMode,pa=null,wg=null,Yl=null,Cg=!1;function kB(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cg||pa==null||pa!==xe(c)||(c=pa,"selectionStart"in c&&vg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yl&&Jl(Yl,c)||(Yl=c,c=Nf(wg,"onSelect"),0<c.length&&(s=new Rr("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=pa)))}function wo(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ma={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},Eg={},KB={};DA&&(KB=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Co(r){if(Eg[r])return Eg[r];if(!ma[r])return r;var s=ma[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in KB)return Eg[r]=s[l];return r}var GB=Co("animationend"),qB=Co("animationiteration"),zB=Co("animationstart"),Qb=Co("transitionrun"),Rb=Co("transitionstart"),bb=Co("transitioncancel"),JB=Co("transitionend"),YB=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_g.push("scrollEnd");function ar(r,s){YB.set(r,s),bA(s,[r])}var zc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},LA=[],ya=0,Tg=0;function Jc(){for(var r=ya,s=Tg=ya=0;s<r;){var l=LA[s];LA[s++]=null;var c=LA[s];LA[s++]=null;var y=LA[s];LA[s++]=null;var B=LA[s];if(LA[s++]=null,c!==null&&y!==null){var E=c.pending;E===null?y.next=y:(y.next=E.next,E.next=y),c.pending=y}B!==0&&XB(l,y,B)}}function Yc(r,s,l,c){LA[ya++]=r,LA[ya++]=s,LA[ya++]=l,LA[ya++]=c,Tg|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ig(r,s,l,c){return Yc(r,s,l,c),Xc(r)}function Eo(r,s){return Yc(r,null,null,s),Xc(r)}function XB(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var y=!1,B=r.return;B!==null;)B.childLanes|=l,c=B.alternate,c!==null&&(c.childLanes|=l),B.tag===22&&(r=B.stateNode,r===null||r._visibility&1||(y=!0)),r=B,B=B.return;return r.tag===3?(B=r.stateNode,y&&s!==null&&(y=31-Dt(l),r=B.hiddenUpdates,c=r[y],c===null?r[y]=[s]:c.push(s),s.lane=l|536870912),B):null}function Xc(r){if(50<pu)throw pu=0,Dp=null,Error(A(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ba={};function xb(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vA(r,s,l,c){return new xb(r,s,l,c)}function Sg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ai(r,s){var l=r.alternate;return l===null?(l=vA(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function WB(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Wc(r,s,l,c,y,B){var E=0;if(c=r,typeof r=="function")Sg(r)&&(E=1);else if(typeof r=="string")E=Hx(r,l,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=vA(31,l,s,y),r.elementType=U,r.lanes=B,r;case N:return _o(l.children,y,B,s);case D:E=8,y|=24;break;case O:return r=vA(12,l,s,y|2),r.elementType=O,r.lanes=B,r;case ie:return r=vA(13,l,s,y),r.elementType=ie,r.lanes=B,r;case Z:return r=vA(19,l,s,y),r.elementType=Z,r.lanes=B,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:E=10;break e;case q:E=9;break e;case ne:E=11;break e;case b:E=14;break e;case R:E=16,c=null;break e}E=29,l=Error(A(130,r===null?"null":typeof r,"")),c=null}return s=vA(E,l,s,y),s.elementType=r,s.type=c,s.lanes=B,s}function _o(r,s,l,c){return r=vA(7,r,c,s),r.lanes=l,r}function Ug(r,s,l){return r=vA(6,r,null,s),r.lanes=l,r}function $B(r){var s=vA(18,null,null,0);return s.stateNode=r,s}function Fg(r,s,l){return s=vA(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ZB=new WeakMap;function HA(r,s){if(typeof r=="object"&&r!==null){var l=ZB.get(r);return l!==void 0?l:(s={value:r,source:s,stack:ei(s)},ZB.set(r,s),s)}return{value:r,source:s,stack:ei(s)}}var va=[],wa=0,$c=null,Xl=0,PA=[],VA=0,ns=null,Dr=1,Mr="";function li(r,s){va[wa++]=Xl,va[wa++]=$c,$c=r,Xl=s}function jB(r,s,l){PA[VA++]=Dr,PA[VA++]=Mr,PA[VA++]=ns,ns=r;var c=Dr;r=Mr;var y=32-Dt(c)-1;c&=~(1<<y),l+=1;var B=32-Dt(s)+y;if(30<B){var E=y-y%5;B=(c&(1<<E)-1).toString(32),c>>=E,y-=E,Dr=1<<32-Dt(s)+y|l<<y|c,Mr=B+r}else Dr=1<<B|l<<y|c,Mr=r}function Qg(r){r.return!==null&&(li(r,1),jB(r,1,0))}function Rg(r){for(;r===$c;)$c=va[--wa],va[wa]=null,Xl=va[--wa],va[wa]=null;for(;r===ns;)ns=PA[--VA],PA[VA]=null,Mr=PA[--VA],PA[VA]=null,Dr=PA[--VA],PA[VA]=null}function ev(r,s){PA[VA++]=Dr,PA[VA++]=Mr,PA[VA++]=ns,Dr=s.id,Mr=s.overflow,ns=r}var Tn=null,xt=null,nt=!1,As=null,OA=!1,bg=Error(A(519));function rs(r){var s=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(HA(s,r)),bg}function tv(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[Lt]=r,s[nn]=c,l){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(l=0;l<yu.length;l++)Ye(yu[l],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),pt(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),At(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||yC(s.textContent,l)?(c.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),c.onScroll!=null&&Ye("scroll",s),c.onScrollEnd!=null&&Ye("scrollend",s),c.onClick!=null&&(s.onclick=Xn),s=!0):s=!1,s||rs(r,!0)}function nv(r){for(Tn=r.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:OA=!1;return;case 27:case 3:OA=!0;return;default:Tn=Tn.return}}function Ca(r){if(r!==Tn)return!1;if(!nt)return nv(r),nt=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Wp(r.type,r.memoizedProps)),l=!l),l&&xt&&rs(r),nv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(317));xt=SC(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(317));xt=SC(r)}else s===27?(s=xt,ys(r.type)?(r=tm,tm=null,xt=r):xt=s):xt=Tn?KA(r.stateNode.nextSibling):null;return!0}function To(){xt=Tn=null,nt=!1}function xg(){var r=As;return r!==null&&(lA===null?lA=r:lA.push.apply(lA,r),As=null),r}function Wl(r){As===null?As=[r]:As.push(r)}var Ng=P(null),Io=null,ui=null;function is(r,s,l){fe(Ng,s._currentValue),s._currentValue=l}function ci(r){r._currentValue=Ng.current,j(Ng)}function Dg(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Mg(r,s,l,c){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var B=y.dependencies;if(B!==null){var E=y.child;B=B.firstContext;e:for(;B!==null;){var S=B;B=y;for(var H=0;H<s.length;H++)if(S.context===s[H]){B.lanes|=l,S=B.alternate,S!==null&&(S.lanes|=l),Dg(B.return,l,r),c||(E=null);break e}B=S.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(A(341));E.lanes|=l,B=E.alternate,B!==null&&(B.lanes|=l),Dg(E,l,r),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===r){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Ea(r,s,l,c){r=null;for(var y=s,B=!1;y!==null;){if(!B){if((y.flags&524288)!==0)B=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(A(387));if(E=E.memoizedProps,E!==null){var S=y.type;BA(y.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(y===ke.current){if(E=y.alternate,E===null)throw Error(A(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Eu):r=[Eu])}y=y.return}r!==null&&Mg(s,r,l,c),s.flags|=262144}function Zc(r){for(r=r.firstContext;r!==null;){if(!BA(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function So(r){Io=r,ui=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function In(r){return Av(Io,r)}function jc(r,s){return Io===null&&So(r),Av(r,s)}function Av(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ui===null){if(r===null)throw Error(A(308));ui=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ui=ui.next=s;return l}var Nb=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},Db=n.unstable_scheduleCallback,Mb=n.unstable_NormalPriority,An={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lg(){return{controller:new Nb,data:new Map,refCount:0}}function $l(r){r.refCount--,r.refCount===0&&Db(Mb,function(){r.controller.abort()})}var Zl=null,Hg=0,_a=0,Ta=null;function Lb(r,s){if(Zl===null){var l=Zl=[];Hg=0,_a=Op(),Ta={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Hg++,s.then(rv,rv),s}function rv(){if(--Hg===0&&Zl!==null){Ta!==null&&(Ta.status="fulfilled");var r=Zl;Zl=null,_a=0,Ta=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Hb(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(c.status="rejected",c.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),c}var iv=K.S;K.S=function(r,s){kw=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Lb(r,s),iv!==null&&iv(r,s)};var Uo=P(null);function Pg(){var r=Uo.current;return r!==null?r:Et.pooledCache}function ef(r,s){s===null?fe(Uo,Uo.current):fe(Uo,s.pool)}function sv(){var r=Pg();return r===null?null:{parent:An._currentValue,pool:r}}var Ia=Error(A(460)),Vg=Error(A(474)),tf=Error(A(542)),nf={then:function(){}};function ov(r){return r=r.status,r==="fulfilled"||r==="rejected"}function av(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Xn,Xn),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,uv(r),r;default:if(typeof s.status=="string")s.then(Xn,Xn);else{if(r=Et,r!==null&&100<r.shellSuspendCounter)throw Error(A(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=c}},function(c){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,uv(r),r}throw Qo=s,Ia}}function Fo(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Qo=l,Ia):l}}var Qo=null;function lv(){if(Qo===null)throw Error(A(459));var r=Qo;return Qo=null,r}function uv(r){if(r===Ia||r===tf)throw Error(A(483))}var Sa=null,jl=0;function Af(r){var s=jl;return jl+=1,Sa===null&&(Sa=[]),av(Sa,r,s)}function eu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function rf(r,s){throw s.$$typeof===w?Error(A(525)):(r=Object.prototype.toString.call(s),Error(A(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function cv(r){function s(G,V){if(r){var Y=G.deletions;Y===null?(G.deletions=[V],G.flags|=16):Y.push(V)}}function l(G,V){if(!r)return null;for(;V!==null;)s(G,V),V=V.sibling;return null}function c(G){for(var V=new Map;G!==null;)G.key!==null?V.set(G.key,G):V.set(G.index,G),G=G.sibling;return V}function y(G,V){return G=ai(G,V),G.index=0,G.sibling=null,G}function B(G,V,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<V?(G.flags|=67108866,V):Y):(G.flags|=67108866,V)):(G.flags|=1048576,V)}function E(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function S(G,V,Y,se){return V===null||V.tag!==6?(V=Ug(Y,G.mode,se),V.return=G,V):(V=y(V,Y),V.return=G,V)}function H(G,V,Y,se){var Ue=Y.type;return Ue===N?re(G,V,Y.props.children,se,Y.key):V!==null&&(V.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===R&&Fo(Ue)===V.type)?(V=y(V,Y.props),eu(V,Y),V.return=G,V):(V=Wc(Y.type,Y.key,Y.props,null,G.mode,se),eu(V,Y),V.return=G,V)}function X(G,V,Y,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==Y.containerInfo||V.stateNode.implementation!==Y.implementation?(V=Fg(Y,G.mode,se),V.return=G,V):(V=y(V,Y.children||[]),V.return=G,V)}function re(G,V,Y,se,Ue){return V===null||V.tag!==7?(V=_o(Y,G.mode,se,Ue),V.return=G,V):(V=y(V,Y),V.return=G,V)}function oe(G,V,Y){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ug(""+V,G.mode,Y),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return Y=Wc(V.type,V.key,V.props,null,G.mode,Y),eu(Y,V),Y.return=G,Y;case Q:return V=Fg(V,G.mode,Y),V.return=G,V;case R:return V=Fo(V),oe(G,V,Y)}if(Xe(V)||k(V))return V=_o(V,G.mode,Y,null),V.return=G,V;if(typeof V.then=="function")return oe(G,Af(V),Y);if(V.$$typeof===W)return oe(G,jc(G,V),Y);rf(G,V)}return null}function $(G,V,Y,se){var Ue=V!==null?V.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ue!==null?null:S(G,V,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===Ue?H(G,V,Y,se):null;case Q:return Y.key===Ue?X(G,V,Y,se):null;case R:return Y=Fo(Y),$(G,V,Y,se)}if(Xe(Y)||k(Y))return Ue!==null?null:re(G,V,Y,se,null);if(typeof Y.then=="function")return $(G,V,Af(Y),se);if(Y.$$typeof===W)return $(G,V,jc(G,Y),se);rf(G,Y)}return null}function te(G,V,Y,se,Ue){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(Y)||null,S(V,G,""+se,Ue);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return G=G.get(se.key===null?Y:se.key)||null,H(V,G,se,Ue);case Q:return G=G.get(se.key===null?Y:se.key)||null,X(V,G,se,Ue);case R:return se=Fo(se),te(G,V,Y,se,Ue)}if(Xe(se)||k(se))return G=G.get(Y)||null,re(V,G,se,Ue,null);if(typeof se.then=="function")return te(G,V,Y,Af(se),Ue);if(se.$$typeof===W)return te(G,V,Y,jc(V,se),Ue);rf(V,se)}return null}function Ee(G,V,Y,se){for(var Ue=null,it=null,_e=V,ze=V=0,$e=null;_e!==null&&ze<Y.length;ze++){_e.index>ze?($e=_e,_e=null):$e=_e.sibling;var st=$(G,_e,Y[ze],se);if(st===null){_e===null&&(_e=$e);break}r&&_e&&st.alternate===null&&s(G,_e),V=B(st,V,ze),it===null?Ue=st:it.sibling=st,it=st,_e=$e}if(ze===Y.length)return l(G,_e),nt&&li(G,ze),Ue;if(_e===null){for(;ze<Y.length;ze++)_e=oe(G,Y[ze],se),_e!==null&&(V=B(_e,V,ze),it===null?Ue=_e:it.sibling=_e,it=_e);return nt&&li(G,ze),Ue}for(_e=c(_e);ze<Y.length;ze++)$e=te(_e,G,ze,Y[ze],se),$e!==null&&(r&&$e.alternate!==null&&_e.delete($e.key===null?ze:$e.key),V=B($e,V,ze),it===null?Ue=$e:it.sibling=$e,it=$e);return r&&_e.forEach(function(Es){return s(G,Es)}),nt&&li(G,ze),Ue}function be(G,V,Y,se){if(Y==null)throw Error(A(151));for(var Ue=null,it=null,_e=V,ze=V=0,$e=null,st=Y.next();_e!==null&&!st.done;ze++,st=Y.next()){_e.index>ze?($e=_e,_e=null):$e=_e.sibling;var Es=$(G,_e,st.value,se);if(Es===null){_e===null&&(_e=$e);break}r&&_e&&Es.alternate===null&&s(G,_e),V=B(Es,V,ze),it===null?Ue=Es:it.sibling=Es,it=Es,_e=$e}if(st.done)return l(G,_e),nt&&li(G,ze),Ue;if(_e===null){for(;!st.done;ze++,st=Y.next())st=oe(G,st.value,se),st!==null&&(V=B(st,V,ze),it===null?Ue=st:it.sibling=st,it=st);return nt&&li(G,ze),Ue}for(_e=c(_e);!st.done;ze++,st=Y.next())st=te(_e,G,ze,st.value,se),st!==null&&(r&&st.alternate!==null&&_e.delete(st.key===null?ze:st.key),V=B(st,V,ze),it===null?Ue=st:it.sibling=st,it=st);return r&&_e.forEach(function(Xx){return s(G,Xx)}),nt&&li(G,ze),Ue}function vt(G,V,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===N&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var Ue=Y.key;V!==null;){if(V.key===Ue){if(Ue=Y.type,Ue===N){if(V.tag===7){l(G,V.sibling),se=y(V,Y.props.children),se.return=G,G=se;break e}}else if(V.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===R&&Fo(Ue)===V.type){l(G,V.sibling),se=y(V,Y.props),eu(se,Y),se.return=G,G=se;break e}l(G,V);break}else s(G,V);V=V.sibling}Y.type===N?(se=_o(Y.props.children,G.mode,se,Y.key),se.return=G,G=se):(se=Wc(Y.type,Y.key,Y.props,null,G.mode,se),eu(se,Y),se.return=G,G=se)}return E(G);case Q:e:{for(Ue=Y.key;V!==null;){if(V.key===Ue)if(V.tag===4&&V.stateNode.containerInfo===Y.containerInfo&&V.stateNode.implementation===Y.implementation){l(G,V.sibling),se=y(V,Y.children||[]),se.return=G,G=se;break e}else{l(G,V);break}else s(G,V);V=V.sibling}se=Fg(Y,G.mode,se),se.return=G,G=se}return E(G);case R:return Y=Fo(Y),vt(G,V,Y,se)}if(Xe(Y))return Ee(G,V,Y,se);if(k(Y)){if(Ue=k(Y),typeof Ue!="function")throw Error(A(150));return Y=Ue.call(Y),be(G,V,Y,se)}if(typeof Y.then=="function")return vt(G,V,Af(Y),se);if(Y.$$typeof===W)return vt(G,V,jc(G,Y),se);rf(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,V!==null&&V.tag===6?(l(G,V.sibling),se=y(V,Y),se.return=G,G=se):(l(G,V),se=Ug(Y,G.mode,se),se.return=G,G=se),E(G)):l(G,V)}return function(G,V,Y,se){try{jl=0;var Ue=vt(G,V,Y,se);return Sa=null,Ue}catch(_e){if(_e===Ia||_e===tf)throw _e;var it=vA(29,_e,null,G.mode);return it.lanes=se,it.return=G,it}finally{}}}var Ro=cv(!0),fv=cv(!1),ss=!1;function Og(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function as(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var y=c.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),c.pending=s,s=Xc(r),XB(r,null,l),s}return Yc(r,c,s,l),Xc(r)}function tu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,io(r,l)}}function Kg(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var y=null,B=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};B===null?y=B=E:B=B.next=E,l=l.next}while(l!==null);B===null?y=B=s:B=B.next=s}else y=B=s;l={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:B,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Gg=!1;function nu(){if(Gg){var r=Ta;if(r!==null)throw r}}function Au(r,s,l,c){Gg=!1;var y=r.updateQueue;ss=!1;var B=y.firstBaseUpdate,E=y.lastBaseUpdate,S=y.shared.pending;if(S!==null){y.shared.pending=null;var H=S,X=H.next;H.next=null,E===null?B=X:E.next=X,E=H;var re=r.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==E&&(S===null?re.firstBaseUpdate=X:S.next=X,re.lastBaseUpdate=H))}if(B!==null){var oe=y.baseState;E=0,re=X=H=null,S=B;do{var $=S.lane&-536870913,te=$!==S.lane;if(te?(We&$)===$:(c&$)===$){$!==0&&$===_a&&(Gg=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ee=r,be=S;$=s;var vt=l;switch(be.tag){case 1:if(Ee=be.payload,typeof Ee=="function"){oe=Ee.call(vt,oe,$);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=be.payload,$=typeof Ee=="function"?Ee.call(vt,oe,$):Ee,$==null)break e;oe=v({},oe,$);break e;case 2:ss=!0}}$=S.callback,$!==null&&(r.flags|=64,te&&(r.flags|=8192),te=y.callbacks,te===null?y.callbacks=[$]:te.push($))}else te={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(X=re=te,H=oe):re=re.next=te,E|=$;if(S=S.next,S===null){if(S=y.shared.pending,S===null)break;te=S,S=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);re===null&&(H=oe),y.baseState=H,y.firstBaseUpdate=X,y.lastBaseUpdate=re,B===null&&(y.shared.lanes=0),ds|=E,r.lanes=E,r.memoizedState=oe}}function dv(r,s){if(typeof r!="function")throw Error(A(191,r));r.call(s)}function hv(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)dv(l[r],s)}var Ua=P(null),sf=P(0);function gv(r,s){r=vi,fe(sf,r),fe(Ua,s),vi=r|s.baseLanes}function qg(){fe(sf,vi),fe(Ua,Ua.current)}function zg(){vi=sf.current,j(Ua),j(sf)}var wA=P(null),kA=null;function ls(r){var s=r.alternate;fe(Xt,Xt.current&1),fe(wA,r),kA===null&&(s===null||Ua.current!==null||s.memoizedState!==null)&&(kA=r)}function Jg(r){fe(Xt,Xt.current),fe(wA,r),kA===null&&(kA=r)}function pv(r){r.tag===22?(fe(Xt,Xt.current),fe(wA,r),kA===null&&(kA=r)):us()}function us(){fe(Xt,Xt.current),fe(wA,wA.current)}function CA(r){j(wA),kA===r&&(kA=null),j(Xt)}var Xt=P(0);function of(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jp(l)||em(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fi=0,Ge=null,yt=null,rn=null,af=!1,Fa=!1,bo=!1,lf=0,ru=0,Qa=null,Pb=0;function zt(){throw Error(A(321))}function Yg(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!BA(r[l],s[l]))return!1;return!0}function Xg(r,s,l,c,y,B){return fi=B,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?jv:up,bo=!1,B=l(c,y),bo=!1,Fa&&(B=yv(s,l,c,y)),mv(r),B}function mv(r){K.H=ou;var s=yt!==null&&yt.next!==null;if(fi=0,rn=yt=Ge=null,af=!1,ru=0,Qa=null,s)throw Error(A(300));r===null||sn||(r=r.dependencies,r!==null&&Zc(r)&&(sn=!0))}function yv(r,s,l,c){Ge=r;var y=0;do{if(Fa&&(Qa=null),ru=0,Fa=!1,25<=y)throw Error(A(301));if(y+=1,rn=yt=null,r.updateQueue!=null){var B=r.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}K.H=ew,B=s(l,c)}while(Fa);return B}function Vb(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?iu(s):s,r=r.useState()[0],(yt!==null?yt.memoizedState:null)!==r&&(Ge.flags|=1024),s}function Wg(){var r=lf!==0;return lf=0,r}function $g(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function Zg(r){if(af){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}af=!1}fi=0,rn=yt=Ge=null,Fa=!1,ru=lf=0,Qa=null}function $n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ge.memoizedState=rn=r:rn=rn.next=r,rn}function Wt(){if(yt===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=rn===null?Ge.memoizedState:rn.next;if(s!==null)rn=s,yt=r;else{if(r===null)throw Ge.alternate===null?Error(A(467)):Error(A(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},rn===null?Ge.memoizedState=rn=r:rn=rn.next=r}return rn}function uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(r){var s=ru;return ru+=1,Qa===null&&(Qa=[]),r=av(Qa,r,s),s=Ge,(rn===null?s.memoizedState:rn.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?jv:up),r}function cf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return iu(r);if(r.$$typeof===W)return In(r)}throw Error(A(438,String(r)))}function jg(r){var s=null,l=Ge.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=uf(),Ge.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=M;return s.index++,l}function di(r,s){return typeof s=="function"?s(r):s}function ff(r){var s=Wt();return ep(s,yt,r)}function ep(r,s,l){var c=r.queue;if(c===null)throw Error(A(311));c.lastRenderedReducer=l;var y=r.baseQueue,B=c.pending;if(B!==null){if(y!==null){var E=y.next;y.next=B.next,B.next=E}s.baseQueue=y=B,c.pending=null}if(B=r.baseState,y===null)r.memoizedState=B;else{s=y.next;var S=E=null,H=null,X=s,re=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(We&oe)===oe:(fi&oe)===oe){var $=X.revertLane;if($===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===_a&&(re=!0);else if((fi&$)===$){X=X.next,$===_a&&(re=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(S=H=oe,E=B):H=H.next=oe,Ge.lanes|=$,ds|=$;oe=X.action,bo&&l(B,oe),B=X.hasEagerState?X.eagerState:l(B,oe)}else $={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(S=H=$,E=B):H=H.next=$,Ge.lanes|=oe,ds|=oe;X=X.next}while(X!==null&&X!==s);if(H===null?E=B:H.next=S,!BA(B,r.memoizedState)&&(sn=!0,re&&(l=Ta,l!==null)))throw l;r.memoizedState=B,r.baseState=E,r.baseQueue=H,c.lastRenderedState=B}return y===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function tp(r){var s=Wt(),l=s.queue;if(l===null)throw Error(A(311));l.lastRenderedReducer=r;var c=l.dispatch,y=l.pending,B=s.memoizedState;if(y!==null){l.pending=null;var E=y=y.next;do B=r(B,E.action),E=E.next;while(E!==y);BA(B,s.memoizedState)||(sn=!0),s.memoizedState=B,s.baseQueue===null&&(s.baseState=B),l.lastRenderedState=B}return[B,c]}function Bv(r,s,l){var c=Ge,y=Wt(),B=nt;if(B){if(l===void 0)throw Error(A(407));l=l()}else l=s();var E=!BA((yt||y).memoizedState,l);if(E&&(y.memoizedState=l,sn=!0),y=y.queue,rp(Cv.bind(null,c,y,r),[r]),y.getSnapshot!==s||E||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,Ra(9,{destroy:void 0},wv.bind(null,c,y,l,s),null),Et===null)throw Error(A(349));B||(fi&127)!==0||vv(c,s,l)}return l}function vv(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ge.updateQueue,s===null?(s=uf(),Ge.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function wv(r,s,l,c){s.value=l,s.getSnapshot=c,Ev(s)&&_v(r)}function Cv(r,s,l){return l(function(){Ev(s)&&_v(r)})}function Ev(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!BA(r,l)}catch{return!0}}function _v(r){var s=Eo(r,2);s!==null&&uA(s,r,2)}function np(r){var s=$n();if(typeof r=="function"){var l=r;if(r=l(),bo){rA(!0);try{l()}finally{rA(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:r},s}function Tv(r,s,l,c){return r.baseState=l,ep(r,yt,typeof c=="function"?c:di)}function Ob(r,s,l,c,y){if(gf(r))throw Error(A(485));if(r=s.action,r!==null){var B={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){B.listeners.push(E)}};K.T!==null?l(!0):B.isTransition=!1,c(B),l=s.pending,l===null?(B.next=s.pending=B,Iv(s,B)):(B.next=l.next,s.pending=l.next=B)}}function Iv(r,s){var l=s.action,c=s.payload,y=r.state;if(s.isTransition){var B=K.T,E={};K.T=E;try{var S=l(y,c),H=K.S;H!==null&&H(E,S),Sv(r,s,S)}catch(X){Ap(r,s,X)}finally{B!==null&&E.types!==null&&(B.types=E.types),K.T=B}}else try{B=l(y,c),Sv(r,s,B)}catch(X){Ap(r,s,X)}}function Sv(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Uv(r,s,c)},function(c){return Ap(r,s,c)}):Uv(r,s,l)}function Uv(r,s,l){s.status="fulfilled",s.value=l,Fv(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,Iv(r,l)))}function Ap(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Fv(s),s=s.next;while(s!==c)}r.action=null}function Fv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Qv(r,s){return s}function Rv(r,s){if(nt){var l=Et.formState;if(l!==null){e:{var c=Ge;if(nt){if(xt){t:{for(var y=xt,B=OA;y.nodeType!==8;){if(!B){y=null;break t}if(y=KA(y.nextSibling),y===null){y=null;break t}}B=y.data,y=B==="F!"||B==="F"?y:null}if(y){xt=KA(y.nextSibling),c=y.data==="F!";break e}}rs(c)}c=!1}c&&(s=l[0])}}return l=$n(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qv,lastRenderedState:s},l.queue=c,l=Wv.bind(null,Ge,c),c.dispatch=l,c=np(!1),B=lp.bind(null,Ge,!1,c.queue),c=$n(),y={state:s,dispatch:null,action:r,pending:null},c.queue=y,l=Ob.bind(null,Ge,y,B,l),y.dispatch=l,c.memoizedState=r,[s,l,!1]}function bv(r){var s=Wt();return xv(s,yt,r)}function xv(r,s,l){if(s=ep(r,s,Qv)[0],r=ff(di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=iu(s)}catch(E){throw E===Ia?tf:E}else c=s;s=Wt();var y=s.queue,B=y.dispatch;return l!==s.memoizedState&&(Ge.flags|=2048,Ra(9,{destroy:void 0},kb.bind(null,y,l),null)),[c,B,r]}function kb(r,s){r.action=s}function Nv(r){var s=Wt(),l=yt;if(l!==null)return xv(s,l,r);Wt(),s=s.memoizedState,l=Wt();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function Ra(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=uf(),Ge.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function Dv(){return Wt().memoizedState}function df(r,s,l,c){var y=$n();Ge.flags|=r,y.memoizedState=Ra(1|s,{destroy:void 0},l,c===void 0?null:c)}function hf(r,s,l,c){var y=Wt();c=c===void 0?null:c;var B=y.memoizedState.inst;yt!==null&&c!==null&&Yg(c,yt.memoizedState.deps)?y.memoizedState=Ra(s,B,l,c):(Ge.flags|=r,y.memoizedState=Ra(1|s,B,l,c))}function Mv(r,s){df(8390656,8,r,s)}function rp(r,s){hf(2048,8,r,s)}function Kb(r){Ge.flags|=4;var s=Ge.updateQueue;if(s===null)s=uf(),Ge.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function Lv(r){var s=Wt().memoizedState;return Kb({ref:s,nextImpl:r}),function(){if((lt&2)!==0)throw Error(A(440));return s.impl.apply(void 0,arguments)}}function Hv(r,s){return hf(4,2,r,s)}function Pv(r,s){return hf(4,4,r,s)}function Vv(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ov(r,s,l){l=l!=null?l.concat([r]):null,hf(4,4,Vv.bind(null,s,r),l)}function ip(){}function kv(r,s){var l=Wt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Yg(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function Kv(r,s){var l=Wt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Yg(s,c[1]))return c[0];if(c=r(),bo){rA(!0);try{r()}finally{rA(!1)}}return l.memoizedState=[c,s],c}function sp(r,s,l){return l===void 0||(fi&1073741824)!==0&&(We&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=Gw(),Ge.lanes|=r,ds|=r,l)}function Gv(r,s,l,c){return BA(l,s)?l:Ua.current!==null?(r=sp(r,l,c),BA(r,s)||(sn=!0),r):(fi&42)===0||(fi&1073741824)!==0&&(We&261930)===0?(sn=!0,r.memoizedState=l):(r=Gw(),Ge.lanes|=r,ds|=r,s)}function qv(r,s,l,c,y){var B=ue.p;ue.p=B!==0&&8>B?B:8;var E=K.T,S={};K.T=S,lp(r,!1,s,l);try{var H=y(),X=K.S;if(X!==null&&X(S,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=Hb(H,c);su(r,s,re,TA(r))}else su(r,s,c,TA(r))}catch(oe){su(r,s,{then:function(){},status:"rejected",reason:oe},TA())}finally{ue.p=B,E!==null&&S.types!==null&&(E.types=S.types),K.T=E}}function Gb(){}function op(r,s,l,c){if(r.tag!==5)throw Error(A(476));var y=zv(r).queue;qv(r,y,s,me,l===null?Gb:function(){return Jv(r),l(c)})}function zv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:me},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Jv(r){var s=zv(r);s.next===null&&(s=r.alternate.memoizedState),su(r,s.next.queue,{},TA())}function ap(){return In(Eu)}function Yv(){return Wt().memoizedState}function Xv(){return Wt().memoizedState}function qb(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=TA();r=os(l);var c=as(s,r,l);c!==null&&(uA(c,s,l),tu(c,s,l)),s={cache:Lg()},r.payload=s;return}s=s.return}}function zb(r,s,l){var c=TA();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gf(r)?$v(s,l):(l=Ig(r,s,l,c),l!==null&&(uA(l,r,c),Zv(l,s,c)))}function Wv(r,s,l){var c=TA();su(r,s,l,c)}function su(r,s,l,c){var y={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(gf(r))$v(s,y);else{var B=r.alternate;if(r.lanes===0&&(B===null||B.lanes===0)&&(B=s.lastRenderedReducer,B!==null))try{var E=s.lastRenderedState,S=B(E,l);if(y.hasEagerState=!0,y.eagerState=S,BA(S,E))return Yc(r,s,y,0),Et===null&&Jc(),!1}catch{}finally{}if(l=Ig(r,s,y,c),l!==null)return uA(l,r,c),Zv(l,s,c),!0}return!1}function lp(r,s,l,c){if(c={lane:2,revertLane:Op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},gf(r)){if(s)throw Error(A(479))}else s=Ig(r,l,c,2),s!==null&&uA(s,r,2)}function gf(r){var s=r.alternate;return r===Ge||s!==null&&s===Ge}function $v(r,s){Fa=af=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Zv(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,io(r,l)}}var ou={readContext:In,use:cf,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};ou.useEffectEvent=zt;var jv={readContext:In,use:cf,useCallback:function(r,s){return $n().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:Mv,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,df(4194308,4,Vv.bind(null,s,r),l)},useLayoutEffect:function(r,s){return df(4194308,4,r,s)},useInsertionEffect:function(r,s){df(4,2,r,s)},useMemo:function(r,s){var l=$n();s=s===void 0?null:s;var c=r();if(bo){rA(!0);try{r()}finally{rA(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=$n();if(l!==void 0){var y=l(s);if(bo){rA(!0);try{l(s)}finally{rA(!1)}}}else y=s;return c.memoizedState=c.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},c.queue=r,r=r.dispatch=zb.bind(null,Ge,r),[c.memoizedState,r]},useRef:function(r){var s=$n();return r={current:r},s.memoizedState=r},useState:function(r){r=np(r);var s=r.queue,l=Wv.bind(null,Ge,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:ip,useDeferredValue:function(r,s){var l=$n();return sp(l,r,s)},useTransition:function(){var r=np(!1);return r=qv.bind(null,Ge,r.queue,!0,!1),$n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=Ge,y=$n();if(nt){if(l===void 0)throw Error(A(407));l=l()}else{if(l=s(),Et===null)throw Error(A(349));(We&127)!==0||vv(c,s,l)}y.memoizedState=l;var B={value:l,getSnapshot:s};return y.queue=B,Mv(Cv.bind(null,c,B,r),[r]),c.flags|=2048,Ra(9,{destroy:void 0},wv.bind(null,c,B,l,s),null),l},useId:function(){var r=$n(),s=Et.identifierPrefix;if(nt){var l=Mr,c=Dr;l=(c&~(1<<32-Dt(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=lf++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Pb++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:ap,useFormState:Rv,useActionState:Rv,useOptimistic:function(r){var s=$n();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=lp.bind(null,Ge,!0,l),l.dispatch=s,[r,s]},useMemoCache:jg,useCacheRefresh:function(){return $n().memoizedState=qb.bind(null,Ge)},useEffectEvent:function(r){var s=$n(),l={impl:r};return s.memoizedState=l,function(){if((lt&2)!==0)throw Error(A(440));return l.impl.apply(void 0,arguments)}}},up={readContext:In,use:cf,useCallback:kv,useContext:In,useEffect:rp,useImperativeHandle:Ov,useInsertionEffect:Hv,useLayoutEffect:Pv,useMemo:Kv,useReducer:ff,useRef:Dv,useState:function(){return ff(di)},useDebugValue:ip,useDeferredValue:function(r,s){var l=Wt();return Gv(l,yt.memoizedState,r,s)},useTransition:function(){var r=ff(di)[0],s=Wt().memoizedState;return[typeof r=="boolean"?r:iu(r),s]},useSyncExternalStore:Bv,useId:Yv,useHostTransitionStatus:ap,useFormState:bv,useActionState:bv,useOptimistic:function(r,s){var l=Wt();return Tv(l,yt,r,s)},useMemoCache:jg,useCacheRefresh:Xv};up.useEffectEvent=Lv;var ew={readContext:In,use:cf,useCallback:kv,useContext:In,useEffect:rp,useImperativeHandle:Ov,useInsertionEffect:Hv,useLayoutEffect:Pv,useMemo:Kv,useReducer:tp,useRef:Dv,useState:function(){return tp(di)},useDebugValue:ip,useDeferredValue:function(r,s){var l=Wt();return yt===null?sp(l,r,s):Gv(l,yt.memoizedState,r,s)},useTransition:function(){var r=tp(di)[0],s=Wt().memoizedState;return[typeof r=="boolean"?r:iu(r),s]},useSyncExternalStore:Bv,useId:Yv,useHostTransitionStatus:ap,useFormState:Nv,useActionState:Nv,useOptimistic:function(r,s){var l=Wt();return yt!==null?Tv(l,yt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:jg,useCacheRefresh:Xv};ew.useEffectEvent=Lv;function cp(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var fp={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=TA(),y=os(c);y.payload=s,l!=null&&(y.callback=l),s=as(r,y,c),s!==null&&(uA(s,r,c),tu(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=TA(),y=os(c);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=as(r,y,c),s!==null&&(uA(s,r,c),tu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=TA(),c=os(l);c.tag=2,s!=null&&(c.callback=s),s=as(r,c,l),s!==null&&(uA(s,r,l),tu(s,r,l))}};function tw(r,s,l,c,y,B,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,B,E):s.prototype&&s.prototype.isPureReactComponent?!Jl(l,c)||!Jl(y,B):!0}function nw(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&fp.enqueueReplaceState(s,s.state,null)}function xo(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var y in r)l[y]===void 0&&(l[y]=r[y])}return l}function Aw(r){zc(r)}function rw(r){console.error(r)}function iw(r){zc(r)}function pf(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function sw(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function dp(r,s,l){return l=os(l),l.tag=3,l.payload={element:null},l.callback=function(){pf(r,s)},l}function ow(r){return r=os(r),r.tag=3,r}function aw(r,s,l,c){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var B=c.value;r.payload=function(){return y(B)},r.callback=function(){sw(s,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){sw(s,l,c),typeof y!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function Jb(r,s,l,c,y){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Ea(s,l,y,!0),l=wA.current,l!==null){switch(l.tag){case 31:case 13:return kA===null?Uf():l.alternate===null&&Jt===0&&(Jt=3),l.flags&=-257,l.flags|=65536,l.lanes=y,c===nf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Hp(r,c,y)),!1;case 22:return l.flags|=65536,c===nf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Hp(r,c,y)),!1}throw Error(A(435,l.tag))}return Hp(r,c,y),Uf(),!1}if(nt)return s=wA.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,c!==bg&&(r=Error(A(422),{cause:c}),Wl(HA(r,l)))):(c!==bg&&(s=Error(A(423),{cause:c}),Wl(HA(s,l))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,c=HA(c,l),y=dp(r.stateNode,c,y),Kg(r,y),Jt!==4&&(Jt=2)),!1;var B=Error(A(520),{cause:c});if(B=HA(B,l),gu===null?gu=[B]:gu.push(B),Jt!==4&&(Jt=2),s===null)return!0;c=HA(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=y&-y,l.lanes|=r,r=dp(l.stateNode,c,r),Kg(l,r),!1;case 1:if(s=l.type,B=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(hs===null||!hs.has(B))))return l.flags|=65536,y&=-y,l.lanes|=y,y=ow(y),aw(y,r,l,c),Kg(l,y),!1}l=l.return}while(l!==null);return!1}var hp=Error(A(461)),sn=!1;function Sn(r,s,l,c){s.child=r===null?fv(s,null,l,c):Ro(s,r.child,l,c)}function lw(r,s,l,c,y){l=l.render;var B=s.ref;if("ref"in c){var E={};for(var S in c)S!=="ref"&&(E[S]=c[S])}else E=c;return So(s),c=Xg(r,s,l,E,B,y),S=Wg(),r!==null&&!sn?($g(r,s,y),hi(r,s,y)):(nt&&S&&Qg(s),s.flags|=1,Sn(r,s,c,y),s.child)}function uw(r,s,l,c,y){if(r===null){var B=l.type;return typeof B=="function"&&!Sg(B)&&B.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=B,cw(r,s,B,c,y)):(r=Wc(l.type,null,c,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(B=r.child,!Cp(r,y)){var E=B.memoizedProps;if(l=l.compare,l=l!==null?l:Jl,l(E,c)&&r.ref===s.ref)return hi(r,s,y)}return s.flags|=1,r=ai(B,c),r.ref=s.ref,r.return=s,s.child=r}function cw(r,s,l,c,y){if(r!==null){var B=r.memoizedProps;if(Jl(B,c)&&r.ref===s.ref)if(sn=!1,s.pendingProps=c=B,Cp(r,y))(r.flags&131072)!==0&&(sn=!0);else return s.lanes=r.lanes,hi(r,s,y)}return gp(r,s,l,c,y)}function fw(r,s,l,c){var y=c.children,B=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(B=B!==null?B.baseLanes|l:l,r!==null){for(c=s.child=r.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~B}else c=0,s.child=null;return dw(r,s,B,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ef(s,B!==null?B.cachePool:null),B!==null?gv(s,B):qg(),pv(s);else return c=s.lanes=536870912,dw(r,s,B!==null?B.baseLanes|l:l,l,c)}else B!==null?(ef(s,B.cachePool),gv(s,B),us(),s.memoizedState=null):(r!==null&&ef(s,null),qg(),us());return Sn(r,s,y,l),s.child}function au(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function dw(r,s,l,c,y){var B=Pg();return B=B===null?null:{parent:An._currentValue,pool:B},s.memoizedState={baseLanes:l,cachePool:B},r!==null&&ef(s,null),qg(),pv(s),r!==null&&Ea(r,s,c,!0),s.childLanes=y,null}function mf(r,s){return s=Bf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function hw(r,s,l){return Ro(s,r.child,null,l),r=mf(s,s.pendingProps),r.flags|=2,CA(s),s.memoizedState=null,r}function Yb(r,s,l){var c=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(nt){if(c.mode==="hidden")return r=mf(s,c),s.lanes=536870912,au(null,r);if(Jg(s),(r=xt)?(r=IC(r,OA),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ns!==null?{id:Dr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},l=$B(r),l.return=s,s.child=l,Tn=s,xt=null)):r=null,r===null)throw rs(s);return s.lanes=536870912,null}return mf(s,c)}var B=r.memoizedState;if(B!==null){var E=B.dehydrated;if(Jg(s),y)if(s.flags&256)s.flags&=-257,s=hw(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(A(558));else if(sn||Ea(r,s,l,!1),y=(l&r.childLanes)!==0,sn||y){if(c=Et,c!==null&&(E=so(c,l),E!==0&&E!==B.retryLane))throw B.retryLane=E,Eo(r,E),uA(c,r,E),hp;Uf(),s=hw(r,s,l)}else r=B.treeContext,xt=KA(E.nextSibling),Tn=s,nt=!0,As=null,OA=!1,r!==null&&ev(s,r),s=mf(s,c),s.flags|=4096;return s}return r=ai(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function yf(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(A(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function gp(r,s,l,c,y){return So(s),l=Xg(r,s,l,c,void 0,y),c=Wg(),r!==null&&!sn?($g(r,s,y),hi(r,s,y)):(nt&&c&&Qg(s),s.flags|=1,Sn(r,s,l,y),s.child)}function gw(r,s,l,c,y,B){return So(s),s.updateQueue=null,l=yv(s,c,l,y),mv(r),c=Wg(),r!==null&&!sn?($g(r,s,B),hi(r,s,B)):(nt&&c&&Qg(s),s.flags|=1,Sn(r,s,l,B),s.child)}function pw(r,s,l,c,y){if(So(s),s.stateNode===null){var B=Ba,E=l.contextType;typeof E=="object"&&E!==null&&(B=In(E)),B=new l(c,B),s.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=fp,s.stateNode=B,B._reactInternals=s,B=s.stateNode,B.props=c,B.state=s.memoizedState,B.refs={},Og(s),E=l.contextType,B.context=typeof E=="object"&&E!==null?In(E):Ba,B.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(cp(s,l,E,c),B.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(E=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),E!==B.state&&fp.enqueueReplaceState(B,B.state,null),Au(s,c,B,y),nu(),B.state=s.memoizedState),typeof B.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){B=s.stateNode;var S=s.memoizedProps,H=xo(l,S);B.props=H;var X=B.context,re=l.contextType;E=Ba,typeof re=="object"&&re!==null&&(E=In(re));var oe=l.getDerivedStateFromProps;re=typeof oe=="function"||typeof B.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,re||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(S||X!==E)&&nw(s,B,c,E),ss=!1;var $=s.memoizedState;B.state=$,Au(s,c,B,y),nu(),X=s.memoizedState,S||$!==X||ss?(typeof oe=="function"&&(cp(s,l,oe,c),X=s.memoizedState),(H=ss||tw(s,l,H,c,$,X,E))?(re||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(s.flags|=4194308)):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),B.props=c,B.state=X,B.context=E,c=H):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{B=s.stateNode,kg(r,s),E=s.memoizedProps,re=xo(l,E),B.props=re,oe=s.pendingProps,$=B.context,X=l.contextType,H=Ba,typeof X=="object"&&X!==null&&(H=In(X)),S=l.getDerivedStateFromProps,(X=typeof S=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(E!==oe||$!==H)&&nw(s,B,c,H),ss=!1,$=s.memoizedState,B.state=$,Au(s,c,B,y),nu();var te=s.memoizedState;E!==oe||$!==te||ss||r!==null&&r.dependencies!==null&&Zc(r.dependencies)?(typeof S=="function"&&(cp(s,l,S,c),te=s.memoizedState),(re=ss||tw(s,l,re,c,$,te,H)||r!==null&&r.dependencies!==null&&Zc(r.dependencies))?(X||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(c,te,H),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(c,te,H)),typeof B.componentDidUpdate=="function"&&(s.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof B.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=te),B.props=c,B.state=te,B.context=H,c=re):(typeof B.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),c=!1)}return B=c,yf(r,s),c=(s.flags&128)!==0,B||c?(B=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:B.render(),s.flags|=1,r!==null&&c?(s.child=Ro(s,r.child,null,y),s.child=Ro(s,null,l,y)):Sn(r,s,l,y),s.memoizedState=B.state,r=s.child):r=hi(r,s,y),r}function mw(r,s,l,c){return To(),s.flags|=256,Sn(r,s,l,c),s.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(r){return{baseLanes:r,cachePool:sv()}}function yp(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=_A),r}function yw(r,s,l){var c=s.pendingProps,y=!1,B=(s.flags&128)!==0,E;if((E=B)||(E=r!==null&&r.memoizedState===null?!1:(Xt.current&2)!==0),E&&(y=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(nt){if(y?ls(s):us(),(r=xt)?(r=IC(r,OA),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ns!==null?{id:Dr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},l=$B(r),l.return=s,s.child=l,Tn=s,xt=null)):r=null,r===null)throw rs(s);return em(r)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,y?(us(),y=s.mode,S=Bf({mode:"hidden",children:S},y),c=_o(c,y,l,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=mp(l),c.childLanes=yp(r,E,l),s.memoizedState=pp,au(null,c)):(ls(s),Bp(s,S))}var H=r.memoizedState;if(H!==null&&(S=H.dehydrated,S!==null)){if(B)s.flags&256?(ls(s),s.flags&=-257,s=vp(r,s,l)):s.memoizedState!==null?(us(),s.child=r.child,s.flags|=128,s=null):(us(),S=c.fallback,y=s.mode,c=Bf({mode:"visible",children:c.children},y),S=_o(S,y,l,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,Ro(s,r.child,null,l),c=s.child,c.memoizedState=mp(l),c.childLanes=yp(r,E,l),s.memoizedState=pp,s=au(null,c));else if(ls(s),em(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var X=E.dgst;E=X,c=Error(A(419)),c.stack="",c.digest=E,Wl({value:c,source:null,stack:null}),s=vp(r,s,l)}else if(sn||Ea(r,s,l,!1),E=(l&r.childLanes)!==0,sn||E){if(E=Et,E!==null&&(c=so(E,l),c!==0&&c!==H.retryLane))throw H.retryLane=c,Eo(r,c),uA(E,r,c),hp;jp(S)||Uf(),s=vp(r,s,l)}else jp(S)?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,xt=KA(S.nextSibling),Tn=s,nt=!0,As=null,OA=!1,r!==null&&ev(s,r),s=Bp(s,c.children),s.flags|=4096);return s}return y?(us(),S=c.fallback,y=s.mode,H=r.child,X=H.sibling,c=ai(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,X!==null?S=ai(X,S):(S=_o(S,y,l,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,au(null,c),c=s.child,S=r.child.memoizedState,S===null?S=mp(l):(y=S.cachePool,y!==null?(H=An._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=sv(),S={baseLanes:S.baseLanes|l,cachePool:y}),c.memoizedState=S,c.childLanes=yp(r,E,l),s.memoizedState=pp,au(r.child,c)):(ls(s),l=r.child,r=l.sibling,l=ai(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=l,s.memoizedState=null,l)}function Bp(r,s){return s=Bf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Bf(r,s){return r=vA(22,r,null,s),r.lanes=0,r}function vp(r,s,l){return Ro(s,r.child,null,l),r=Bp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Bw(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Dg(r.return,s,l)}function wp(r,s,l,c,y,B){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:y,treeForkCount:B}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=l,E.tailMode=y,E.treeForkCount=B)}function vw(r,s,l){var c=s.pendingProps,y=c.revealOrder,B=c.tail;c=c.children;var E=Xt.current,S=(E&2)!==0;if(S?(E=E&1|2,s.flags|=128):E&=1,fe(Xt,E),Sn(r,s,c,l),c=nt?Xl:0,!S&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Bw(r,l,s);else if(r.tag===19)Bw(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)r=l.alternate,r!==null&&of(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),wp(s,!1,y,l,B,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&of(r)===null){s.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}wp(s,!0,l,null,B,c);break;case"together":wp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function hi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ds|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Ea(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(A(153));if(s.child!==null){for(r=s.child,l=ai(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ai(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Cp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Zc(r)))}function Xb(r,s,l){switch(s.tag){case 3:Ot(s,s.stateNode.containerInfo),is(s,An,r.memoizedState.cache),To();break;case 27:case 5:Er(s);break;case 4:Ot(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Jg(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ls(s),s.flags|=128,null):(l&s.child.childLanes)!==0?yw(r,s,l):(ls(s),r=hi(r,s,l),r!==null?r.sibling:null);ls(s);break;case 19:var y=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Ea(r,s,l,!1),c=(l&s.childLanes)!==0),y){if(c)return vw(r,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),fe(Xt,Xt.current),c)break;return null;case 22:return s.lanes=0,fw(r,s,l,s.pendingProps);case 24:is(s,An,r.memoizedState.cache)}return hi(r,s,l)}function ww(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)sn=!0;else{if(!Cp(r,l)&&(s.flags&128)===0)return sn=!1,Xb(r,s,l);sn=(r.flags&131072)!==0}else sn=!1,nt&&(s.flags&1048576)!==0&&jB(s,Xl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=Fo(s.elementType),s.type=r,typeof r=="function")Sg(r)?(c=xo(r,c),s.tag=1,s=pw(null,s,r,c,l)):(s.tag=0,s=gp(null,s,r,c,l));else{if(r!=null){var y=r.$$typeof;if(y===ne){s.tag=11,s=lw(null,s,r,c,l);break e}else if(y===b){s.tag=14,s=uw(null,s,r,c,l);break e}}throw s=Te(r)||r,Error(A(306,s,""))}}return s;case 0:return gp(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,y=xo(c,s.pendingProps),pw(r,s,c,y,l);case 3:e:{if(Ot(s,s.stateNode.containerInfo),r===null)throw Error(A(387));c=s.pendingProps;var B=s.memoizedState;y=B.element,kg(r,s),Au(s,c,null,l);var E=s.memoizedState;if(c=E.cache,is(s,An,c),c!==B.cache&&Mg(s,[An],l,!0),nu(),c=E.element,B.isDehydrated)if(B={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=B,s.memoizedState=B,s.flags&256){s=mw(r,s,c,l);break e}else if(c!==y){y=HA(Error(A(424)),s),Wl(y),s=mw(r,s,c,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(xt=KA(r.firstChild),Tn=s,nt=!0,As=null,OA=!0,l=fv(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(To(),c===y){s=hi(r,s,l);break e}Sn(r,s,c,l)}s=s.child}return s;case 26:return yf(r,s),r===null?(l=bC(s.type,null,s.pendingProps,null))?s.memoizedState=l:nt||(l=s.type,r=s.pendingProps,c=Df(Qe.current).createElement(l),c[Lt]=s,c[nn]=r,Un(c,l,r),Gt(c),s.stateNode=c):s.memoizedState=bC(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Er(s),r===null&&nt&&(c=s.stateNode=FC(s.type,s.pendingProps,Qe.current),Tn=s,OA=!0,y=xt,ys(s.type)?(tm=y,xt=KA(c.firstChild)):xt=y),Sn(r,s,s.pendingProps.children,l),yf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&nt&&((y=c=xt)&&(c=Tx(c,s.type,s.pendingProps,OA),c!==null?(s.stateNode=c,Tn=s,xt=KA(c.firstChild),OA=!1,y=!0):y=!1),y||rs(s)),Er(s),y=s.type,B=s.pendingProps,E=r!==null?r.memoizedProps:null,c=B.children,Wp(y,B)?c=null:E!==null&&Wp(y,E)&&(s.flags|=32),s.memoizedState!==null&&(y=Xg(r,s,Vb,null,null,l),Eu._currentValue=y),yf(r,s),Sn(r,s,c,l),s.child;case 6:return r===null&&nt&&((r=l=xt)&&(l=Ix(l,s.pendingProps,OA),l!==null?(s.stateNode=l,Tn=s,xt=null,r=!0):r=!1),r||rs(s)),null;case 13:return yw(r,s,l);case 4:return Ot(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ro(s,null,c,l):Sn(r,s,c,l),s.child;case 11:return lw(r,s,s.type,s.pendingProps,l);case 7:return Sn(r,s,s.pendingProps,l),s.child;case 8:return Sn(r,s,s.pendingProps.children,l),s.child;case 12:return Sn(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,is(s,s.type,c.value),Sn(r,s,c.children,l),s.child;case 9:return y=s.type._context,c=s.pendingProps.children,So(s),y=In(y),c=c(y),s.flags|=1,Sn(r,s,c,l),s.child;case 14:return uw(r,s,s.type,s.pendingProps,l);case 15:return cw(r,s,s.type,s.pendingProps,l);case 19:return vw(r,s,l);case 31:return Yb(r,s,l);case 22:return fw(r,s,l,s.pendingProps);case 24:return So(s),c=In(An),r===null?(y=Pg(),y===null&&(y=Et,B=Lg(),y.pooledCache=B,B.refCount++,B!==null&&(y.pooledCacheLanes|=l),y=B),s.memoizedState={parent:c,cache:y},Og(s),is(s,An,y)):((r.lanes&l)!==0&&(kg(r,s),Au(s,null,null,l),nu()),y=r.memoizedState,B=s.memoizedState,y.parent!==c?(y={parent:c,cache:c},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),is(s,An,c)):(c=B.cache,is(s,An,c),c!==y.cache&&Mg(s,[An],l,!0))),Sn(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(A(156,s.tag))}function gi(r){r.flags|=4}function Ep(r,s,l,c,y){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(Yw())r.flags|=8192;else throw Qo=nf,Vg}else r.flags&=-16777217}function Cw(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!LC(s))if(Yw())r.flags|=8192;else throw Qo=nf,Vg}function vf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ro():536870912,r.lanes|=s,Da|=s)}function lu(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function Wb(r,s,l){var c=s.pendingProps;switch(Rg(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ci(An),ft(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ca(s)?gi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xg())),Nt(s),null;case 26:var y=s.type,B=s.memoizedState;return r===null?(gi(s),B!==null?(Nt(s),Cw(s,B)):(Nt(s),Ep(s,y,null,c,l))):B?B!==r.memoizedState?(gi(s),Nt(s),Cw(s,B)):(Nt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&gi(s),Nt(s),Ep(s,y,r,c,l)),null;case 27:if(er(s),l=Qe.current,y=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&gi(s);else{if(!c){if(s.stateNode===null)throw Error(A(166));return Nt(s),null}r=pe.current,Ca(s)?tv(s):(r=FC(y,c,l),s.stateNode=r,gi(s))}return Nt(s),null;case 5:if(er(s),y=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&gi(s);else{if(!c){if(s.stateNode===null)throw Error(A(166));return Nt(s),null}if(B=pe.current,Ca(s))tv(s);else{var E=Df(Qe.current);switch(B){case 1:B=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:B=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":B=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":B=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":B=E.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?B.multiple=!0:c.size&&(B.size=c.size);break;default:B=typeof c.is=="string"?E.createElement(y,{is:c.is}):E.createElement(y)}}B[Lt]=s,B[nn]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)B.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=B;e:switch(Un(B,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&gi(s)}}return Nt(s),Ep(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&gi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(A(166));if(r=Qe.current,Ca(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,y=Tn,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}r[Lt]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||yC(r.nodeValue,l)),r||rs(s,!0)}else r=Df(r).createTextNode(c),r[Lt]=s,s.stateNode=r}return Nt(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(c=Ca(s),l!==null){if(r===null){if(!c)throw Error(A(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(557));r[Lt]=s}else To(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),r=!1}else l=xg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(CA(s),s):(CA(s),null);if((s.flags&128)!==0)throw Error(A(558))}return Nt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Ca(s),c!==null&&c.dehydrated!==null){if(r===null){if(!y)throw Error(A(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(A(317));y[Lt]=s}else To(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),y=!1}else y=xg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(CA(s),s):(CA(s),null)}return CA(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=s.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),B=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(B=c.memoizedState.cachePool.pool),B!==y&&(c.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),vf(s,s.updateQueue),Nt(s),null);case 4:return ft(),r===null&&qp(s.stateNode.containerInfo),Nt(s),null;case 10:return ci(s.type),Nt(s),null;case 19:if(j(Xt),c=s.memoizedState,c===null)return Nt(s),null;if(y=(s.flags&128)!==0,B=c.rendering,B===null)if(y)lu(c,!1);else{if(Jt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(B=of(r),B!==null){for(s.flags|=128,lu(c,!1),r=B.updateQueue,s.updateQueue=r,vf(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)WB(l,r),l=l.sibling;return fe(Xt,Xt.current&1|2),nt&&li(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&mn()>Tf&&(s.flags|=128,y=!0,lu(c,!1),s.lanes=4194304)}else{if(!y)if(r=of(B),r!==null){if(s.flags|=128,y=!0,r=r.updateQueue,s.updateQueue=r,vf(s,r),lu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!B.alternate&&!nt)return Nt(s),null}else 2*mn()-c.renderingStartTime>Tf&&l!==536870912&&(s.flags|=128,y=!0,lu(c,!1),s.lanes=4194304);c.isBackwards?(B.sibling=s.child,s.child=B):(r=c.last,r!==null?r.sibling=B:s.child=B,c.last=B)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=mn(),r.sibling=null,l=Xt.current,fe(Xt,y?l&1|2:l&1),nt&&li(s,c.treeForkCount),r):(Nt(s),null);case 22:case 23:return CA(s),zg(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),l=s.updateQueue,l!==null&&vf(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&j(Uo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ci(An),Nt(s),null;case 25:return null;case 30:return null}throw Error(A(156,s.tag))}function $b(r,s){switch(Rg(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ci(An),ft(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return er(s),null;case 31:if(s.memoizedState!==null){if(CA(s),s.alternate===null)throw Error(A(340));To()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(CA(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(A(340));To()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return j(Xt),null;case 4:return ft(),null;case 10:return ci(s.type),null;case 22:case 23:return CA(s),zg(),r!==null&&j(Uo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ci(An),null;case 25:return null;default:return null}}function Ew(r,s){switch(Rg(s),s.tag){case 3:ci(An),ft();break;case 26:case 27:case 5:er(s);break;case 4:ft();break;case 31:s.memoizedState!==null&&CA(s);break;case 13:CA(s);break;case 19:j(Xt);break;case 10:ci(s.type);break;case 22:case 23:CA(s),zg(),r!==null&&j(Uo);break;case 24:ci(An)}}function uu(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var y=c.next;l=y;do{if((l.tag&r)===r){c=void 0;var B=l.create,E=l.inst;c=B(),E.destroy=c}l=l.next}while(l!==y)}}catch(S){ht(s,s.return,S)}}function cs(r,s,l){try{var c=s.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var B=y.next;c=B;do{if((c.tag&r)===r){var E=c.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,y=s;var H=l,X=S;try{X()}catch(re){ht(y,H,re)}}}c=c.next}while(c!==B)}}catch(re){ht(s,s.return,re)}}function _w(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{hv(s,l)}catch(c){ht(r,r.return,c)}}}function Tw(r,s,l){l.props=xo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){ht(r,s,c)}}function cu(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(y){ht(r,s,y)}}function Lr(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(y){ht(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){ht(r,s,y)}else l.current=null}function Iw(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(y){ht(r,r.return,y)}}function _p(r,s,l){try{var c=r.stateNode;Bx(c,r.type,l,s),c[nn]=s}catch(y){ht(r,r.return,y)}}function Sw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ys(r.type)||r.tag===4}function Tp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Sw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ys(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ip(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Xn));else if(c!==4&&(c===27&&ys(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Ip(r,s,l),r=r.sibling;r!==null;)Ip(r,s,l),r=r.sibling}function wf(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&ys(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(wf(r,s,l),r=r.sibling;r!==null;)wf(r,s,l),r=r.sibling}function Uw(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Un(s,c,l),s[Lt]=r,s[nn]=l}catch(B){ht(r,r.return,B)}}var pi=!1,on=!1,Sp=!1,Fw=typeof WeakSet=="function"?WeakSet:Set,yn=null;function Zb(r,s){if(r=r.containerInfo,Yp=kf,r=OB(r),vg(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var y=c.anchorOffset,B=c.focusNode;c=c.focusOffset;try{l.nodeType,B.nodeType}catch{l=null;break e}var E=0,S=-1,H=-1,X=0,re=0,oe=r,$=null;t:for(;;){for(var te;oe!==l||y!==0&&oe.nodeType!==3||(S=E+y),oe!==B||c!==0&&oe.nodeType!==3||(H=E+c),oe.nodeType===3&&(E+=oe.nodeValue.length),(te=oe.firstChild)!==null;)$=oe,oe=te;for(;;){if(oe===r)break t;if($===l&&++X===y&&(S=E),$===B&&++re===c&&(H=E),(te=oe.nextSibling)!==null)break;oe=$,$=oe.parentNode}oe=te}l=S===-1||H===-1?null:{start:S,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xp={focusedElem:r,selectionRange:l},kf=!1,yn=s;yn!==null;)if(s=yn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,yn=r;else for(;yn!==null;){switch(s=yn,B=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)y=r[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&B!==null){r=void 0,l=s,y=B.memoizedProps,B=B.memoizedState,c=l.stateNode;try{var Ee=xo(l.type,y);r=c.getSnapshotBeforeUpdate(Ee,B),c.__reactInternalSnapshotBeforeUpdate=r}catch(be){ht(l,l.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)Zp(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Zp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(A(163))}if(r=s.sibling,r!==null){r.return=s.return,yn=r;break}yn=s.return}}function Qw(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:yi(r,l),c&4&&uu(5,l);break;case 1:if(yi(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(E){ht(l,l.return,E)}else{var y=xo(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ht(l,l.return,E)}}c&64&&_w(l),c&512&&cu(l,l.return);break;case 3:if(yi(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{hv(r,s)}catch(E){ht(l,l.return,E)}}break;case 27:s===null&&c&4&&Uw(l);case 26:case 5:yi(r,l),s===null&&c&4&&Iw(l),c&512&&cu(l,l.return);break;case 12:yi(r,l);break;case 31:yi(r,l),c&4&&xw(r,l);break;case 13:yi(r,l),c&4&&Nw(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=ox.bind(null,l),Sx(r,l))));break;case 22:if(c=l.memoizedState!==null||pi,!c){s=s!==null&&s.memoizedState!==null||on,y=pi;var B=on;pi=c,(on=s)&&!B?Bi(r,l,(l.subtreeFlags&8772)!==0):yi(r,l),pi=y,on=B}break;case 30:break;default:yi(r,l)}}function Rw(r){var s=r.alternate;s!==null&&(r.alternate=null,Rw(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&qi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Pt=null,sA=!1;function mi(r,s,l){for(l=l.child;l!==null;)bw(r,s,l),l=l.sibling}function bw(r,s,l){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(gA,l)}catch{}switch(l.tag){case 26:on||Lr(l,s),mi(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:on||Lr(l,s);var c=Pt,y=sA;ys(l.type)&&(Pt=l.stateNode,sA=!1),mi(r,s,l),vu(l.stateNode),Pt=c,sA=y;break;case 5:on||Lr(l,s);case 6:if(c=Pt,y=sA,Pt=null,mi(r,s,l),Pt=c,sA=y,Pt!==null)if(sA)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(l.stateNode)}catch(B){ht(l,s,B)}else try{Pt.removeChild(l.stateNode)}catch(B){ht(l,s,B)}break;case 18:Pt!==null&&(sA?(r=Pt,_C(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Ka(r)):_C(Pt,l.stateNode));break;case 4:c=Pt,y=sA,Pt=l.stateNode.containerInfo,sA=!0,mi(r,s,l),Pt=c,sA=y;break;case 0:case 11:case 14:case 15:cs(2,l,s),on||cs(4,l,s),mi(r,s,l);break;case 1:on||(Lr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Tw(l,s,c)),mi(r,s,l);break;case 21:mi(r,s,l);break;case 22:on=(c=on)||l.memoizedState!==null,mi(r,s,l),on=c;break;default:mi(r,s,l)}}function xw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ka(r)}catch(l){ht(s,s.return,l)}}}function Nw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ka(r)}catch(l){ht(s,s.return,l)}}function jb(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Fw),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Fw),s;default:throw Error(A(435,r.tag))}}function Cf(r,s){var l=jb(r);s.forEach(function(c){if(!l.has(c)){l.add(c);var y=ax.bind(null,r,c);c.then(y,y)}})}function oA(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var y=l[c],B=r,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(ys(S.type)){Pt=S.stateNode,sA=!1;break e}break;case 5:Pt=S.stateNode,sA=!1;break e;case 3:case 4:Pt=S.stateNode.containerInfo,sA=!0;break e}S=S.return}if(Pt===null)throw Error(A(160));bw(B,E,y),Pt=null,sA=!1,B=y.alternate,B!==null&&(B.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Dw(s,r),s=s.sibling}var lr=null;function Dw(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:oA(s,r),aA(r),c&4&&(cs(3,r,r.return),uu(3,r),cs(5,r,r.return));break;case 1:oA(s,r),aA(r),c&512&&(on||l===null||Lr(l,l.return)),c&64&&pi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var y=lr;if(oA(s,r),aA(r),c&512&&(on||l===null||Lr(l,l.return)),c&4){var B=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":B=y.getElementsByTagName("title")[0],(!B||B[yA]||B[Lt]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=y.createElement(c),y.head.insertBefore(B,y.querySelector("head > title"))),Un(B,c,l),B[Lt]=r,Gt(B),c=B;break e;case"link":var E=DC("link","href",y).get(c+(l.href||""));if(E){for(var S=0;S<E.length;S++)if(B=E[S],B.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&B.getAttribute("rel")===(l.rel==null?null:l.rel)&&B.getAttribute("title")===(l.title==null?null:l.title)&&B.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(S,1);break t}}B=y.createElement(c),Un(B,c,l),y.head.appendChild(B);break;case"meta":if(E=DC("meta","content",y).get(c+(l.content||""))){for(S=0;S<E.length;S++)if(B=E[S],B.getAttribute("content")===(l.content==null?null:""+l.content)&&B.getAttribute("name")===(l.name==null?null:l.name)&&B.getAttribute("property")===(l.property==null?null:l.property)&&B.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&B.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(S,1);break t}}B=y.createElement(c),Un(B,c,l),y.head.appendChild(B);break;default:throw Error(A(468,c))}B[Lt]=r,Gt(B),c=B}r.stateNode=c}else MC(y,r.type,r.stateNode);else r.stateNode=NC(y,c,r.memoizedProps);else B!==c?(B===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):B.count--,c===null?MC(y,r.type,r.stateNode):NC(y,c,r.memoizedProps)):c===null&&r.stateNode!==null&&_p(r,r.memoizedProps,l.memoizedProps)}break;case 27:oA(s,r),aA(r),c&512&&(on||l===null||Lr(l,l.return)),l!==null&&c&4&&_p(r,r.memoizedProps,l.memoizedProps);break;case 5:if(oA(s,r),aA(r),c&512&&(on||l===null||Lr(l,l.return)),r.flags&32){y=r.stateNode;try{Ln(y,"")}catch(Ee){ht(r,r.return,Ee)}}c&4&&r.stateNode!=null&&(y=r.memoizedProps,_p(r,y,l!==null?l.memoizedProps:y)),c&1024&&(Sp=!0);break;case 6:if(oA(s,r),aA(r),c&4){if(r.stateNode===null)throw Error(A(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(Ee){ht(r,r.return,Ee)}}break;case 3:if(Hf=null,y=lr,lr=Mf(s.containerInfo),oA(s,r),lr=y,aA(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ka(s.containerInfo)}catch(Ee){ht(r,r.return,Ee)}Sp&&(Sp=!1,Mw(r));break;case 4:c=lr,lr=Mf(r.stateNode.containerInfo),oA(s,r),aA(r),lr=c;break;case 12:oA(s,r),aA(r);break;case 31:oA(s,r),aA(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cf(r,c)));break;case 13:oA(s,r),aA(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_f=mn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cf(r,c)));break;case 22:y=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,X=pi,re=on;if(pi=X||y,on=re||H,oA(s,r),on=re,pi=X,aA(r),c&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||H||pi||on||No(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){H=l=s;try{if(B=H.stateNode,y)E=B.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=H.stateNode;var oe=H.memoizedProps.style,$=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Ee){ht(H,H.return,Ee)}}}else if(s.tag===6){if(l===null){H=s;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Ee){ht(H,H.return,Ee)}}}else if(s.tag===18){if(l===null){H=s;try{var te=H.stateNode;y?TC(te,!0):TC(H.stateNode,!1)}catch(Ee){ht(H,H.return,Ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Cf(r,l))));break;case 19:oA(s,r),aA(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cf(r,c)));break;case 30:break;case 21:break;default:oA(s,r),aA(r)}}function aA(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(Sw(c)){l=c;break}c=c.return}if(l==null)throw Error(A(160));switch(l.tag){case 27:var y=l.stateNode,B=Tp(r);wf(r,B,y);break;case 5:var E=l.stateNode;l.flags&32&&(Ln(E,""),l.flags&=-33);var S=Tp(r);wf(r,S,E);break;case 3:case 4:var H=l.stateNode.containerInfo,X=Tp(r);Ip(r,X,H);break;default:throw Error(A(161))}}catch(re){ht(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Mw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Mw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function yi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Qw(r,s.alternate,s),s=s.sibling}function No(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:cs(4,s,s.return),No(s);break;case 1:Lr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Tw(s,s.return,l),No(s);break;case 27:vu(s.stateNode);case 26:case 5:Lr(s,s.return),No(s);break;case 22:s.memoizedState===null&&No(s);break;case 30:No(s);break;default:No(s)}r=r.sibling}}function Bi(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,y=r,B=s,E=B.flags;switch(B.tag){case 0:case 11:case 15:Bi(y,B,l),uu(4,B);break;case 1:if(Bi(y,B,l),c=B,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(X){ht(c,c.return,X)}if(c=B,y=c.updateQueue,y!==null){var S=c.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)dv(H[y],S)}catch(X){ht(c,c.return,X)}}l&&E&64&&_w(B),cu(B,B.return);break;case 27:Uw(B);case 26:case 5:Bi(y,B,l),l&&c===null&&E&4&&Iw(B),cu(B,B.return);break;case 12:Bi(y,B,l);break;case 31:Bi(y,B,l),l&&E&4&&xw(y,B);break;case 13:Bi(y,B,l),l&&E&4&&Nw(y,B);break;case 22:B.memoizedState===null&&Bi(y,B,l),cu(B,B.return);break;case 30:break;default:Bi(y,B,l)}s=s.sibling}}function Up(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&$l(l))}function Fp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&$l(r))}function ur(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lw(r,s,l,c),s=s.sibling}function Lw(r,s,l,c){var y=s.flags;switch(s.tag){case 0:case 11:case 15:ur(r,s,l,c),y&2048&&uu(9,s);break;case 1:ur(r,s,l,c);break;case 3:ur(r,s,l,c),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&$l(r)));break;case 12:if(y&2048){ur(r,s,l,c),r=s.stateNode;try{var B=s.memoizedProps,E=B.id,S=B.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){ht(s,s.return,H)}}else ur(r,s,l,c);break;case 31:ur(r,s,l,c);break;case 13:ur(r,s,l,c);break;case 23:break;case 22:B=s.stateNode,E=s.alternate,s.memoizedState!==null?B._visibility&2?ur(r,s,l,c):fu(r,s):B._visibility&2?ur(r,s,l,c):(B._visibility|=2,ba(r,s,l,c,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Up(E,s);break;case 24:ur(r,s,l,c),y&2048&&Fp(s.alternate,s);break;default:ur(r,s,l,c)}}function ba(r,s,l,c,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var B=r,E=s,S=l,H=c,X=E.flags;switch(E.tag){case 0:case 11:case 15:ba(B,E,S,H,y),uu(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?ba(B,E,S,H,y):fu(B,E):(re._visibility|=2,ba(B,E,S,H,y)),y&&X&2048&&Up(E.alternate,E);break;case 24:ba(B,E,S,H,y),y&&X&2048&&Fp(E.alternate,E);break;default:ba(B,E,S,H,y)}s=s.sibling}}function fu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,y=c.flags;switch(c.tag){case 22:fu(l,c),y&2048&&Up(c.alternate,c);break;case 24:fu(l,c),y&2048&&Fp(c.alternate,c);break;default:fu(l,c)}s=s.sibling}}var du=8192;function xa(r,s,l){if(r.subtreeFlags&du)for(r=r.child;r!==null;)Hw(r,s,l),r=r.sibling}function Hw(r,s,l){switch(r.tag){case 26:xa(r,s,l),r.flags&du&&r.memoizedState!==null&&Px(l,lr,r.memoizedState,r.memoizedProps);break;case 5:xa(r,s,l);break;case 3:case 4:var c=lr;lr=Mf(r.stateNode.containerInfo),xa(r,s,l),lr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=du,du=16777216,xa(r,s,l),du=c):xa(r,s,l));break;default:xa(r,s,l)}}function Pw(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];yn=c,Ow(c,r)}Pw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vw(r),r=r.sibling}function Vw(r){switch(r.tag){case 0:case 11:case 15:hu(r),r.flags&2048&&cs(9,r,r.return);break;case 3:hu(r);break;case 12:hu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ef(r)):hu(r);break;default:hu(r)}}function Ef(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];yn=c,Ow(c,r)}Pw(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:cs(8,s,s.return),Ef(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Ef(s));break;default:Ef(s)}r=r.sibling}}function Ow(r,s){for(;yn!==null;){var l=yn;switch(l.tag){case 0:case 11:case 15:cs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$l(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,yn=c;else e:for(l=r;yn!==null;){c=yn;var y=c.sibling,B=c.return;if(Rw(c),c===l){yn=null;break e}if(y!==null){y.return=B,yn=y;break e}yn=B}}}var ex={getCacheForType:function(r){var s=In(An),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return In(An).controller.signal}},tx=typeof WeakMap=="function"?WeakMap:Map,lt=0,Et=null,Je=null,We=0,dt=0,EA=null,fs=!1,Na=!1,Qp=!1,vi=0,Jt=0,ds=0,Do=0,Rp=0,_A=0,Da=0,gu=null,lA=null,bp=!1,_f=0,kw=0,Tf=1/0,If=null,hs=null,hn=0,gs=null,Ma=null,wi=0,xp=0,Np=null,Kw=null,pu=0,Dp=null;function TA(){return(lt&2)!==0&&We!==0?We&-We:K.T!==null?Op():oa()}function Gw(){if(_A===0)if((We&536870912)===0||nt){var r=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),_A=r}else _A=536870912;return r=wA.current,r!==null&&(r.flags|=32),_A}function uA(r,s,l){(r===Et&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(La(r,0),ps(r,We,_A,!1)),ni(r,l),((lt&2)===0||r!==Et)&&(r===Et&&((lt&2)===0&&(Do|=l),Jt===4&&ps(r,We,_A,!1)),Hr(r))}function qw(r,s,l){if((lt&6)!==0)throw Error(A(327));var c=!l&&(s&127)===0&&(s&r.expiredLanes)===0||Ae(r,s),y=c?rx(r,s):Lp(r,s,!0),B=c;do{if(y===0){Na&&!c&&ps(r,s,0,!1);break}else{if(l=r.current.alternate,B&&!nx(l)){y=Lp(r,s,!1),B=!1;continue}if(y===2){if(B=s,r.errorRecoveryDisabledLanes&B)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=r;y=gu;var H=S.current.memoizedState.isDehydrated;if(H&&(La(S,E).flags|=256),E=Lp(S,E,!1),E!==2){if(Qp&&!H){S.errorRecoveryDisabledLanes|=B,Do|=B,y=4;break e}B=lA,lA=y,B!==null&&(lA===null?lA=B:lA.push.apply(lA,B))}y=E}if(B=!1,y!==2)continue}}if(y===1){La(r,0),ps(r,s,0,!0);break}e:{switch(c=r,B=y,B){case 0:case 1:throw Error(A(345));case 4:if((s&4194048)!==s)break;case 6:ps(c,s,_A,!fs);break e;case 2:lA=null;break;case 3:case 5:break;default:throw Error(A(329))}if((s&62914560)===s&&(y=_f+300-mn(),10<y)){if(ps(c,s,_A,!fs),Nn(c,0,!0)!==0)break e;wi=s,c.timeoutHandle=CC(zw.bind(null,c,l,lA,If,bp,s,_A,Do,Da,fs,B,"Throttled",-0,0),y);break e}zw(c,l,lA,If,bp,s,_A,Do,Da,fs,B,null,-0,0)}}break}while(!0);Hr(r)}function zw(r,s,l,c,y,B,E,S,H,X,re,oe,$,te){if(r.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Hw(s,B,oe);var Ee=(B&62914560)===B?_f-mn():(B&4194048)===B?kw-mn():0;if(Ee=Vx(oe,Ee),Ee!==null){wi=B,r.cancelPendingCommit=Ee(eC.bind(null,r,s,B,l,c,y,E,S,H,re,oe,null,$,te)),ps(r,B,E,!X);return}}eC(r,s,B,l,c,y,E,S,H)}function nx(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var y=l[c],B=y.getSnapshot;y=y.value;try{if(!BA(B(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(r,s,l,c){s&=~Rp,s&=~Do,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var y=s;0<y;){var B=31-Dt(y),E=1<<B;c[B]=-1,y&=~E}l!==0&&Ai(r,l,s)}function Sf(){return(lt&6)===0?(mu(0),!1):!0}function Mp(){if(Je!==null){if(dt===0)var r=Je.return;else r=Je,ui=Io=null,Zg(r),Sa=null,jl=0,r=Je;for(;r!==null;)Ew(r.alternate,r),r=r.return;Je=null}}function La(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Cx(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),wi=0,Mp(),Et=r,Je=l=ai(r.current,null),We=s,dt=0,EA=null,fs=!1,Na=Ae(r,s),Qp=!1,Da=_A=Rp=Do=ds=Jt=0,lA=gu=null,bp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var y=31-Dt(c),B=1<<y;s|=r[y],c&=~B}return vi=s,Jc(),l}function Jw(r,s){Ge=null,K.H=ou,s===Ia||s===tf?(s=lv(),dt=3):s===Vg?(s=lv(),dt=4):dt=s===hp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,EA=s,Je===null&&(Jt=1,pf(r,HA(s,r.current)))}function Yw(){var r=wA.current;return r===null?!0:(We&4194048)===We?kA===null:(We&62914560)===We||(We&536870912)!==0?r===kA:!1}function Xw(){var r=K.H;return K.H=ou,r===null?ou:r}function Ww(){var r=K.A;return K.A=ex,r}function Uf(){Jt=4,fs||(We&4194048)!==We&&wA.current!==null||(Na=!0),(ds&134217727)===0&&(Do&134217727)===0||Et===null||ps(Et,We,_A,!1)}function Lp(r,s,l){var c=lt;lt|=2;var y=Xw(),B=Ww();(Et!==r||We!==s)&&(If=null,La(r,s)),s=!1;var E=Jt;e:do try{if(dt!==0&&Je!==null){var S=Je,H=EA;switch(dt){case 8:Mp(),E=6;break e;case 3:case 2:case 9:case 6:wA.current===null&&(s=!0);var X=dt;if(dt=0,EA=null,Ha(r,S,H,X),l&&Na){E=0;break e}break;default:X=dt,dt=0,EA=null,Ha(r,S,H,X)}}Ax(),E=Jt;break}catch(re){Jw(r,re)}while(!0);return s&&r.shellSuspendCounter++,ui=Io=null,lt=c,K.H=y,K.A=B,Je===null&&(Et=null,We=0,Jc()),E}function Ax(){for(;Je!==null;)$w(Je)}function rx(r,s){var l=lt;lt|=2;var c=Xw(),y=Ww();Et!==r||We!==s?(If=null,Tf=mn()+500,La(r,s)):Na=Ae(r,s);e:do try{if(dt!==0&&Je!==null){s=Je;var B=EA;t:switch(dt){case 1:dt=0,EA=null,Ha(r,s,B,1);break;case 2:case 9:if(ov(B)){dt=0,EA=null,Zw(s);break}s=function(){dt!==2&&dt!==9||Et!==r||(dt=7),Hr(r)},B.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:ov(B)?(dt=0,EA=null,Zw(s)):(dt=0,EA=null,Ha(r,s,B,7));break;case 5:var E=null;switch(Je.tag){case 26:E=Je.memoizedState;case 5:case 27:var S=Je;if(E?LC(E):S.stateNode.complete){dt=0,EA=null;var H=S.sibling;if(H!==null)Je=H;else{var X=S.return;X!==null?(Je=X,Ff(X)):Je=null}break t}}dt=0,EA=null,Ha(r,s,B,5);break;case 6:dt=0,EA=null,Ha(r,s,B,6);break;case 8:Mp(),Jt=6;break e;default:throw Error(A(462))}}ix();break}catch(re){Jw(r,re)}while(!0);return ui=Io=null,K.H=c,K.A=y,lt=l,Je!==null?0:(Et=null,We=0,Jc(),Jt)}function ix(){for(;Je!==null&&!xc();)$w(Je)}function $w(r){var s=ww(r.alternate,r,vi);r.memoizedProps=r.pendingProps,s===null?Ff(r):Je=s}function Zw(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=gw(l,s,s.pendingProps,s.type,void 0,We);break;case 11:s=gw(l,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Zg(s);default:Ew(l,s),s=Je=WB(s,vi),s=ww(l,s,vi)}r.memoizedProps=r.pendingProps,s===null?Ff(r):Je=s}function Ha(r,s,l,c){ui=Io=null,Zg(s),Sa=null,jl=0;var y=s.return;try{if(Jb(r,y,s,l,We)){Jt=1,pf(r,HA(l,r.current)),Je=null;return}}catch(B){if(y!==null)throw Je=y,B;Jt=1,pf(r,HA(l,r.current)),Je=null;return}s.flags&32768?(nt||c===1?r=!0:Na||(We&536870912)!==0?r=!1:(fs=r=!0,(c===2||c===9||c===3||c===6)&&(c=wA.current,c!==null&&c.tag===13&&(c.flags|=16384))),jw(s,r)):Ff(s)}function Ff(r){var s=r;do{if((s.flags&32768)!==0){jw(s,fs);return}r=s.return;var l=Wb(s.alternate,s,vi);if(l!==null){Je=l;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=r}while(s!==null);Jt===0&&(Jt=5)}function jw(r,s){do{var l=$b(r.alternate,r);if(l!==null){l.flags&=32767,Je=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Je=r;return}Je=r=l}while(r!==null);Jt=6,Je=null}function eC(r,s,l,c,y,B,E,S,H){r.cancelPendingCommit=null;do Qf();while(hn!==0);if((lt&6)!==0)throw Error(A(327));if(s!==null){if(s===r.current)throw Error(A(177));if(B=s.lanes|s.childLanes,B|=Tg,Ll(r,l,B,E,S,H),r===Et&&(Je=Et=null,We=0),Ma=s,gs=r,wi=l,xp=B,Np=y,Kw=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,lx(hA,function(){return iC(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,y=ue.p,ue.p=2,E=lt,lt|=4;try{Zb(r,s,l)}finally{lt=E,ue.p=y,K.T=c}}hn=1,tC(),nC(),AC()}}function tC(){if(hn===1){hn=0;var r=gs,s=Ma,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=ue.p;ue.p=2;var y=lt;lt|=4;try{Dw(s,r);var B=Xp,E=OB(r.containerInfo),S=B.focusedElem,H=B.selectionRange;if(E!==S&&S&&S.ownerDocument&&VB(S.ownerDocument.documentElement,S)){if(H!==null&&vg(S)){var X=H.start,re=H.end;if(re===void 0&&(re=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(re,S.value.length);else{var oe=S.ownerDocument||document,$=oe&&oe.defaultView||window;if($.getSelection){var te=$.getSelection(),Ee=S.textContent.length,be=Math.min(H.start,Ee),vt=H.end===void 0?be:Math.min(H.end,Ee);!te.extend&&be>vt&&(E=vt,vt=be,be=E);var G=PB(S,be),V=PB(S,vt);if(G&&V&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==V.node||te.focusOffset!==V.offset)){var Y=oe.createRange();Y.setStart(G.node,G.offset),te.removeAllRanges(),be>vt?(te.addRange(Y),te.extend(V.node,V.offset)):(Y.setEnd(V.node,V.offset),te.addRange(Y))}}}}for(oe=[],te=S;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var se=oe[S];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}kf=!!Yp,Xp=Yp=null}finally{lt=y,ue.p=c,K.T=l}}r.current=s,hn=2}}function nC(){if(hn===2){hn=0;var r=gs,s=Ma,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=ue.p;ue.p=2;var y=lt;lt|=4;try{Qw(r,s.alternate,s)}finally{lt=y,ue.p=c,K.T=l}}hn=3}}function AC(){if(hn===4||hn===3){hn=0,Oi();var r=gs,s=Ma,l=wi,c=Kw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?hn=5:(hn=0,Ma=gs=null,rC(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(hs=null),Ar(l),s=s.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(gA,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=K.T,y=ue.p,ue.p=2,K.T=null;try{for(var B=r.onRecoverableError,E=0;E<c.length;E++){var S=c[E];B(S.value,{componentStack:S.stack})}}finally{K.T=s,ue.p=y}}(wi&3)!==0&&Qf(),Hr(r),y=r.pendingLanes,(l&261930)!==0&&(y&42)!==0?r===Dp?pu++:(pu=0,Dp=r):pu=0,mu(0)}}function rC(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,$l(s)))}function Qf(){return tC(),nC(),AC(),iC()}function iC(){if(hn!==5)return!1;var r=gs,s=xp;xp=0;var l=Ar(wi),c=K.T,y=ue.p;try{ue.p=32>l?32:l,K.T=null,l=Np,Np=null;var B=gs,E=wi;if(hn=0,Ma=gs=null,wi=0,(lt&6)!==0)throw Error(A(331));var S=lt;if(lt|=4,Vw(B.current),Lw(B,B.current,E,l),lt=S,mu(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(gA,B)}catch{}return!0}finally{ue.p=y,K.T=c,rC(r,s)}}function sC(r,s,l){s=HA(l,s),s=dp(r.stateNode,s,2),r=as(r,s,2),r!==null&&(ni(r,2),Hr(r))}function ht(r,s,l){if(r.tag===3)sC(r,r,l);else for(;s!==null;){if(s.tag===3){sC(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hs===null||!hs.has(c))){r=HA(l,r),l=ow(2),c=as(s,l,2),c!==null&&(aw(l,c,s,r),ni(c,2),Hr(c));break}}s=s.return}}function Hp(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new tx;var y=new Set;c.set(s,y)}else y=c.get(s),y===void 0&&(y=new Set,c.set(s,y));y.has(l)||(Qp=!0,y.add(l),r=sx.bind(null,r,s,l),s.then(r,r))}function sx(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Et===r&&(We&l)===l&&(Jt===4||Jt===3&&(We&62914560)===We&&300>mn()-_f?(lt&2)===0&&La(r,0):Rp|=l,Da===We&&(Da=0)),Hr(r)}function oC(r,s){s===0&&(s=ro()),r=Eo(r,s),r!==null&&(ni(r,s),Hr(r))}function ox(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),oC(r,l)}function ax(r,s){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(A(314))}c!==null&&c.delete(s),oC(r,l)}function lx(r,s){return It(r,s)}var Rf=null,Pa=null,Pp=!1,bf=!1,Vp=!1,ms=0;function Hr(r){r!==Pa&&r.next===null&&(Pa===null?Rf=Pa=r:Pa=Pa.next=r),bf=!0,Pp||(Pp=!0,cx())}function mu(r,s){if(!Vp&&bf){Vp=!0;do for(var l=!1,c=Rf;c!==null;){if(r!==0){var y=c.pendingLanes;if(y===0)var B=0;else{var E=c.suspendedLanes,S=c.pingedLanes;B=(1<<31-Dt(42|r)+1)-1,B&=y&~(E&~S),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(l=!0,cC(c,B))}else B=We,B=Nn(c,c===Et?B:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(B&3)===0||Ae(c,B)||(l=!0,cC(c,B));c=c.next}while(l);Vp=!1}}function ux(){aC()}function aC(){bf=Pp=!1;var r=0;ms!==0&&wx()&&(r=ms);for(var s=mn(),l=null,c=Rf;c!==null;){var y=c.next,B=lC(c,s);B===0?(c.next=null,l===null?Rf=y:l.next=y,y===null&&(Pa=l)):(l=c,(r!==0||(B&3)!==0)&&(bf=!0)),c=y}hn!==0&&hn!==5||mu(r),ms!==0&&(ms=0)}function lC(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,y=r.expirationTimes,B=r.pendingLanes&-62914561;0<B;){var E=31-Dt(B),S=1<<E,H=y[E];H===-1?((S&l)===0||(S&c)!==0)&&(y[E]=sa(S,s)):H<=s&&(r.expiredLanes|=S),B&=~S}if(s=Et,l=We,l=Nn(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&tr(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ae(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&tr(c),Ar(l)){case 2:case 8:l=_r;break;case 32:l=hA;break;case 268435456:l=AA;break;default:l=hA}return c=uC.bind(null,r),l=It(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&tr(c),r.callbackPriority=2,r.callbackNode=null,2}function uC(r,s){if(hn!==0&&hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Qf()&&r.callbackNode!==l)return null;var c=We;return c=Nn(r,r===Et?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(qw(r,c,s),lC(r,mn()),r.callbackNode!=null&&r.callbackNode===l?uC.bind(null,r):null)}function cC(r,s){if(Qf())return null;qw(r,s,!0)}function cx(){Ex(function(){(lt&6)!==0?It(ki,ux):aC()})}function Op(){if(ms===0){var r=_a;r===0&&(r=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),ms=r}return ms}function fC(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wi(""+r)}function dC(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function fx(r,s,l,c,y){if(s==="submit"&&l&&l.stateNode===y){var B=fC((y[nn]||null).action),E=c.submitter;E&&(s=(s=E[nn]||null)?fC(s.formAction):E.getAttribute("formAction"),s!==null&&(B=s,E=null));var S=new Rr("action","action",null,c,y);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ms!==0){var H=E?dC(y,E):new FormData(y);op(l,{pending:!0,data:H,method:y.method,action:B},null,H)}}else typeof B=="function"&&(S.preventDefault(),H=E?dC(y,E):new FormData(y),op(l,{pending:!0,data:H,method:y.method,action:B},B,H))},currentTarget:y}]})}}for(var kp=0;kp<_g.length;kp++){var Kp=_g[kp],dx=Kp.toLowerCase(),hx=Kp[0].toUpperCase()+Kp.slice(1);ar(dx,"on"+hx)}ar(GB,"onAnimationEnd"),ar(qB,"onAnimationIteration"),ar(zB,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(Qb,"onTransitionRun"),ar(Rb,"onTransitionStart"),ar(bb,"onTransitionCancel"),ar(JB,"onTransitionEnd"),xA("onMouseEnter",["mouseout","mouseover"]),xA("onMouseLeave",["mouseout","mouseover"]),xA("onPointerEnter",["pointerout","pointerover"]),xA("onPointerLeave",["pointerout","pointerover"]),bA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bA("onBeforeInput",["compositionend","keypress","textInput","paste"]),bA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function hC(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],y=c.event;c=c.listeners;e:{var B=void 0;if(s)for(var E=c.length-1;0<=E;E--){var S=c[E],H=S.instance,X=S.currentTarget;if(S=S.listener,H!==B&&y.isPropagationStopped())break e;B=S,y.currentTarget=X;try{B(y)}catch(re){zc(re)}y.currentTarget=null,B=H}else for(E=0;E<c.length;E++){if(S=c[E],H=S.instance,X=S.currentTarget,S=S.listener,H!==B&&y.isPropagationStopped())break e;B=S,y.currentTarget=X;try{B(y)}catch(re){zc(re)}y.currentTarget=null,B=H}}}}function Ye(r,s){var l=s[Gi];l===void 0&&(l=s[Gi]=new Set);var c=r+"__bubble";l.has(c)||(gC(s,r,2,!1),l.add(c))}function Gp(r,s,l){var c=0;s&&(c|=4),gC(l,r,c,s)}var xf="_reactListening"+Math.random().toString(36).slice(2);function qp(r){if(!r[xf]){r[xf]=!0,oo.forEach(function(l){l!=="selectionchange"&&(gx.has(l)||Gp(l,!1,r),Gp(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[xf]||(s[xf]=!0,Gp("selectionchange",!1,s))}}function gC(r,s,l,c){switch(GC(s)){case 2:var y=Kx;break;case 8:y=Gx;break;default:y=sm}l=y.bind(null,s,l,r),y=void 0,!go||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),c?y!==void 0?r.addEventListener(s,l,{capture:!0,passive:y}):r.addEventListener(s,l,!0):y!==void 0?r.addEventListener(s,l,{passive:y}):r.addEventListener(s,l,!1)}function zp(r,s,l,c,y){var B=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var S=c.stateNode.containerInfo;if(S===y)break;if(E===4)for(E=c.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;S!==null;){if(E=Dn(S),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){c=B=E;continue e}S=S.parentNode}}c=c.return}Zi(function(){var X=B,re=NA(l),oe=[];e:{var $=YB.get(r);if($!==void 0){var te=Rr,Ee=r;switch(r){case"keypress":if(mo(l)===0)break e;case"keydown":case"keyup":te=Kc;break;case"focusin":Ee="focus",te=Bo;break;case"focusout":Ee="blur",te=Bo;break;case"beforeblur":case"afterblur":te=Bo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=C;break;case GB:case qB:case zB:te=Mc;break;case JB:te=F;break;case"scroll":case"scrollend":te=kl;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=oi;break;case"toggle":case"beforetoggle":te=Ke}var be=(s&4)!==0,vt=!be&&(r==="scroll"||r==="scrollend"),G=be?$!==null?$+"Capture":null:$;be=[];for(var V=X,Y;V!==null;){var se=V;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||G===null||(se=rr(V,G),se!=null&&be.push(Bu(V,se,Y))),vt)break;V=V.return}0<be.length&&($=new te($,Ee,null,l,re),oe.push({event:$,listeners:be}))}}if((s&7)===0){e:{if($=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",$&&l!==Pl&&(Ee=l.relatedTarget||l.fromElement)&&(Dn(Ee)||Ee[QA]))break e;if((te||$)&&($=re.window===re?re:($=re.ownerDocument)?$.defaultView||$.parentWindow:window,te?(Ee=l.relatedTarget||l.toElement,te=X,Ee=Ee?Dn(Ee):null,Ee!==null&&(vt=o(Ee),be=Ee.tag,Ee!==vt||be!==5&&be!==27&&be!==6)&&(Ee=null)):(te=null,Ee=X),te!==Ee)){if(be=Kl,se="onMouseLeave",G="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(be=oi,se="onPointerLeave",G="onPointerEnter",V="pointer"),vt=te==null?$:En(te),Y=Ee==null?$:En(Ee),$=new be(se,V+"leave",te,l,re),$.target=vt,$.relatedTarget=Y,se=null,Dn(re)===X&&(be=new be(G,V+"enter",Ee,l,re),be.target=Y,be.relatedTarget=vt,se=be),vt=se,te&&Ee)t:{for(be=px,G=te,V=Ee,Y=0,se=G;se;se=be(se))Y++;se=0;for(var Ue=V;Ue;Ue=be(Ue))se++;for(;0<Y-se;)G=be(G),Y--;for(;0<se-Y;)V=be(V),se--;for(;Y--;){if(G===V||V!==null&&G===V.alternate){be=G;break t}G=be(G),V=be(V)}be=null}else be=null;te!==null&&pC(oe,$,te,be,!1),Ee!==null&&vt!==null&&pC(oe,vt,Ee,be,!0)}}e:{if($=X?En(X):window,te=$.nodeName&&$.nodeName.toLowerCase(),te==="select"||te==="input"&&$.type==="file")var it=xB;else if(RB($))if(NB)it=Sb;else{it=Tb;var _e=_b}else te=$.nodeName,!te||te.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?X&&Xi(X.elementType)&&(it=xB):it=Ib;if(it&&(it=it(r,X))){bB(oe,it,l,re);break e}_e&&_e(r,$,X),r==="focusout"&&X&&$.type==="number"&&X.memoizedProps.value!=null&&fn($,"number",$.value)}switch(_e=X?En(X):window,r){case"focusin":(RB(_e)||_e.contentEditable==="true")&&(pa=_e,wg=X,Yl=null);break;case"focusout":Yl=wg=pa=null;break;case"mousedown":Cg=!0;break;case"contextmenu":case"mouseup":case"dragend":Cg=!1,kB(oe,l,re);break;case"selectionchange":if(Fb)break;case"keydown":case"keyup":kB(oe,l,re)}var ze;if(at)e:{switch(r){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ga?vo(r,l)&&($e="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(Nr&&l.locale!=="ko"&&(ga||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ga&&(ze=Ol()):(Qr=re,Vl="value"in Qr?Qr.value:Qr.textContent,ga=!0)),_e=Nf(X,$e),0<_e.length&&($e=new xr($e,r,null,l,re),oe.push({event:$e,listeners:_e}),ze?$e.data=ze:(ze=ha(l),ze!==null&&($e.data=ze)))),(ze=MA?vb(r,l):wb(r,l))&&($e=Nf(X,"onBeforeInput"),0<$e.length&&(_e=new xr("onBeforeInput","beforeinput",null,l,re),oe.push({event:_e,listeners:$e}),_e.data=ze)),fx(oe,r,X,l,re)}hC(oe,s)})}function Bu(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Nf(r,s){for(var l=s+"Capture",c=[];r!==null;){var y=r,B=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||B===null||(y=rr(r,l),y!=null&&c.unshift(Bu(r,y,B)),y=rr(r,s),y!=null&&c.push(Bu(r,y,B))),r.tag===3)return c;r=r.return}return[]}function px(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pC(r,s,l,c,y){for(var B=s._reactName,E=[];l!==null&&l!==c;){var S=l,H=S.alternate,X=S.stateNode;if(S=S.tag,H!==null&&H===c)break;S!==5&&S!==26&&S!==27||X===null||(H=X,y?(X=rr(l,B),X!=null&&E.unshift(Bu(l,X,H))):y||(X=rr(l,B),X!=null&&E.push(Bu(l,X,H)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var mx=/\r\n?/g,yx=/\u0000|\uFFFD/g;function mC(r){return(typeof r=="string"?r:""+r).replace(mx,`
`).replace(yx,"")}function yC(r,s){return s=mC(s),mC(r)===s}function Bt(r,s,l,c,y,B){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ln(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ln(r,""+c);break;case"className":Mn(r,"class",c);break;case"tabIndex":Mn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(r,l,c);break;case"style":Yi(r,c,B);break;case"data":if(s!=="object"){Mn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Wi(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(l==="formAction"?(s!=="input"&&Bt(r,s,"name",y.name,y,null),Bt(r,s,"formEncType",y.formEncType,y,null),Bt(r,s,"formMethod",y.formMethod,y,null),Bt(r,s,"formTarget",y.formTarget,y,null)):(Bt(r,s,"encType",y.encType,y,null),Bt(r,s,"method",y.method,y,null),Bt(r,s,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Wi(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Xn);break;case"onScroll":c!=null&&Ye("scroll",r);break;case"onScrollEnd":c!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(A(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(A(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Wi(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),Ji(r,"popover",c);break;case"xlinkActuate":qt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ji(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=fo.get(l)||l,Ji(r,l,c))}}function Jp(r,s,l,c,y,B){switch(l){case"style":Yi(r,c,B);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(A(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(A(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Ln(r,c):(typeof c=="number"||typeof c=="bigint")&&Ln(r,""+c);break;case"onScroll":c!=null&&Ye("scroll",r);break;case"onScrollEnd":c!=null&&Ye("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),B=r[nn]||null,B=B!=null?B[l]:null,typeof B=="function"&&r.removeEventListener(s,B,y),typeof c=="function")){typeof B!="function"&&B!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,y);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Ji(r,l,c)}}}function Un(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var c=!1,y=!1,B;for(B in l)if(l.hasOwnProperty(B)){var E=l[B];if(E!=null)switch(B){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,s));default:Bt(r,s,B,E,l,null)}}y&&Bt(r,s,"srcSet",l.srcSet,l,null),c&&Bt(r,s,"src",l.src,l,null);return;case"input":Ye("invalid",r);var S=B=E=y=null,H=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":y=re;break;case"type":E=re;break;case"checked":H=re;break;case"defaultChecked":X=re;break;case"value":B=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(A(137,s));break;default:Bt(r,s,c,re,l,null)}}pt(r,B,S,H,X,E,y,!1);return;case"select":Ye("invalid",r),c=E=B=null;for(y in l)if(l.hasOwnProperty(y)&&(S=l[y],S!=null))switch(y){case"value":B=S;break;case"defaultValue":E=S;break;case"multiple":c=S;default:Bt(r,s,y,S,l,null)}s=B,l=E,r.multiple=!!c,s!=null?dn(r,!!c,s,!1):l!=null&&dn(r,!!c,l,!0);return;case"textarea":Ye("invalid",r),B=y=c=null;for(E in l)if(l.hasOwnProperty(E)&&(S=l[E],S!=null))switch(E){case"value":c=S;break;case"defaultValue":y=S;break;case"children":B=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(A(91));break;default:Bt(r,s,E,S,l,null)}At(r,c,y,B);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(r,s,H,c,l,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(c=0;c<yu.length;c++)Ye(yu[c],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,s));default:Bt(r,s,X,c,l,null)}return;default:if(Xi(s)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Jp(r,s,re,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&Bt(r,s,S,c,l,null))}function Bx(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,B=null,E=null,S=null,H=null,X=null,re=null;for(te in l){var oe=l[te];if(l.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":H=oe;default:c.hasOwnProperty(te)||Bt(r,s,te,null,c,oe)}}for(var $ in c){var te=c[$];if(oe=l[$],c.hasOwnProperty($)&&(te!=null||oe!=null))switch($){case"type":B=te;break;case"name":y=te;break;case"checked":X=te;break;case"defaultChecked":re=te;break;case"value":E=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(A(137,s));break;default:te!==oe&&Bt(r,s,$,te,c,oe)}}St(r,E,S,H,X,re,B,y);return;case"select":te=E=S=$=null;for(B in l)if(H=l[B],l.hasOwnProperty(B)&&H!=null)switch(B){case"value":break;case"multiple":te=H;default:c.hasOwnProperty(B)||Bt(r,s,B,null,c,H)}for(y in c)if(B=c[y],H=l[y],c.hasOwnProperty(y)&&(B!=null||H!=null))switch(y){case"value":$=B;break;case"defaultValue":S=B;break;case"multiple":E=B;default:B!==H&&Bt(r,s,y,B,c,H)}s=S,l=E,c=te,$!=null?dn(r,!!l,$,!1):!!c!=!!l&&(s!=null?dn(r,!!l,s,!0):dn(r,!!l,l?[]:"",!1));return;case"textarea":te=$=null;for(S in l)if(y=l[S],l.hasOwnProperty(S)&&y!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Bt(r,s,S,null,c,y)}for(E in c)if(y=c[E],B=l[E],c.hasOwnProperty(E)&&(y!=null||B!=null))switch(E){case"value":$=y;break;case"defaultValue":te=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(A(91));break;default:y!==B&&Bt(r,s,E,y,c,B)}Ut(r,$,te);return;case"option":for(var Ee in l)if($=l[Ee],l.hasOwnProperty(Ee)&&$!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:Bt(r,s,Ee,null,c,$)}for(H in c)if($=c[H],te=l[H],c.hasOwnProperty(H)&&$!==te&&($!=null||te!=null))switch(H){case"selected":r.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Bt(r,s,H,$,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)$=l[be],l.hasOwnProperty(be)&&$!=null&&!c.hasOwnProperty(be)&&Bt(r,s,be,null,c,$);for(X in c)if($=c[X],te=l[X],c.hasOwnProperty(X)&&$!==te&&($!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(A(137,s));break;default:Bt(r,s,X,$,c,te)}return;default:if(Xi(s)){for(var vt in l)$=l[vt],l.hasOwnProperty(vt)&&$!==void 0&&!c.hasOwnProperty(vt)&&Jp(r,s,vt,void 0,c,$);for(re in c)$=c[re],te=l[re],!c.hasOwnProperty(re)||$===te||$===void 0&&te===void 0||Jp(r,s,re,$,c,te);return}}for(var G in l)$=l[G],l.hasOwnProperty(G)&&$!=null&&!c.hasOwnProperty(G)&&Bt(r,s,G,null,c,$);for(oe in c)$=c[oe],te=l[oe],!c.hasOwnProperty(oe)||$===te||$==null&&te==null||Bt(r,s,oe,$,c,te)}function BC(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var y=l[c],B=y.transferSize,E=y.initiatorType,S=y.duration;if(B&&S&&BC(E)){for(E=0,S=y.responseEnd,c+=1;c<l.length;c++){var H=l[c],X=H.startTime;if(X>S)break;var re=H.transferSize,oe=H.initiatorType;re&&BC(oe)&&(H=H.responseEnd,E+=re*(H<S?1:(S-X)/(H-X)))}if(--c,s+=8*(B+E)/(y.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Yp=null,Xp=null;function Df(r){return r.nodeType===9?r:r.ownerDocument}function vC(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wC(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Wp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $p=null;function wx(){var r=window.event;return r&&r.type==="popstate"?r===$p?!1:($p=r,!0):($p=null,!1)}var CC=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,EC=typeof Promise=="function"?Promise:void 0,Ex=typeof queueMicrotask=="function"?queueMicrotask:typeof EC<"u"?function(r){return EC.resolve(null).then(r).catch(_x)}:CC;function _x(r){setTimeout(function(){throw r})}function ys(r){return r==="head"}function _C(r,s){var l=s,c=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(y),Ka(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")vu(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,vu(l);for(var B=l.firstChild;B;){var E=B.nextSibling,S=B.nodeName;B[yA]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&B.rel.toLowerCase()==="stylesheet"||l.removeChild(B),B=E}}else l==="body"&&vu(r.ownerDocument.body);l=y}while(l);Ka(s)}function TC(r,s){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function Zp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zp(l),qi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Tx(r,s,l,c){for(;r.nodeType===1;){var y=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[yA])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(B=r.getAttribute("rel"),B==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(B!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(B=r.getAttribute("src"),(B!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&B&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var B=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===B)return r}else return r;if(r=KA(r.nextSibling),r===null)break}return null}function Ix(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=KA(r.nextSibling),r===null))return null;return r}function IC(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=KA(r.nextSibling),r===null))return null;return r}function jp(r){return r.data==="$?"||r.data==="$~"}function em(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Sx(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function KA(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var tm=null;function SC(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return KA(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function UC(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function FC(r,s,l){switch(s=Df(l),r){case"html":if(r=s.documentElement,!r)throw Error(A(452));return r;case"head":if(r=s.head,!r)throw Error(A(453));return r;case"body":if(r=s.body,!r)throw Error(A(454));return r;default:throw Error(A(451))}}function vu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);qi(r)}var GA=new Map,QC=new Set;function Mf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ci=ue.d;ue.d={f:Ux,r:Fx,D:Qx,C:Rx,L:bx,m:xx,X:Dx,S:Nx,M:Mx};function Ux(){var r=Ci.f(),s=Sf();return r||s}function Fx(r){var s=Cn(r);s!==null&&s.tag===5&&s.type==="form"?Jv(s):Ci.r(r)}var Va=typeof document>"u"?null:document;function RC(r,s,l){var c=Va;if(c&&typeof s=="string"&&s){var y=Ct(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),QC.has(y)||(QC.add(y),r={rel:r,crossOrigin:l,href:s},c.querySelector(y)===null&&(s=c.createElement("link"),Un(s,"link",r),Gt(s),c.head.appendChild(s)))}}function Qx(r){Ci.D(r),RC("dns-prefetch",r,null)}function Rx(r,s){Ci.C(r,s),RC("preconnect",r,s)}function bx(r,s,l){Ci.L(r,s,l);var c=Va;if(c&&r&&s){var y='link[rel="preload"][as="'+Ct(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Ct(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Ct(l.imageSizes)+'"]')):y+='[href="'+Ct(r)+'"]';var B=y;switch(s){case"style":B=Oa(r);break;case"script":B=ka(r)}GA.has(B)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),GA.set(B,r),c.querySelector(y)!==null||s==="style"&&c.querySelector(wu(B))||s==="script"&&c.querySelector(Cu(B))||(s=c.createElement("link"),Un(s,"link",r),Gt(s),c.head.appendChild(s)))}}function xx(r,s){Ci.m(r,s);var l=Va;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Ct(c)+'"][href="'+Ct(r)+'"]',B=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=ka(r)}if(!GA.has(B)&&(r=v({rel:"modulepreload",href:r},s),GA.set(B,r),l.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Cu(B)))return}c=l.createElement("link"),Un(c,"link",r),Gt(c),l.head.appendChild(c)}}}function Nx(r,s,l){Ci.S(r,s,l);var c=Va;if(c&&r){var y=RA(c).hoistableStyles,B=Oa(r);s=s||"default";var E=y.get(B);if(!E){var S={loading:0,preload:null};if(E=c.querySelector(wu(B)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=GA.get(B))&&nm(r,l);var H=E=c.createElement("link");Gt(H),Un(H,"link",r),H._p=new Promise(function(X,re){H.onload=X,H.onerror=re}),H.addEventListener("load",function(){S.loading|=1}),H.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lf(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:S},y.set(B,E)}}}function Dx(r,s){Ci.X(r,s);var l=Va;if(l&&r){var c=RA(l).hoistableScripts,y=ka(r),B=c.get(y);B||(B=l.querySelector(Cu(y)),B||(r=v({src:r,async:!0},s),(s=GA.get(y))&&Am(r,s),B=l.createElement("script"),Gt(B),Un(B,"link",r),l.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},c.set(y,B))}}function Mx(r,s){Ci.M(r,s);var l=Va;if(l&&r){var c=RA(l).hoistableScripts,y=ka(r),B=c.get(y);B||(B=l.querySelector(Cu(y)),B||(r=v({src:r,async:!0,type:"module"},s),(s=GA.get(y))&&Am(r,s),B=l.createElement("script"),Gt(B),Un(B,"link",r),l.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},c.set(y,B))}}function bC(r,s,l,c){var y=(y=Qe.current)?Mf(y):null;if(!y)throw Error(A(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Oa(l.href),l=RA(y).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Oa(l.href);var B=RA(y).hoistableStyles,E=B.get(r);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(r,E),(B=y.querySelector(wu(r)))&&!B._p&&(E.instance=B,E.state.loading=5),GA.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},GA.set(r,l),B||Lx(y,r,l,E.state))),s&&c===null)throw Error(A(528,""));return E}if(s&&c!==null)throw Error(A(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ka(l),l=RA(y).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,r))}}function Oa(r){return'href="'+Ct(r)+'"'}function wu(r){return'link[rel="stylesheet"]['+r+"]"}function xC(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Lx(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Un(s,"link",l),Gt(s),r.head.appendChild(s))}function ka(r){return'[src="'+Ct(r)+'"]'}function Cu(r){return"script[async]"+r}function NC(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Ct(l.href)+'"]');if(c)return s.instance=c,Gt(c),c;var y=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Gt(c),Un(c,"style",y),Lf(c,l.precedence,r),s.instance=c;case"stylesheet":y=Oa(l.href);var B=r.querySelector(wu(y));if(B)return s.state.loading|=4,s.instance=B,Gt(B),B;c=xC(l),(y=GA.get(y))&&nm(c,y),B=(r.ownerDocument||r).createElement("link"),Gt(B);var E=B;return E._p=new Promise(function(S,H){E.onload=S,E.onerror=H}),Un(B,"link",c),s.state.loading|=4,Lf(B,l.precedence,r),s.instance=B;case"script":return B=ka(l.src),(y=r.querySelector(Cu(B)))?(s.instance=y,Gt(y),y):(c=l,(y=GA.get(B))&&(c=v({},l),Am(c,y)),r=r.ownerDocument||r,y=r.createElement("script"),Gt(y),Un(y,"link",c),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(A(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Lf(c,l.precedence,r));return s.instance}function Lf(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,B=y,E=0;E<c.length;E++){var S=c[E];if(S.dataset.precedence===s)B=S;else if(B!==y)break}B?B.parentNode.insertBefore(r,B.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function nm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Am(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Hf=null;function DC(r,s,l){if(Hf===null){var c=new Map,y=Hf=new Map;y.set(l,c)}else y=Hf,c=y.get(l),c||(c=new Map,y.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),y=0;y<l.length;y++){var B=l[y];if(!(B[yA]||B[Lt]||r==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var E=B.getAttribute(s)||"";E=r+E;var S=c.get(E);S?S.push(B):c.set(E,[B])}}return c}function MC(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function Hx(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function LC(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Px(r,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Oa(c.href),B=s.querySelector(wu(y));if(B){s=B._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Pf.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=B,Gt(B);return}B=s.ownerDocument||s,c=xC(c),(y=GA.get(y))&&nm(c,y),B=B.createElement("link"),Gt(B);var E=B;E._p=new Promise(function(S,H){E.onload=S,E.onerror=H}),Un(B,"link",c),l.instance=B}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Pf.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var rm=0;function Vx(r,s){return r.stylesheets&&r.count===0&&Of(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&Of(r,r.stylesheets),r.unsuspend){var B=r.unsuspend;r.unsuspend=null,B()}},6e4+s);0<r.imgBytes&&rm===0&&(rm=62500*vx());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Of(r,r.stylesheets),r.unsuspend)){var B=r.unsuspend;r.unsuspend=null,B()}},(r.imgBytes>rm?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function Pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Vf=null;function Of(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Vf=new Map,s.forEach(Ox,r),Vf=null,Pf.call(r))}function Ox(r,s){if(!(s.state.loading&4)){var l=Vf.get(r);if(l)var c=l.get(null);else{l=new Map,Vf.set(r,l);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<y.length;B++){var E=y[B];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}y=s.instance,E=y.getAttribute("data-precedence"),B=l.get(E)||c,B===c&&l.set(null,y),l.set(E,y),this.count++,c=Pf.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),B?B.parentNode.insertBefore(y,B.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var Eu={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function kx(r,s,l,c,y,B,E,S,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=FA(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=FA(0),this.hiddenUpdates=FA(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=B,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function HC(r,s,l,c,y,B,E,S,H,X,re,oe){return r=new kx(r,s,l,E,H,X,re,oe,S),s=1,B===!0&&(s|=24),B=vA(3,null,null,s),r.current=B,B.stateNode=r,s=Lg(),s.refCount++,r.pooledCache=s,s.refCount++,B.memoizedState={element:c,isDehydrated:l,cache:s},Og(B),r}function PC(r){return r?(r=Ba,r):Ba}function VC(r,s,l,c,y,B){y=PC(y),c.context===null?c.context=y:c.pendingContext=y,c=os(s),c.payload={element:l},B=B===void 0?null:B,B!==null&&(c.callback=B),l=as(r,c,s),l!==null&&(uA(l,r,s),tu(l,r,s))}function OC(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function im(r,s){OC(r,s),(r=r.alternate)&&OC(r,s)}function kC(r){if(r.tag===13||r.tag===31){var s=Eo(r,67108864);s!==null&&uA(s,r,67108864),im(r,67108864)}}function KC(r){if(r.tag===13||r.tag===31){var s=TA();s=ri(s);var l=Eo(r,s);l!==null&&uA(l,r,s),im(r,s)}}var kf=!0;function Kx(r,s,l,c){var y=K.T;K.T=null;var B=ue.p;try{ue.p=2,sm(r,s,l,c)}finally{ue.p=B,K.T=y}}function Gx(r,s,l,c){var y=K.T;K.T=null;var B=ue.p;try{ue.p=8,sm(r,s,l,c)}finally{ue.p=B,K.T=y}}function sm(r,s,l,c){if(kf){var y=om(c);if(y===null)zp(r,s,c,Kf,l),qC(r,c);else if(zx(y,r,s,l,c))c.stopPropagation();else if(qC(r,c),s&4&&-1<qx.indexOf(r)){for(;y!==null;){var B=Cn(y);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var E=iA(B.pendingLanes);if(E!==0){var S=B;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var H=1<<31-Dt(E);S.entanglements[1]|=H,E&=~H}Hr(B),(lt&6)===0&&(Tf=mn()+500,mu(0))}}break;case 31:case 13:S=Eo(B,2),S!==null&&uA(S,B,2),Sf(),im(B,2)}if(B=om(c),B===null&&zp(r,s,c,Kf,l),B===y)break;y=B}y!==null&&c.stopPropagation()}else zp(r,s,c,null,l)}}function om(r){return r=NA(r),am(r)}var Kf=null;function am(r){if(Kf=null,r=Dn(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=a(s),r!==null)return r;r=null}else if(l===31){if(r=u(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Kf=r,null}function GC(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ti()){case ki:return 2;case _r:return 8;case hA:case Ml:return 32;case AA:return 268435456;default:return 32}default:return 32}}var lm=!1,Bs=null,vs=null,ws=null,_u=new Map,Tu=new Map,Cs=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qC(r,s){switch(r){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":_u.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(s.pointerId)}}function Iu(r,s,l,c,y,B){return r===null||r.nativeEvent!==B?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:B,targetContainers:[y]},s!==null&&(s=Cn(s),s!==null&&kC(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function zx(r,s,l,c,y){switch(s){case"focusin":return Bs=Iu(Bs,r,s,l,c,y),!0;case"dragenter":return vs=Iu(vs,r,s,l,c,y),!0;case"mouseover":return ws=Iu(ws,r,s,l,c,y),!0;case"pointerover":var B=y.pointerId;return _u.set(B,Iu(_u.get(B)||null,r,s,l,c,y)),!0;case"gotpointercapture":return B=y.pointerId,Tu.set(B,Iu(Tu.get(B)||null,r,s,l,c,y)),!0}return!1}function zC(r){var s=Dn(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=a(l),s!==null){r.blockedOn=s,pA(r.priority,function(){KC(l)});return}}else if(s===31){if(s=u(l),s!==null){r.blockedOn=s,pA(r.priority,function(){KC(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=om(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Pl=c,l.target.dispatchEvent(c),Pl=null}else return s=Cn(l),s!==null&&kC(s),r.blockedOn=l,!1;s.shift()}return!0}function JC(r,s,l){Gf(r)&&l.delete(s)}function Jx(){lm=!1,Bs!==null&&Gf(Bs)&&(Bs=null),vs!==null&&Gf(vs)&&(vs=null),ws!==null&&Gf(ws)&&(ws=null),_u.forEach(JC),Tu.forEach(JC)}function qf(r,s){r.blockedOn===s&&(r.blockedOn=null,lm||(lm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Jx)))}var zf=null;function YC(r){zf!==r&&(zf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zf===r&&(zf=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],y=r[s+2];if(typeof c!="function"){if(am(c||l)===null)continue;break}var B=Cn(l);B!==null&&(r.splice(s,3),s-=3,op(B,{pending:!0,data:y,method:l.method,action:c},c,y))}}))}function Ka(r){function s(H){return qf(H,r)}Bs!==null&&qf(Bs,r),vs!==null&&qf(vs,r),ws!==null&&qf(ws,r),_u.forEach(s),Tu.forEach(s);for(var l=0;l<Cs.length;l++){var c=Cs[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Cs.length&&(l=Cs[0],l.blockedOn===null);)zC(l),l.blockedOn===null&&Cs.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var y=l[c],B=l[c+1],E=y[nn]||null;if(typeof B=="function")E||YC(l);else if(E){var S=null;if(B&&B.hasAttribute("formAction")){if(y=B,E=B[nn]||null)S=E.formAction;else if(am(y)!==null)continue}else S=E.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),YC(l)}}}function XC(){function r(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function um(r){this._internalRoot=r}Jf.prototype.render=um.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(A(409));var l=s.current,c=TA();VC(l,c,r,s,null,null)},Jf.prototype.unmount=um.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;VC(r.current,2,null,r,null,null),Sf(),s[QA]=null}};function Jf(r){this._internalRoot=r}Jf.prototype.unstable_scheduleHydration=function(r){if(r){var s=oa();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Cs.length&&s!==0&&s<Cs[l].priority;l++);Cs.splice(l,0,r),l===0&&zC(r)}};var WC=e.version;if(WC!=="19.2.3")throw Error(A(527,WC,"19.2.3"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(A(188)):(r=Object.keys(r).join(","),Error(A(268,r)));return r=d(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var Yx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{gA=Yf.inject(Yx),gt=Yf}catch{}}return Uu.createRoot=function(r,s){if(!i(r))throw Error(A(299));var l=!1,c="",y=Aw,B=rw,E=iw;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(B=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=HC(r,1,!1,null,null,l,c,null,y,B,E,XC),r[QA]=s.current,qp(r),new um(s)},Uu.hydrateRoot=function(r,s,l){if(!i(r))throw Error(A(299));var c=!1,y="",B=Aw,E=rw,S=iw,H=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(B=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(H=l.formState)),s=HC(r,1,!0,s,l??null,c,y,H,B,E,S,XC),s.context=PC(null),l=s.current,c=TA(),c=ri(c),y=os(c),y.callback=null,as(l,y,c),l=c,s.current.lanes=l,ni(s,l),Hr(s),r[QA]=s.current,qp(r),new Jf(s)},Uu.version="19.2.3",Uu}var sE;function i1(){if(sE)return dm.exports;sE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dm.exports=r1(),dm.exports}var s1=i1();const o1=SS(s1);var Re=(n=>(n.LANDING="LANDING",n.HOME="HOME",n.UPLOAD="UPLOAD",n.LOADING="LOADING",n.MENU="MENU",n.CHECKOUT="CHECKOUT",n.HISTORY="HISTORY",n.RECEIPT="RECEIPT",n.WORDPAL_HOME="WORDPAL_HOME",n.WORDPAL_UPLOAD="WORDPAL_UPLOAD",n.WORDPAL_RESULT="WORDPAL_RESULT",n.PORTABLE_TRANSLATOR="PORTABLE_TRANSLATOR",n))(Re||{});const _t={Camera:()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a48.324 48.324 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]}),Photo:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),History:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Plus:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Minus:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})}),Navigation:()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),Check:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),ChevronLeft:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),Speaker:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}),Settings:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Logout:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),Locate:()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),Translate:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m10.5 21 5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802"})}),Rotate:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),Trash:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.062.397c-.34-.059-.68-.114-1.022-.166m1.022.165L5.474 4.073A2.25 2.25 0 0 1 7.718 2h8.564a2.25 2.25 0 0 1 2.243 2.073l.041.447m-13.395 0a48.108 48.108 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),FaceId:()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm6.75 0c0 .414-.168.75-.375.75S15.75 10.164 15.75 9.75 15.918 9 16.125 9s.375.336.375.75Z"})})},a1={en:{settings:"Settings",uiLanguage:"Interface Language",targetLanguage:"Target Language",apiKey:"API Key",apiKeyPlaceholder:"Paste API Key here...",getKey:"Get a free key here",save:"Save",saved:"Saved",cancel:"Cancel",appTitle:"AI Assistant",chooseTool:"Choose your tool",flavorPal:"FlavorPal",flavorPalDesc:"Smart Menu Translator & Order Manager",wordPal:"WordPal",wordPalDesc:"Instant Text Translation & OCR",portablePal:"Portable Translator",portablePalDesc:"Real-time Text Translation for Conversations",takePhoto:"Take Photo",uploadGallery:"Upload from Gallery",analyzeMenu:"Analyze Menu",translateText:"Translate Text",originalText:"Original Text",translation:"Translation",translateNew:"Translate New Text",history:"History",menu:"Menu",checkout:"Checkout",receipt:"Receipt",finishOrder:"Finish Order",estTotal:"Estimated Total",tip:"Tip: Ensure text is clear and well-lit.",didYouKnow:"DID YOU KNOW?",diningEtiquette:"Dining Etiquette",languageFact:"Language Fact",flavorFacts:[`"Did you know? In Italy, it's considered a crime to add parmesan cheese to a seafood pasta!"`,`"In Japan, slurping your noodles is a sign that you're enjoying the meal."`,'"French fries actually originated in Belgium, not France!"',`"The world's most expensive spice is saffron."`,'"Sushi was originally a cheap fast food for laborers in Edo-period Tokyo."'],wordFacts:[`"The word 'alphabet' comes from the first two letters of the Greek alphabet: alpha and beta."`,'"Mandarin Chinese is the most spoken language in the world by native speakers."','"There are over 7,000 languages spoken in the world today."',`"The most common letter in the English language is 'E'."`,'"Japanese uses three different scripts: Hiragana, Katakana, and Kanji."'],loadingFlavor:"Waking up FlavorPal...",loadingFlavor1:"Scanning the menu ingredients...",loadingFlavor2:"Translating for your appetite...",loadingFlavor3:"Finding the best food pairings...",loadingFlavor4:"Calculating local currency...",loadingFlavor5:"Finalizing the details...",loadingWord:"Waking up WordPal...",loadingWord1:"Scanning text...",loadingWord2:"Detecting language...",loadingWord3:"Translating content...",loadingWord4:"Refining grammar...",loadingWord5:"Finalizing translation...",recentVisits:"Recent Visits",details:"Details",swap:"Swap",receiptImg:"Receipt Img",navigate:"Navigate",viewReceipt:"View Receipt",items:"items",subtotal:"Subtotal",total:"TOTAL",estHkd:"Est. HKD",continueOrdering:"+ Continue Ordering",thankYou:"thank you for using flavorpal",deleteHistoryConfirm:"Are you sure you want to delete this order history?",failedAnalyze:"Failed to analyze. Please check your API key or try a clearer photo.",enterKey:"Enter API Key",apiKeyDesc:"Paste your Google Gemini API Key below to enable AI features. It will be safely stored for your next visit.",saveContinue:"Save & Continue",login:"Log In",rememberMe:"Remember Email",signup:"Sign Up",email:"Email",password:"Password",logout:"Log Out",welcome:"Welcome",loggedInAs:"Logged in as",noAccount:"Don't have an account?",hasAccount:"Already have an account?",authError:"Authentication failed. Please check your credentials.",loginPrompt:"Please log in to save your history and preferences.",restaurantName:"Restaurant Name",restaurantAddress:"Location / Address",enterRestName:"Enter restaurant name...",enterRestAddr:"Enter location or address...",locate:"Locate",locateSuccess:"Location Found",locating:"Locating...",locateError:"Could not find location",savedToGallery:"Receipt saved to gallery!",currencyDisclaimer:"Rates are estimates",translationPlaceholder:"Translation will appear here",inputPlaceholder:"Enter text to translate...",translateShowOther:"Translate (Show to other)",flipToOther:"Flip to other person",translating:"Translating...",enableBiometric:"Enable Face ID / Touch ID",biometricLogin:"Unlock with Face ID",unlock:"Unlock",biometricSetupSuccess:"Face ID / Touch ID setup successful!",biometricSetupFailed:"Setup failed. Your device might not support it."},zh:{settings:"",uiLanguage:"",targetLanguage:"",apiKey:"API ",apiKeyPlaceholder:" API ...",getKey:"",save:"",saved:"",cancel:"",appTitle:"AI ",chooseTool:"",flavorPal:"FlavorPal",flavorPalDesc:"",wordPal:"WordPal",wordPalDesc:" OCR",portablePal:"",portablePalDesc:"",takePhoto:"",uploadGallery:"",analyzeMenu:"",translateText:"",originalText:"",translation:"",translateNew:"",history:"",menu:"",checkout:"",receipt:"",finishOrder:"",estTotal:"",tip:"",didYouKnow:"",diningEtiquette:"",languageFact:"",flavorFacts:["","","","",""],wordFacts:["AlphabetAlpha  Beta",""," 7,000 "," 'E'",""],loadingFlavor:" FlavorPal...",loadingFlavor1:"...",loadingFlavor2:"...",loadingFlavor3:"...",loadingFlavor4:"...",loadingFlavor5:"...",loadingWord:" WordPal...",loadingWord1:"...",loadingWord2:"...",loadingWord3:"...",loadingWord4:"...",loadingWord5:"...",recentVisits:"",details:"",swap:"",receiptImg:"",navigate:"",viewReceipt:"",items:"",subtotal:"",total:"",estHkd:"",continueOrdering:"+ ",thankYou:" FlavorPal",deleteHistoryConfirm:"",failedAnalyze:" API ",enterKey:" API ",apiKeyDesc:" Google Gemini API  AI ",saveContinue:"",login:"",rememberMe:"",signup:"",email:"",password:"",logout:"",welcome:"",loggedInAs:"",noAccount:"",hasAccount:"",authError:"",loginPrompt:"",restaurantName:" ()",restaurantAddress:" /  ()",enterRestName:"...",enterRestAddr:"...",locate:"",locateSuccess:"",locating:"...",locateError:"",savedToGallery:"",currencyDisclaimer:"",translationPlaceholder:"",inputPlaceholder:"...",translateShowOther:" ()",flipToOther:"",translating:"...",enableBiometric:" Face ID / Touch ID",biometricLogin:" Face ID ",unlock:"",biometricSetupSuccess:"Face ID / Touch ID ",biometricSetupFailed:""}},Ei=({children:n,title:e,onBack:t,actions:A})=>I.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col relative pb-24 shadow-2xl bg-slate-950 overflow-hidden text-slate-100",children:[I.jsxs("header",{className:"px-6 pt-8 pb-4 flex items-center justify-between sticky top-0 bg-slate-950/80 backdrop-blur-md z-10 border-b border-slate-800/50",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[t&&I.jsx("button",{onClick:t,className:"p-2 -ml-2 hover:bg-slate-800 rounded-full transition-colors text-slate-300",children:I.jsx(_t.ChevronLeft,{})}),I.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:e})]}),I.jsx("div",{className:"flex gap-2 text-slate-300",children:A})]}),I.jsx("main",{className:"flex-1 px-6",children:n})]});var l1={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let u1,c1;function f1(){return{geminiUrl:u1,vertexUrl:c1}}function d1(n,e,t,A){var i,o;if(!(n!=null&&n.baseUrl)){const a=f1();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(o=a.geminiUrl)!==null&&o!==void 0?o:A}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Li{}function ye(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(A,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(n,e,t){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[u])){const f=n[u];if(Array.isArray(t))for(let d=0;d<f.length;d++){const m=f[d];g(m,e.slice(o+1),t[d])}else for(const d of f)g(d,e.slice(o+1),t)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in n||(n[u]=[{}]);const f=n[u];g(f[0],e.slice(o+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const A=e[e.length-1],i=n[A];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${A}`)}else A==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[A]=t}function h(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let A=0;A<e.length;A++){if(typeof n!="object"||n===null)return t;const i=e[A];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in n){const a=n[o];return Array.isArray(a)?a.map(u=>h(u,e.slice(A+1),t)):t}else return t}else n=n[i]}return n}catch(A){if(A instanceof TypeError)return t;throw A}}function h1(n,e){for(const[t,A]of Object.entries(e)){const i=t.split("."),o=A.split("."),a=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&a.add(d)}ny(n,i,o,0,a)}}function ny(n,e,t,A,i){if(A>=e.length||typeof n!="object"||n===null)return;const o=e[A];if(o.endsWith("[]")){const a=o.slice(0,-2),u=n;if(a in u&&Array.isArray(u[a]))for(const f of u[a])ny(f,e,t,A+1,i)}else if(o==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,u=Object.keys(a).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=a[d];for(const[d,m]of Object.entries(f)){const v=[];for(const w of t.slice(A))w==="*"?v.push(d):v.push(w);g(a,v,m)}for(const d of u)delete a[d]}}else{const a=n;o in a&&ny(a[o],e,t,A+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g0(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g1(n){const e={},t=h(n,["operationName"]);t!=null&&g(e,["operationName"],t);const A=h(n,["resourceName"]);return A!=null&&g(e,["_url","resourceName"],A),e}function p1(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response","generateVideoResponse"]);return a!=null&&g(e,["response"],y1(a)),e}function m1(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],B1(a)),e}function y1(n){const e={},t=h(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>v1(a))),g(e,["generatedVideos"],o)}const A=h(n,["raiMediaFilteredCount"]);A!=null&&g(e,["raiMediaFilteredCount"],A);const i=h(n,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function B1(n){const e={},t=h(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>w1(a))),g(e,["generatedVideos"],o)}const A=h(n,["raiMediaFilteredCount"]);A!=null&&g(e,["raiMediaFilteredCount"],A);const i=h(n,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function v1(n){const e={},t=h(n,["video"]);return t!=null&&g(e,["video"],S1(t)),e}function w1(n){const e={},t=h(n,["_self"]);return t!=null&&g(e,["video"],U1(t)),e}function C1(n){const e={},t=h(n,["operationName"]);return t!=null&&g(e,["_url","operationName"],t),e}function E1(n){const e={},t=h(n,["operationName"]);return t!=null&&g(e,["_url","operationName"],t),e}function _1(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],T1(a)),e}function T1(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["parent"]);A!=null&&g(e,["parent"],A);const i=h(n,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function US(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],I1(a)),e}function I1(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["parent"]);A!=null&&g(e,["parent"],A);const i=h(n,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function S1(n){const e={},t=h(n,["uri"]);t!=null&&g(e,["uri"],t);const A=h(n,["encodedVideo"]);A!=null&&g(e,["videoBytes"],g0(A));const i=h(n,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function U1(n){const e={},t=h(n,["gcsUri"]);t!=null&&g(e,["uri"],t);const A=h(n,["bytesBase64Encoded"]);A!=null&&g(e,["videoBytes"],g0(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oE;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oE||(oE={}));var aE;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(aE||(aE={}));var lE;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(lE||(lE={}));var Tt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Tt||(Tt={}));var uE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(uE||(uE={}));var cE;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cE||(cE={}));var fE;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(fE||(fE={}));var dE;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dE||(dE={}));var hE;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hE||(hE={}));var gE;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(gE||(gE={}));var pE;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(pE||(pE={}));var mE;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(mE||(mE={}));var yE;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(yE||(yE={}));var BE;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(BE||(BE={}));var vE;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(vE||(vE={}));var wE;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wE||(wE={}));var CE;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(CE||(CE={}));var EE;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(EE||(EE={}));var _E;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_E||(_E={}));var zd;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(zd||(zd={}));var TE;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(TE||(TE={}));var IE;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(IE||(IE={}));var SE;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(SE||(SE={}));var Ay;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ay||(Ay={}));var UE;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(UE||(UE={}));var FE;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(FE||(FE={}));var QE;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(QE||(QE={}));var RE;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(RE||(RE={}));var bE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(bE||(bE={}));var xE;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xE||(xE={}));var NE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(NE||(NE={}));var DE;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(DE||(DE={}));var ME;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ME||(ME={}));var LE;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(LE||(LE={}));var HE;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(HE||(HE={}));var PE;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(PE||(PE={}));var VE;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(VE||(VE={}));var OE;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(OE||(OE={}));var kE;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(kE||(kE={}));var KE;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(KE||(KE={}));var GE;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(GE||(GE={}));var qE;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(qE||(qE={}));var zE;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(zE||(zE={}));var JE;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(JE||(JE={}));var YE;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(YE||(YE={}));var XE;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(XE||(XE={}));var WE;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(WE||(WE={}));var $E;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})($E||($E={}));var ZE;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ZE||(ZE={}));var jE;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jE||(jE={}));var e_;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(e_||(e_={}));var t_;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(t_||(t_={}));var n_;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(n_||(n_={}));var A_;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(A_||(A_={}));var r_;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(r_||(r_={}));var Al;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Al||(Al={}));class ry{constructor(e){const t={};for(const A of e.headers.entries())t[A[0]]=A[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fu{get text(){var e,t,A,i,o,a,u,f;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const v=[];for(const w of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[T,Q]of Object.entries(w))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(Q!==null||Q!==void 0)&&v.push(T);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;m=!0,d+=w.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,t,A,i,o,a,u,f;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const v of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[w,T]of Object.entries(v))w!=="inlineData"&&(T!==null||T!==void 0)&&m.push(w);v.inlineData&&typeof v.inlineData.data=="string"&&(d+=atob(v.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,A,i,o,a,u,f;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,A,i,o,a,u,f,d;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,A,i,o,a,u,f,d;if(((i=(A=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||A===void 0?void 0:A.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class i_{}class s_{}class F1{}class Q1{}class R1{}class b1{}class o_{}class a_{}class l_{}class x1{}class Jd{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const A=new Jd;let i;const o=e;return t?i=m1(o):i=p1(o),Object.assign(A,i),A}}class u_{}class c_{}class f_{}class d_{}class N1{}class D1{}class M1{}class p0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const A=new p0,o=_1(e);return Object.assign(A,o),A}}class L1{}class H1{}class P1{}class h_{}class V1{get text(){var e,t,A;let i="",o=!1;const a=[];for(const u of(A=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&A!==void 0?A:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&a.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,t,A;let i="";const o=[];for(const a of(A=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&A!==void 0?A:[]){for(const[u,f]of Object.entries(a))u!=="inlineData"&&f!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class O1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class m0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const A=new m0,o=US(e);return Object.assign(A,o),A}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function FS(n,e){const t=ot(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function QS(n){return Array.isArray(n)?n.map(e=>Yd(e)):[Yd(n)]}function Yd(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function RS(n){const e=Yd(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bS(n){const e=Yd(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function g_(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function xS(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>g_(e)):[g_(n)]}function iy(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function p_(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function m_(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Gn(n){if(n==null)throw new Error("ContentUnion is required");return iy(n)?n:{role:"user",parts:xS(n)}}function y0(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const A=Gn(t);return A.parts&&A.parts.length>0&&A.parts[0].text!==void 0?[A.parts[0].text]:[]});if(n.isVertexAI()){const t=Gn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Gn(t)):[Gn(e)]}function $A(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(p_(n)||m_(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gn(n)]}const e=[],t=[],A=iy(n[0]);for(const i of n){const o=iy(i);if(o!=A)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(p_(i)||m_(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return A||e.push({role:"user",parts:xS(t)}),e}function k1(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(A=>A!=="null");if(t.length===1)e.type=Object.values(Tt).includes(t[0].toUpperCase())?t[0].toUpperCase():Tt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const A of t)e.anyOf.push({type:Object.values(Tt).includes(A.toUpperCase())?A.toUpperCase():Tt.TYPE_UNSPECIFIED})}}function ol(n){const e={},t=["items"],A=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&k1(n.type,e);for(const[a,u]of Object.entries(n))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Tt).includes(u.toUpperCase())?u.toUpperCase():Tt.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=ol(u);else if(A.includes(a)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(ol(d))}e[a]=f}else if(i.includes(a)){const f={};for(const[d,m]of Object.entries(u))f[d]=ol(m);e[a]=f}else{if(a==="additionalProperties")continue;e[a]=u}return e}function B0(n){return ol(n)}function v0(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function w0(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function El(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ol(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ol(e.response));return n}function _l(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function K1(n,e,t,A=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===A;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Hi(n,e){if(typeof e!="string")throw new Error("name must be a string");return K1(n,e,"cachedContents")}function NS(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Ws(n){return g0(n)}function G1(n){return n!=null&&typeof n=="object"&&"name"in n}function q1(n){return n!=null&&typeof n=="object"&&"video"in n}function z1(n){return n!=null&&typeof n=="object"&&"uri"in n}function DS(n){var e;let t;if(G1(n)&&(t=n.name),!(z1(n)&&(t=n.uri,t===void 0))&&!(q1(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function MS(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function LS(n){for(const e of["models","tunedModels","publisherModels"])if(J1(n,e))return n[e];return[]}function J1(n,e){return n!==null&&typeof n=="object"&&e in n}function Y1(n,e={}){const t=n,A={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(A.responseJsonSchema=t.outputSchema),e.behavior&&(A.behavior=e.behavior),{functionDeclarations:[A]}}function X1(n,e={}){const t=[],A=new Set;for(const i of n){const o=i.name;if(A.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);A.add(o);const a=Y1(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function HS(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const A=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||A!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(A>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function W1(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function PS(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const f=a.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Tl(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function VS(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $1(n){const e={},t=h(n,["responsesFile"]);t!=null&&g(e,["fileName"],t);const A=h(n,["inlinedResponses","inlinedResponses"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>RN(a))),g(e,["inlinedResponses"],o)}const i=h(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["inlinedEmbedContentResponses"],o)}return e}function Z1(n){const e={},t=h(n,["predictionsFormat"]);t!=null&&g(e,["format"],t);const A=h(n,["gcsDestination","outputUriPrefix"]);A!=null&&g(e,["gcsUri"],A);const i=h(n,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function j1(n){const e={},t=h(n,["format"]);t!=null&&g(e,["predictionsFormat"],t);const A=h(n,["gcsUri"]);A!=null&&g(e,["gcsDestination","outputUriPrefix"],A);const i=h(n,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),h(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Qd(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata","displayName"]);A!=null&&g(e,["displayName"],A);const i=h(n,["metadata","state"]);i!=null&&g(e,["state"],VS(i));const o=h(n,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const a=h(n,["metadata","endTime"]);a!=null&&g(e,["endTime"],a);const u=h(n,["metadata","updateTime"]);u!=null&&g(e,["updateTime"],u);const f=h(n,["metadata","model"]);f!=null&&g(e,["model"],f);const d=h(n,["metadata","output"]);return d!=null&&g(e,["dest"],$1(PS(d))),e}function sy(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["displayName"]);A!=null&&g(e,["displayName"],A);const i=h(n,["state"]);i!=null&&g(e,["state"],VS(i));const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["createTime"]);a!=null&&g(e,["createTime"],a);const u=h(n,["startTime"]);u!=null&&g(e,["startTime"],u);const f=h(n,["endTime"]);f!=null&&g(e,["endTime"],f);const d=h(n,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=h(n,["model"]);m!=null&&g(e,["model"],m);const v=h(n,["inputConfig"]);v!=null&&g(e,["src"],eN(v));const w=h(n,["outputConfig"]);w!=null&&g(e,["dest"],Z1(PS(w)));const T=h(n,["completionStats"]);return T!=null&&g(e,["completionStats"],T),e}function eN(n){const e={},t=h(n,["instancesFormat"]);t!=null&&g(e,["format"],t);const A=h(n,["gcsSource","uris"]);A!=null&&g(e,["gcsUri"],A);const i=h(n,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function tN(n,e){const t={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const A=h(e,["fileName"]);A!=null&&g(t,["fileName"],A);const i=h(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>QN(n,a))),g(t,["requests","requests"],o)}return t}function nN(n){const e={},t=h(n,["format"]);t!=null&&g(e,["instancesFormat"],t);const A=h(n,["gcsUri"]);A!=null&&g(e,["gcsSource","uris"],A);const i=h(n,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),h(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function AN(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function rN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Tl(n,A)),t}function iN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Tl(n,A)),t}function sN(n){const e={},t=h(n,["content"]);t!=null&&g(e,["content"],t);const A=h(n,["citationMetadata"]);A!=null&&g(e,["citationMetadata"],oN(A));const i=h(n,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=h(n,["finishReason"]);o!=null&&g(e,["finishReason"],o);const a=h(n,["avgLogprobs"]);a!=null&&g(e,["avgLogprobs"],a);const u=h(n,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const f=h(n,["index"]);f!=null&&g(e,["index"],f);const d=h(n,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(n,["safetyRatings"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(T=>T)),g(e,["safetyRatings"],w)}const v=h(n,["urlContextMetadata"]);return v!=null&&g(e,["urlContextMetadata"],v),e}function oN(n){const e={},t=h(n,["citationSources"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>i)),g(e,["citations"],A)}return e}function OS(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>HN(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function aN(n,e){const t={},A=h(n,["displayName"]);if(e!==void 0&&A!=null&&g(e,["batch","displayName"],A),h(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function lN(n,e){const t={},A=h(n,["displayName"]);e!==void 0&&A!=null&&g(e,["displayName"],A);const i=h(n,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],j1(W1(i))),t}function y_(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["src"]);i!=null&&g(t,["batch","inputConfig"],tN(n,HS(n,i)));const o=h(e,["config"]);return o!=null&&aN(o,t),t}function uN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["model"],ot(n,A));const i=h(e,["src"]);i!=null&&g(t,["inputConfig"],nN(HS(n,i)));const o=h(e,["config"]);return o!=null&&lN(o,t),t}function cN(n,e){const t={},A=h(n,["displayName"]);return e!==void 0&&A!=null&&g(e,["batch","displayName"],A),t}function fN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["src"]);i!=null&&g(t,["batch","inputConfig"],BN(n,i));const o=h(e,["config"]);return o!=null&&cN(o,t),t}function dN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Tl(n,A)),t}function hN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Tl(n,A)),t}function gN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);return o!=null&&g(e,["error"],o),e}function pN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);return o!=null&&g(e,["error"],o),e}function mN(n,e){const t={},A=h(e,["contents"]);if(A!=null){let o=y0(n,A);Array.isArray(o)&&(o=o.map(a=>a)),g(t,["requests[]","request","content"],o)}const i=h(e,["config"]);return i!=null&&(g(t,["_self"],yN(i,t)),h1(t,{"requests[].*":"requests[].request.*"})),t}function yN(n,e){const t={},A=h(n,["taskType"]);e!==void 0&&A!=null&&g(e,["requests[]","taskType"],A);const i=h(n,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=h(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),h(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function BN(n,e){const t={},A=h(e,["fileName"]);A!=null&&g(t,["file_name"],A);const i=h(e,["inlinedRequests"]);return i!=null&&g(t,["requests"],mN(n,i)),t}function vN(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function wN(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function CN(n){const e={},t=h(n,["mode"]);t!=null&&g(e,["mode"],t);const A=h(n,["allowedFunctionNames"]);if(A!=null&&g(e,["allowedFunctionNames"],A),h(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function EN(n,e,t){const A={},i=h(e,["systemInstruction"]);t!==void 0&&i!=null&&g(t,["systemInstruction"],OS(Gn(i)));const o=h(e,["temperature"]);o!=null&&g(A,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(A,["topP"],a);const u=h(e,["topK"]);u!=null&&g(A,["topK"],u);const f=h(e,["candidateCount"]);f!=null&&g(A,["candidateCount"],f);const d=h(e,["maxOutputTokens"]);d!=null&&g(A,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(A,["stopSequences"],m);const v=h(e,["responseLogprobs"]);v!=null&&g(A,["responseLogprobs"],v);const w=h(e,["logprobs"]);w!=null&&g(A,["logprobs"],w);const T=h(e,["presencePenalty"]);T!=null&&g(A,["presencePenalty"],T);const Q=h(e,["frequencyPenalty"]);Q!=null&&g(A,["frequencyPenalty"],Q);const N=h(e,["seed"]);N!=null&&g(A,["seed"],N);const D=h(e,["responseMimeType"]);D!=null&&g(A,["responseMimeType"],D);const O=h(e,["responseSchema"]);O!=null&&g(A,["responseSchema"],B0(O));const q=h(e,["responseJsonSchema"]);if(q!=null&&g(A,["responseJsonSchema"],q),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=h(e,["safetySettings"]);if(t!==void 0&&W!=null){let x=W;Array.isArray(x)&&(x=x.map(Te=>PN(Te))),g(t,["safetySettings"],x)}const ne=h(e,["tools"]);if(t!==void 0&&ne!=null){let x=_l(ne);Array.isArray(x)&&(x=x.map(Te=>ON(El(Te)))),g(t,["tools"],x)}const ie=h(e,["toolConfig"]);if(t!==void 0&&ie!=null&&g(t,["toolConfig"],VN(ie)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=h(e,["cachedContent"]);t!==void 0&&Z!=null&&g(t,["cachedContent"],Hi(n,Z));const b=h(e,["responseModalities"]);b!=null&&g(A,["responseModalities"],b);const R=h(e,["mediaResolution"]);R!=null&&g(A,["mediaResolution"],R);const U=h(e,["speechConfig"]);if(U!=null&&g(A,["speechConfig"],v0(U)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=h(e,["thinkingConfig"]);M!=null&&g(A,["thinkingConfig"],M);const L=h(e,["imageConfig"]);L!=null&&g(A,["imageConfig"],FN(L));const k=h(e,["enableEnhancedCivicAnswers"]);return k!=null&&g(A,["enableEnhancedCivicAnswers"],k),A}function _N(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["candidates"]);if(A!=null){let f=A;Array.isArray(f)&&(f=f.map(d=>sN(d))),g(e,["candidates"],f)}const i=h(n,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=h(n,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const a=h(n,["responseId"]);a!=null&&g(e,["responseId"],a);const u=h(n,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function TN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Tl(n,A)),t}function IN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Tl(n,A)),t}function SN(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function UN(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function FN(n){const e={},t=h(n,["aspectRatio"]);t!=null&&g(e,["aspectRatio"],t);const A=h(n,["imageSize"]);if(A!=null&&g(e,["imageSize"],A),h(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function QN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["request","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let u=$A(i);Array.isArray(u)&&(u=u.map(f=>OS(f))),g(t,["request","contents"],u)}const o=h(e,["metadata"]);o!=null&&g(t,["metadata"],o);const a=h(e,["config"]);return a!=null&&g(t,["request","generationConfig"],EN(n,a,h(t,["request"],{}))),t}function RN(n){const e={},t=h(n,["response"]);t!=null&&g(e,["response"],_N(t));const A=h(n,["error"]);return A!=null&&g(e,["error"],A),e}function bN(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),h(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function xN(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=h(n,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),t}function NN(n){const e={},t=h(n,["config"]);return t!=null&&bN(t,e),e}function DN(n){const e={},t=h(n,["config"]);return t!=null&&xN(t,e),e}function MN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Qd(a))),g(e,["batchJobs"],o)}return e}function LN(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>sy(a))),g(e,["batchJobs"],o)}return e}function HN(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],vN(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],wN(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],AN(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function PN(n){const e={},t=h(n,["category"]);if(t!=null&&g(e,["category"],t),h(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const A=h(n,["threshold"]);return A!=null&&g(e,["threshold"],A),e}function VN(n){const e={},t=h(n,["functionCallingConfig"]);t!=null&&g(e,["functionCallingConfig"],CN(t));const A=h(n,["retrievalConfig"]);return A!=null&&g(e,["retrievalConfig"],A),e}function ON(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],SN(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],UN(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ri;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ri||(Ri={}));class jo{constructor(e,t,A,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,A,i)}init(e,t,A){var i,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!A||Object.keys(A).length===0?a={config:{}}:typeof A=="object"?a=Object.assign({},A):a=A,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kN extends Li{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new jo(Ri.PAGED_ITEM_BATCH_JOBS,A=>this.listInternal(A),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=y_(this.apiClient,e),A=t._url,i=ye("{model}:batchGenerateContent",A),u=t.batch.inputConfig.requests,f=u.requests,d=[];for(const m of f){const v=Object.assign({},m);if(v.systemInstruction){const w=v.systemInstruction;delete v.systemInstruction;const T=v.request;T.systemInstruction=w,v.request=T}d.push(v)}return u.requests=d,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const A=t?Object.assign({},t):{},i=Date.now().toString();if(A.displayName||(A.displayName=`genaiBatchJob_${i}`),A.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?A.dest=`${o.slice(0,-6)}/dest`:A.dest=`${o}_dest_${i}`;else if(a)A.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return A}async createInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=uN(this.apiClient,e);return u=ye("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>sy(m))}else{const d=y_(this.apiClient,e);return u=ye("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>Qd(m))}}async createEmbeddingsInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fN(this.apiClient,e);return o=ye("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>Qd(f))}}async get(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=IN(this.apiClient,e);return u=ye("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>sy(m))}else{const d=TN(this.apiClient,e);return u=ye("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>Qd(m))}}async cancel(e){var t,A,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const f=iN(this.apiClient,e);a=ye("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal})}else{const f=rN(this.apiClient,e);a=ye("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=DN(e);return u=ye("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=LN(m),w=new h_;return Object.assign(w,v),w})}else{const d=NN(e);return u=ye("batches",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=MN(m),w=new h_;return Object.assign(w,v),w})}}async delete(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=hN(this.apiClient,e);return u=ye("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>pN(m))}else{const d=dN(this.apiClient,e);return u=ye("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>gN(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KN(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function B_(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>fD(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function GN(n,e){const t={},A=h(n,["ttl"]);e!==void 0&&A!=null&&g(e,["ttl"],A);const i=h(n,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=h(n,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=h(n,["contents"]);if(e!==void 0&&a!=null){let m=$A(a);Array.isArray(m)&&(m=m.map(v=>B_(v))),g(e,["contents"],m)}const u=h(n,["systemInstruction"]);e!==void 0&&u!=null&&g(e,["systemInstruction"],B_(Gn(u)));const f=h(n,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>hD(v))),g(e,["tools"],m)}const d=h(n,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],dD(d)),h(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function qN(n,e){const t={},A=h(n,["ttl"]);e!==void 0&&A!=null&&g(e,["ttl"],A);const i=h(n,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=h(n,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=h(n,["contents"]);if(e!==void 0&&a!=null){let v=$A(a);Array.isArray(v)&&(v=v.map(w=>w)),g(e,["contents"],v)}const u=h(n,["systemInstruction"]);e!==void 0&&u!=null&&g(e,["systemInstruction"],Gn(u));const f=h(n,["tools"]);if(e!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(w=>gD(w))),g(e,["tools"],v)}const d=h(n,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=h(n,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),t}function zN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["model"],FS(n,A));const i=h(e,["config"]);return i!=null&&GN(i,t),t}function JN(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["model"],FS(n,A));const i=h(e,["config"]);return i!=null&&qN(i,t),t}function YN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Hi(n,A)),t}function XN(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Hi(n,A)),t}function WN(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function $N(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function ZN(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function jN(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eD(n){const e={},t=h(n,["mode"]);t!=null&&g(e,["mode"],t);const A=h(n,["allowedFunctionNames"]);if(A!=null&&g(e,["allowedFunctionNames"],A),h(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tD(n){const e={};if(h(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=h(n,["description"]);t!=null&&g(e,["description"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(n,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(n,["response"]);a!=null&&g(e,["response"],a);const u=h(n,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function nD(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Hi(n,A)),t}function AD(n,e){const t={},A=h(e,["name"]);return A!=null&&g(t,["_url","name"],Hi(n,A)),t}function rD(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function iD(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function sD(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function oD(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function aD(n){const e={},t=h(n,["config"]);return t!=null&&sD(t,e),e}function lD(n){const e={},t=h(n,["config"]);return t!=null&&oD(t,e),e}function uD(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["cachedContents"],o)}return e}function cD(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["cachedContents"],o)}return e}function fD(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],ZN(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],jN(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],KN(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function dD(n){const e={},t=h(n,["functionCallingConfig"]);t!=null&&g(e,["functionCallingConfig"],eD(t));const A=h(n,["retrievalConfig"]);return A!=null&&g(e,["retrievalConfig"],A),e}function hD(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],rD(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],iD(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function gD(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(w=>tD(w))),g(e,["functionDeclarations"],v)}const A=h(n,["retrieval"]);A!=null&&g(e,["retrieval"],A);const i=h(n,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=h(n,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),h(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(n,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const u=h(n,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const f=h(n,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=h(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(n,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function pD(n,e){const t={},A=h(n,["ttl"]);e!==void 0&&A!=null&&g(e,["ttl"],A);const i=h(n,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),t}function mD(n,e){const t={},A=h(n,["ttl"]);e!==void 0&&A!=null&&g(e,["ttl"],A);const i=h(n,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),t}function yD(n,e){const t={},A=h(e,["name"]);A!=null&&g(t,["_url","name"],Hi(n,A));const i=h(e,["config"]);return i!=null&&pD(i,t),t}function BD(n,e){const t={},A=h(e,["name"]);A!=null&&g(t,["_url","name"],Hi(n,A));const i=h(e,["config"]);return i!=null&&mD(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vD extends Li{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new jo(Ri.PAGED_ITEM_CACHED_CONTENTS,A=>this.listInternal(A),await this.listInternal(t),t)}async create(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=JN(this.apiClient,e);return u=ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>m)}else{const d=zN(this.apiClient,e);return u=ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async get(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=AD(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>m)}else{const d=nD(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=XN(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=$N(m),w=new f_;return Object.assign(w,v),w})}else{const d=YN(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=WN(m),w=new f_;return Object.assign(w,v),w})}}async update(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=BD(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>m)}else{const d=yD(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async listInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=lD(e);return u=ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=cD(m),w=new d_;return Object.assign(w,v),w})}else{const d=aD(e);return u=ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=uD(m),w=new d_;return Object.assign(w,v),w})}}}function Xd(n,e){var t={};for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&e.indexOf(A)<0&&(t[A]=n[A]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,A=Object.getOwnPropertySymbols(n);i<A.length;i++)e.indexOf(A[i])<0&&Object.prototype.propertyIsEnumerable.call(n,A[i])&&(t[A[i]]=n[A[i]]);return t}function v_(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],A=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&A>=n.length&&(n=void 0),{value:n&&n[A++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(n){return this instanceof He?(this.v=n,this):new He(n)}function dr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(T){return function(Q){return Promise.resolve(Q).then(T,v)}}function u(T,Q){A[T]&&(i[T]=function(N){return new Promise(function(D,O){o.push([T,N,D,O])>1||f(T,N)})},Q&&(i[T]=Q(i[T])))}function f(T,Q){try{d(A[T](Q))}catch(N){w(o[0][3],N)}}function d(T){T.value instanceof He?Promise.resolve(T.value.v).then(m,v):w(o[0][2],T)}function m(T){f("next",T)}function v(T){f("throw",T)}function w(T,Q){T(Q),o.shift(),o.length&&f(o[0][0],o[0][1])}}function hr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof v_=="function"?v_(n):n[Symbol.iterator](),t={},A("next"),A("throw"),A("return"),t[Symbol.asyncIterator]=function(){return this},t);function A(o){t[o]=n[o]&&function(a){return new Promise(function(u,f){a=n[o](a),i(u,f,a.done,a.value)})}}function i(o,a,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wD(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:kS(t)}function kS(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function CD(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function w_(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let A=0;for(;A<t;)if(n[A].role==="user")e.push(n[A]),A++;else{const i=[];let o=!0;for(;A<t&&n[A].role==="model";)i.push(n[A]),o&&!kS(n[A])&&(o=!1),A++;o?e.push(...i):e.pop()}return e}class ED{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new _D(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _D{constructor(e,t,A,i={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=A,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),CD(o)}async sendMessage(e){var t;await this.sendPromise;const A=Gn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(A),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,a,u;const f=await i,d=(a=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,m=f.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let w=[];m!=null&&(w=(u=m.slice(v))!==null&&u!==void 0?u:[]);const T=d?[d]:[];this.recordHistory(A,T,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const A=Gn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(A),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,A)}getHistory(e=!1){const t=e?w_(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return dr(this,arguments,function*(){var i,o,a,u,f,d;const m=[];try{for(var v=!0,w=hr(e),T;T=yield He(w.next()),i=T.done,!i;v=!0){u=T.value,v=!1;const Q=u;if(wD(Q)){const N=(d=(f=Q.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;N!==void 0&&m.push(N)}yield yield He(Q)}}catch(Q){o={error:Q}}finally{try{!v&&!i&&(a=w.return)&&(yield He(a.call(w)))}finally{if(o)throw o.error}}this.recordHistory(t,m)})}recordHistory(e,t,A){let i=[];t.length>0&&t.every(o=>o.role!==void 0)?i=t:i.push({role:"model",parts:[]}),A&&A.length>0?this.history.push(...w_(A)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Qh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TD(n){const e={},t=h(n,["file"]);return t!=null&&g(e,["file"],t),e}function ID(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function SD(n){const e={},t=h(n,["name"]);return t!=null&&g(e,["_url","file"],DS(t)),e}function UD(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function FD(n){const e={},t=h(n,["name"]);return t!=null&&g(e,["_url","file"],DS(t)),e}function QD(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function RD(n){const e={},t=h(n,["config"]);return t!=null&&QD(t,e),e}function bD(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xD extends Li{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new jo(Ri.PAGED_ITEM_FILES,A=>this.listInternal(A),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RD(e);return o=ye("files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=bD(f),m=new L1;return Object.assign(m,d),m})}}async createInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=TD(e);return o=ye("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=ID(f),m=new H1;return Object.assign(m,d),m})}}async get(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FD(e);return o=ye("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=SD(e);return o=ye("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=UD(f),m=new P1;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rd(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function ND(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>WD(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function DD(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function MD(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LD(n){const e={};if(h(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=h(n,["description"]);t!=null&&g(e,["description"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(n,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(n,["response"]);a!=null&&g(e,["response"],a);const u=h(n,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function HD(n){const e={},t=h(n,["modelSelectionConfig"]);t!=null&&g(e,["modelConfig"],t);const A=h(n,["responseJsonSchema"]);A!=null&&g(e,["responseJsonSchema"],A);const i=h(n,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=h(n,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const a=h(n,["enableAffectiveDialog"]);a!=null&&g(e,["enableAffectiveDialog"],a);const u=h(n,["frequencyPenalty"]);u!=null&&g(e,["frequencyPenalty"],u);const f=h(n,["logprobs"]);f!=null&&g(e,["logprobs"],f);const d=h(n,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(n,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const v=h(n,["presencePenalty"]);v!=null&&g(e,["presencePenalty"],v);const w=h(n,["responseLogprobs"]);w!=null&&g(e,["responseLogprobs"],w);const T=h(n,["responseMimeType"]);T!=null&&g(e,["responseMimeType"],T);const Q=h(n,["responseModalities"]);Q!=null&&g(e,["responseModalities"],Q);const N=h(n,["responseSchema"]);N!=null&&g(e,["responseSchema"],N);const D=h(n,["routingConfig"]);D!=null&&g(e,["routingConfig"],D);const O=h(n,["seed"]);O!=null&&g(e,["seed"],O);const q=h(n,["speechConfig"]);q!=null&&g(e,["speechConfig"],q);const W=h(n,["stopSequences"]);W!=null&&g(e,["stopSequences"],W);const ne=h(n,["temperature"]);ne!=null&&g(e,["temperature"],ne);const ie=h(n,["thinkingConfig"]);ie!=null&&g(e,["thinkingConfig"],ie);const Z=h(n,["topK"]);Z!=null&&g(e,["topK"],Z);const b=h(n,["topP"]);if(b!=null&&g(e,["topP"],b),h(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function PD(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function VD(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function OD(n,e){const t={},A=h(n,["generationConfig"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig"],A);const i=h(n,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(n,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(n,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const u=h(n,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const f=h(n,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=h(n,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(n,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=h(n,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],w0(v));const w=h(n,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const T=h(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const Q=h(n,["systemInstruction"]);e!==void 0&&Q!=null&&g(e,["setup","systemInstruction"],ND(Gn(Q)));const N=h(n,["tools"]);if(e!==void 0&&N!=null){let Z=_l(N);Array.isArray(Z)&&(Z=Z.map(b=>ZD(El(b)))),g(e,["setup","tools"],Z)}const D=h(n,["sessionResumption"]);e!==void 0&&D!=null&&g(e,["setup","sessionResumption"],$D(D));const O=h(n,["inputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","inputAudioTranscription"],O);const q=h(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&g(e,["setup","outputAudioTranscription"],q);const W=h(n,["realtimeInputConfig"]);e!==void 0&&W!=null&&g(e,["setup","realtimeInputConfig"],W);const ne=h(n,["contextWindowCompression"]);e!==void 0&&ne!=null&&g(e,["setup","contextWindowCompression"],ne);const ie=h(n,["proactivity"]);if(e!==void 0&&ie!=null&&g(e,["setup","proactivity"],ie),h(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function kD(n,e){const t={},A=h(n,["generationConfig"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig"],HD(A));const i=h(n,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(n,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(n,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const u=h(n,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const f=h(n,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=h(n,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(n,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=h(n,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],w0(v));const w=h(n,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const T=h(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const Q=h(n,["systemInstruction"]);e!==void 0&&Q!=null&&g(e,["setup","systemInstruction"],Gn(Q));const N=h(n,["tools"]);if(e!==void 0&&N!=null){let b=_l(N);Array.isArray(b)&&(b=b.map(R=>jD(El(R)))),g(e,["setup","tools"],b)}const D=h(n,["sessionResumption"]);e!==void 0&&D!=null&&g(e,["setup","sessionResumption"],D);const O=h(n,["inputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","inputAudioTranscription"],O);const q=h(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&g(e,["setup","outputAudioTranscription"],q);const W=h(n,["realtimeInputConfig"]);e!==void 0&&W!=null&&g(e,["setup","realtimeInputConfig"],W);const ne=h(n,["contextWindowCompression"]);e!==void 0&&ne!=null&&g(e,["setup","contextWindowCompression"],ne);const ie=h(n,["proactivity"]);e!==void 0&&ie!=null&&g(e,["setup","proactivity"],ie);const Z=h(n,["explicitVadSignal"]);return e!==void 0&&Z!=null&&g(e,["setup","explicitVadSignal"],Z),t}function KD(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["setup","model"],ot(n,A));const i=h(e,["config"]);return i!=null&&g(t,["config"],OD(i,t)),t}function GD(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["setup","model"],ot(n,A));const i=h(e,["config"]);return i!=null&&g(t,["config"],kD(i,t)),t}function qD(n){const e={},t=h(n,["musicGenerationConfig"]);return t!=null&&g(e,["musicGenerationConfig"],t),e}function zD(n){const e={},t=h(n,["weightedPrompts"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>i)),g(e,["weightedPrompts"],A)}return e}function JD(n){const e={},t=h(n,["media"]);if(t!=null){let d=QS(t);Array.isArray(d)&&(d=d.map(m=>Rd(m))),g(e,["mediaChunks"],d)}const A=h(n,["audio"]);A!=null&&g(e,["audio"],Rd(bS(A)));const i=h(n,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=h(n,["video"]);o!=null&&g(e,["video"],Rd(RS(o)));const a=h(n,["text"]);a!=null&&g(e,["text"],a);const u=h(n,["activityStart"]);u!=null&&g(e,["activityStart"],u);const f=h(n,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function YD(n){const e={},t=h(n,["media"]);if(t!=null){let d=QS(t);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const A=h(n,["audio"]);A!=null&&g(e,["audio"],bS(A));const i=h(n,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=h(n,["video"]);o!=null&&g(e,["video"],RS(o));const a=h(n,["text"]);a!=null&&g(e,["text"],a);const u=h(n,["activityStart"]);u!=null&&g(e,["activityStart"],u);const f=h(n,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function XD(n){const e={},t=h(n,["setupComplete"]);t!=null&&g(e,["setupComplete"],t);const A=h(n,["serverContent"]);A!=null&&g(e,["serverContent"],A);const i=h(n,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=h(n,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const a=h(n,["usageMetadata"]);a!=null&&g(e,["usageMetadata"],eM(a));const u=h(n,["goAway"]);u!=null&&g(e,["goAway"],u);const f=h(n,["sessionResumptionUpdate"]);f!=null&&g(e,["sessionResumptionUpdate"],f);const d=h(n,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function WD(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],DD(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],MD(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],Rd(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function $D(n){const e={},t=h(n,["handle"]);if(t!=null&&g(e,["handle"],t),h(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ZD(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],PD(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],VD(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function jD(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(w=>LD(w))),g(e,["functionDeclarations"],v)}const A=h(n,["retrieval"]);A!=null&&g(e,["retrieval"],A);const i=h(n,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=h(n,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),h(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(n,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const u=h(n,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const f=h(n,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=h(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(n,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function eM(n){const e={},t=h(n,["promptTokenCount"]);t!=null&&g(e,["promptTokenCount"],t);const A=h(n,["cachedContentTokenCount"]);A!=null&&g(e,["cachedContentTokenCount"],A);const i=h(n,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=h(n,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const a=h(n,["thoughtsTokenCount"]);a!=null&&g(e,["thoughtsTokenCount"],a);const u=h(n,["totalTokenCount"]);u!=null&&g(e,["totalTokenCount"],u);const f=h(n,["promptTokensDetails"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(Q=>Q)),g(e,["promptTokensDetails"],T)}const d=h(n,["cacheTokensDetails"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(Q=>Q)),g(e,["cacheTokensDetails"],T)}const m=h(n,["candidatesTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(Q=>Q)),g(e,["responseTokensDetails"],T)}const v=h(n,["toolUsePromptTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(Q=>Q)),g(e,["toolUsePromptTokensDetails"],T)}const w=h(n,["trafficType"]);return w!=null&&g(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tM(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function nM(n){const e={},t=h(n,["content"]);t!=null&&g(e,["content"],t);const A=h(n,["citationMetadata"]);A!=null&&g(e,["citationMetadata"],AM(A));const i=h(n,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=h(n,["finishReason"]);o!=null&&g(e,["finishReason"],o);const a=h(n,["avgLogprobs"]);a!=null&&g(e,["avgLogprobs"],a);const u=h(n,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const f=h(n,["index"]);f!=null&&g(e,["index"],f);const d=h(n,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(n,["safetyRatings"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(T=>T)),g(e,["safetyRatings"],w)}const v=h(n,["urlContextMetadata"]);return v!=null&&g(e,["urlContextMetadata"],v),e}function AM(n){const e={},t=h(n,["citationSources"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>i)),g(e,["citations"],A)}return e}function rM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let o=$A(i);Array.isArray(o)&&(o=o.map(a=>a)),g(t,["contents"],o)}return t}function iM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["tokensInfo"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function sM(n){const e={},t=h(n,["values"]);t!=null&&g(e,["values"],t);const A=h(n,["statistics"]);return A!=null&&g(e,["statistics"],oM(A)),e}function oM(n){const e={},t=h(n,["truncated"]);t!=null&&g(e,["truncated"],t);const A=h(n,["token_count"]);return A!=null&&g(e,["tokenCount"],A),e}function Rh(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>pL(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function aM(n){const e={},t=h(n,["controlType"]);t!=null&&g(e,["controlType"],t);const A=h(n,["enableControlImageComputation"]);return A!=null&&g(e,["computeControl"],A),e}function lM(n){const e={};if(h(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function uM(n,e){const t={},A=h(n,["systemInstruction"]);e!==void 0&&A!=null&&g(e,["systemInstruction"],Gn(A));const i=h(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>zS(u))),g(e,["tools"],a)}const o=h(n,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],tL(o)),t}function cM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=$A(i);Array.isArray(a)&&(a=a.map(u=>Rh(u))),g(t,["contents"],a)}const o=h(e,["config"]);return o!=null&&lM(o),t}function fM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=$A(i);Array.isArray(a)&&(a=a.map(u=>u)),g(t,["contents"],a)}const o=h(e,["config"]);return o!=null&&uM(o,t),t}function dM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["totalTokens"]);A!=null&&g(e,["totalTokens"],A);const i=h(n,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function hM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["totalTokens"]);return A!=null&&g(e,["totalTokens"],A),e}function gM(n,e){const t={},A=h(e,["model"]);return A!=null&&g(t,["_url","name"],ot(n,A)),t}function pM(n,e){const t={},A=h(e,["model"]);return A!=null&&g(t,["_url","name"],ot(n,A)),t}function mM(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function yM(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function BM(n,e){const t={},A=h(n,["outputGcsUri"]);e!==void 0&&A!=null&&g(e,["parameters","storageUri"],A);const i=h(n,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=h(n,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=h(n,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=h(n,["guidanceScale"]);e!==void 0&&u!=null&&g(e,["parameters","guidanceScale"],u);const f=h(n,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const d=h(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(n,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=h(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&g(e,["parameters","includeSafetyAttributes"],v);const w=h(n,["includeRaiReason"]);e!==void 0&&w!=null&&g(e,["parameters","includeRaiReason"],w);const T=h(n,["language"]);e!==void 0&&T!=null&&g(e,["parameters","language"],T);const Q=h(n,["outputMimeType"]);e!==void 0&&Q!=null&&g(e,["parameters","outputOptions","mimeType"],Q);const N=h(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&g(e,["parameters","outputOptions","compressionQuality"],N);const D=h(n,["addWatermark"]);e!==void 0&&D!=null&&g(e,["parameters","addWatermark"],D);const O=h(n,["labels"]);e!==void 0&&O!=null&&g(e,["labels"],O);const q=h(n,["editMode"]);e!==void 0&&q!=null&&g(e,["parameters","editMode"],q);const W=h(n,["baseSteps"]);return e!==void 0&&W!=null&&g(e,["parameters","editConfig","baseSteps"],W),t}function vM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>CL(f))),g(t,["instances[0]","referenceImages"],u)}const a=h(e,["config"]);return a!=null&&BM(a,t),t}function wM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>bh(o))),g(e,["generatedImages"],i)}return e}function CM(n,e){const t={},A=h(n,["taskType"]);e!==void 0&&A!=null&&g(e,["requests[]","taskType"],A);const i=h(n,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=h(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),h(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function EM(n,e){const t={},A=h(n,["taskType"]);e!==void 0&&A!=null&&g(e,["instances[]","task_type"],A);const i=h(n,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=h(n,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const a=h(n,["mimeType"]);e!==void 0&&a!=null&&g(e,["instances[]","mimeType"],a);const u=h(n,["autoTruncate"]);return e!==void 0&&u!=null&&g(e,["parameters","autoTruncate"],u),t}function _M(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let u=y0(n,i);Array.isArray(u)&&(u=u.map(f=>f)),g(t,["requests[]","content"],u)}const o=h(e,["config"]);o!=null&&CM(o,t);const a=h(e,["model"]);return a!==void 0&&g(t,["requests[]","model"],ot(n,a)),t}function TM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=y0(n,i);Array.isArray(a)&&(a=a.map(u=>u)),g(t,["instances[]","content"],a)}const o=h(e,["config"]);return o!=null&&EM(o,t),t}function IM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["embeddings"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["embeddings"],o)}const i=h(n,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function SM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions[]","embeddings"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>sM(a))),g(e,["embeddings"],o)}const i=h(n,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function UM(n){const e={},t=h(n,["endpoint"]);t!=null&&g(e,["name"],t);const A=h(n,["deployedModelId"]);return A!=null&&g(e,["deployedModelId"],A),e}function FM(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function QM(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RM(n){const e={},t=h(n,["mode"]);t!=null&&g(e,["mode"],t);const A=h(n,["allowedFunctionNames"]);if(A!=null&&g(e,["allowedFunctionNames"],A),h(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bM(n){const e={};if(h(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=h(n,["description"]);t!=null&&g(e,["description"],t);const A=h(n,["name"]);A!=null&&g(e,["name"],A);const i=h(n,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(n,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(n,["response"]);a!=null&&g(e,["response"],a);const u=h(n,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function xM(n,e,t){const A={},i=h(e,["systemInstruction"]);t!==void 0&&i!=null&&g(t,["systemInstruction"],Rh(Gn(i)));const o=h(e,["temperature"]);o!=null&&g(A,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(A,["topP"],a);const u=h(e,["topK"]);u!=null&&g(A,["topK"],u);const f=h(e,["candidateCount"]);f!=null&&g(A,["candidateCount"],f);const d=h(e,["maxOutputTokens"]);d!=null&&g(A,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(A,["stopSequences"],m);const v=h(e,["responseLogprobs"]);v!=null&&g(A,["responseLogprobs"],v);const w=h(e,["logprobs"]);w!=null&&g(A,["logprobs"],w);const T=h(e,["presencePenalty"]);T!=null&&g(A,["presencePenalty"],T);const Q=h(e,["frequencyPenalty"]);Q!=null&&g(A,["frequencyPenalty"],Q);const N=h(e,["seed"]);N!=null&&g(A,["seed"],N);const D=h(e,["responseMimeType"]);D!=null&&g(A,["responseMimeType"],D);const O=h(e,["responseSchema"]);O!=null&&g(A,["responseSchema"],B0(O));const q=h(e,["responseJsonSchema"]);if(q!=null&&g(A,["responseJsonSchema"],q),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=h(e,["safetySettings"]);if(t!==void 0&&W!=null){let x=W;Array.isArray(x)&&(x=x.map(Te=>EL(Te))),g(t,["safetySettings"],x)}const ne=h(e,["tools"]);if(t!==void 0&&ne!=null){let x=_l(ne);Array.isArray(x)&&(x=x.map(Te=>QL(El(Te)))),g(t,["tools"],x)}const ie=h(e,["toolConfig"]);if(t!==void 0&&ie!=null&&g(t,["toolConfig"],FL(ie)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=h(e,["cachedContent"]);t!==void 0&&Z!=null&&g(t,["cachedContent"],Hi(n,Z));const b=h(e,["responseModalities"]);b!=null&&g(A,["responseModalities"],b);const R=h(e,["mediaResolution"]);R!=null&&g(A,["mediaResolution"],R);const U=h(e,["speechConfig"]);if(U!=null&&g(A,["speechConfig"],v0(U)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=h(e,["thinkingConfig"]);M!=null&&g(A,["thinkingConfig"],M);const L=h(e,["imageConfig"]);L!=null&&g(A,["imageConfig"],sL(L));const k=h(e,["enableEnhancedCivicAnswers"]);return k!=null&&g(A,["enableEnhancedCivicAnswers"],k),A}function NM(n,e,t){const A={},i=h(e,["systemInstruction"]);t!==void 0&&i!=null&&g(t,["systemInstruction"],Gn(i));const o=h(e,["temperature"]);o!=null&&g(A,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(A,["topP"],a);const u=h(e,["topK"]);u!=null&&g(A,["topK"],u);const f=h(e,["candidateCount"]);f!=null&&g(A,["candidateCount"],f);const d=h(e,["maxOutputTokens"]);d!=null&&g(A,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(A,["stopSequences"],m);const v=h(e,["responseLogprobs"]);v!=null&&g(A,["responseLogprobs"],v);const w=h(e,["logprobs"]);w!=null&&g(A,["logprobs"],w);const T=h(e,["presencePenalty"]);T!=null&&g(A,["presencePenalty"],T);const Q=h(e,["frequencyPenalty"]);Q!=null&&g(A,["frequencyPenalty"],Q);const N=h(e,["seed"]);N!=null&&g(A,["seed"],N);const D=h(e,["responseMimeType"]);D!=null&&g(A,["responseMimeType"],D);const O=h(e,["responseSchema"]);O!=null&&g(A,["responseSchema"],B0(O));const q=h(e,["responseJsonSchema"]);q!=null&&g(A,["responseJsonSchema"],q);const W=h(e,["routingConfig"]);W!=null&&g(A,["routingConfig"],W);const ne=h(e,["modelSelectionConfig"]);ne!=null&&g(A,["modelConfig"],ne);const ie=h(e,["safetySettings"]);if(t!==void 0&&ie!=null){let K=ie;Array.isArray(K)&&(K=K.map(ue=>ue)),g(t,["safetySettings"],K)}const Z=h(e,["tools"]);if(t!==void 0&&Z!=null){let K=_l(Z);Array.isArray(K)&&(K=K.map(ue=>zS(El(ue)))),g(t,["tools"],K)}const b=h(e,["toolConfig"]);t!==void 0&&b!=null&&g(t,["toolConfig"],b);const R=h(e,["labels"]);t!==void 0&&R!=null&&g(t,["labels"],R);const U=h(e,["cachedContent"]);t!==void 0&&U!=null&&g(t,["cachedContent"],Hi(n,U));const M=h(e,["responseModalities"]);M!=null&&g(A,["responseModalities"],M);const L=h(e,["mediaResolution"]);L!=null&&g(A,["mediaResolution"],L);const k=h(e,["speechConfig"]);k!=null&&g(A,["speechConfig"],v0(k));const x=h(e,["audioTimestamp"]);x!=null&&g(A,["audioTimestamp"],x);const Te=h(e,["thinkingConfig"]);Te!=null&&g(A,["thinkingConfig"],Te);const Xe=h(e,["imageConfig"]);if(Xe!=null&&g(A,["imageConfig"],oL(Xe)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return A}function C_(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=$A(i);Array.isArray(a)&&(a=a.map(u=>Rh(u))),g(t,["contents"],a)}const o=h(e,["config"]);return o!=null&&g(t,["generationConfig"],xM(n,o,t)),t}function E_(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["contents"]);if(i!=null){let a=$A(i);Array.isArray(a)&&(a=a.map(u=>u)),g(t,["contents"],a)}const o=h(e,["config"]);return o!=null&&g(t,["generationConfig"],NM(n,o,t)),t}function __(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["candidates"]);if(A!=null){let f=A;Array.isArray(f)&&(f=f.map(d=>nM(d))),g(e,["candidates"],f)}const i=h(n,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=h(n,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const a=h(n,["responseId"]);a!=null&&g(e,["responseId"],a);const u=h(n,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function T_(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["candidates"]);if(A!=null){let d=A;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const i=h(n,["createTime"]);i!=null&&g(e,["createTime"],i);const o=h(n,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const a=h(n,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=h(n,["responseId"]);u!=null&&g(e,["responseId"],u);const f=h(n,["usageMetadata"]);return f!=null&&g(e,["usageMetadata"],f),e}function DM(n,e){const t={};if(h(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const A=h(n,["numberOfImages"]);e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A);const i=h(n,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=h(n,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),h(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const u=h(n,["personGeneration"]);e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u);const f=h(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const d=h(n,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=h(n,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const v=h(n,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const w=h(n,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w),h(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=h(n,["imageSize"]);if(e!==void 0&&T!=null&&g(e,["parameters","sampleImageSize"],T),h(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function MM(n,e){const t={},A=h(n,["outputGcsUri"]);e!==void 0&&A!=null&&g(e,["parameters","storageUri"],A);const i=h(n,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=h(n,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=h(n,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=h(n,["guidanceScale"]);e!==void 0&&u!=null&&g(e,["parameters","guidanceScale"],u);const f=h(n,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const d=h(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(n,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=h(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&g(e,["parameters","includeSafetyAttributes"],v);const w=h(n,["includeRaiReason"]);e!==void 0&&w!=null&&g(e,["parameters","includeRaiReason"],w);const T=h(n,["language"]);e!==void 0&&T!=null&&g(e,["parameters","language"],T);const Q=h(n,["outputMimeType"]);e!==void 0&&Q!=null&&g(e,["parameters","outputOptions","mimeType"],Q);const N=h(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&g(e,["parameters","outputOptions","compressionQuality"],N);const D=h(n,["addWatermark"]);e!==void 0&&D!=null&&g(e,["parameters","addWatermark"],D);const O=h(n,["labels"]);e!==void 0&&O!=null&&g(e,["labels"],O);const q=h(n,["imageSize"]);e!==void 0&&q!=null&&g(e,["parameters","sampleImageSize"],q);const W=h(n,["enhancePrompt"]);return e!==void 0&&W!=null&&g(e,["parameters","enhancePrompt"],W),t}function LM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&DM(o,t),t}function HM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&MM(o,t),t}function PM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>$M(a))),g(e,["generatedImages"],o)}const i=h(n,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],GS(i)),e}function VM(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions"]);if(A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>bh(a))),g(e,["generatedImages"],o)}const i=h(n,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],qS(i)),e}function OM(n,e){const t={},A=h(n,["numberOfVideos"]);if(e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A),h(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=h(n,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),h(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=h(n,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const a=h(n,["resolution"]);e!==void 0&&a!=null&&g(e,["parameters","resolution"],a);const u=h(n,["personGeneration"]);if(e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u),h(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=h(n,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const d=h(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),h(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=h(n,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],xh(m));const v=h(n,["referenceImages"]);if(e!==void 0&&v!=null){let w=v;Array.isArray(w)&&(w=w.map(T=>KL(T))),g(e,["instances[0]","referenceImages"],w)}if(h(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function kM(n,e){const t={},A=h(n,["numberOfVideos"]);e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A);const i=h(n,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=h(n,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const a=h(n,["durationSeconds"]);e!==void 0&&a!=null&&g(e,["parameters","durationSeconds"],a);const u=h(n,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const f=h(n,["aspectRatio"]);e!==void 0&&f!=null&&g(e,["parameters","aspectRatio"],f);const d=h(n,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=h(n,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=h(n,["pubsubTopic"]);e!==void 0&&v!=null&&g(e,["parameters","pubsubTopic"],v);const w=h(n,["negativePrompt"]);e!==void 0&&w!=null&&g(e,["parameters","negativePrompt"],w);const T=h(n,["enhancePrompt"]);e!==void 0&&T!=null&&g(e,["parameters","enhancePrompt"],T);const Q=h(n,["generateAudio"]);e!==void 0&&Q!=null&&g(e,["parameters","generateAudio"],Q);const N=h(n,["lastFrame"]);e!==void 0&&N!=null&&g(e,["instances[0]","lastFrame"],vr(N));const D=h(n,["referenceImages"]);if(e!==void 0&&D!=null){let W=D;Array.isArray(W)&&(W=W.map(ne=>GL(ne))),g(e,["instances[0]","referenceImages"],W)}const O=h(n,["mask"]);e!==void 0&&O!=null&&g(e,["instances[0]","mask"],kL(O));const q=h(n,["compressionQuality"]);return e!==void 0&&q!=null&&g(e,["parameters","compressionQuality"],q),t}function KM(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response","generateVideoResponse"]);return a!=null&&g(e,["response"],JM(a)),e}function GM(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],YM(a)),e}function qM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&g(t,["instances[0]","image"],xh(o));const a=h(e,["video"]);a!=null&&g(t,["instances[0]","video"],JS(a));const u=h(e,["source"]);u!=null&&XM(u,t);const f=h(e,["config"]);return f!=null&&OM(f,t),t}function zM(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["prompt"]);i!=null&&g(t,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&g(t,["instances[0]","image"],vr(o));const a=h(e,["video"]);a!=null&&g(t,["instances[0]","video"],YS(a));const u=h(e,["source"]);u!=null&&WM(u,t);const f=h(e,["config"]);return f!=null&&kM(f,t),t}function JM(n){const e={},t=h(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>jM(a))),g(e,["generatedVideos"],o)}const A=h(n,["raiMediaFilteredCount"]);A!=null&&g(e,["raiMediaFilteredCount"],A);const i=h(n,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function YM(n){const e={},t=h(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>eL(a))),g(e,["generatedVideos"],o)}const A=h(n,["raiMediaFilteredCount"]);A!=null&&g(e,["raiMediaFilteredCount"],A);const i=h(n,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function XM(n,e){const t={},A=h(n,["prompt"]);e!==void 0&&A!=null&&g(e,["instances[0]","prompt"],A);const i=h(n,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],xh(i));const o=h(n,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],JS(o)),t}function WM(n,e){const t={},A=h(n,["prompt"]);e!==void 0&&A!=null&&g(e,["instances[0]","prompt"],A);const i=h(n,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],vr(i));const o=h(n,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],YS(o)),t}function $M(n){const e={},t=h(n,["_self"]);t!=null&&g(e,["image"],aL(t));const A=h(n,["raiFilteredReason"]);A!=null&&g(e,["raiFilteredReason"],A);const i=h(n,["_self"]);return i!=null&&g(e,["safetyAttributes"],GS(i)),e}function bh(n){const e={},t=h(n,["_self"]);t!=null&&g(e,["image"],KS(t));const A=h(n,["raiFilteredReason"]);A!=null&&g(e,["raiFilteredReason"],A);const i=h(n,["_self"]);i!=null&&g(e,["safetyAttributes"],qS(i));const o=h(n,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function ZM(n){const e={},t=h(n,["_self"]);t!=null&&g(e,["mask"],KS(t));const A=h(n,["labels"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function jM(n){const e={},t=h(n,["video"]);return t!=null&&g(e,["video"],VL(t)),e}function eL(n){const e={},t=h(n,["_self"]);return t!=null&&g(e,["video"],OL(t)),e}function tL(n){const e={},t=h(n,["modelSelectionConfig"]);t!=null&&g(e,["modelConfig"],t);const A=h(n,["responseJsonSchema"]);A!=null&&g(e,["responseJsonSchema"],A);const i=h(n,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=h(n,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const a=h(n,["enableAffectiveDialog"]);a!=null&&g(e,["enableAffectiveDialog"],a);const u=h(n,["frequencyPenalty"]);u!=null&&g(e,["frequencyPenalty"],u);const f=h(n,["logprobs"]);f!=null&&g(e,["logprobs"],f);const d=h(n,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(n,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const v=h(n,["presencePenalty"]);v!=null&&g(e,["presencePenalty"],v);const w=h(n,["responseLogprobs"]);w!=null&&g(e,["responseLogprobs"],w);const T=h(n,["responseMimeType"]);T!=null&&g(e,["responseMimeType"],T);const Q=h(n,["responseModalities"]);Q!=null&&g(e,["responseModalities"],Q);const N=h(n,["responseSchema"]);N!=null&&g(e,["responseSchema"],N);const D=h(n,["routingConfig"]);D!=null&&g(e,["routingConfig"],D);const O=h(n,["seed"]);O!=null&&g(e,["seed"],O);const q=h(n,["speechConfig"]);q!=null&&g(e,["speechConfig"],q);const W=h(n,["stopSequences"]);W!=null&&g(e,["stopSequences"],W);const ne=h(n,["temperature"]);ne!=null&&g(e,["temperature"],ne);const ie=h(n,["thinkingConfig"]);ie!=null&&g(e,["thinkingConfig"],ie);const Z=h(n,["topK"]);Z!=null&&g(e,["topK"],Z);const b=h(n,["topP"]);if(b!=null&&g(e,["topP"],b),h(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nL(n,e){const t={},A=h(e,["model"]);return A!=null&&g(t,["_url","name"],ot(n,A)),t}function AL(n,e){const t={},A=h(e,["model"]);return A!=null&&g(t,["_url","name"],ot(n,A)),t}function rL(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function iL(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function sL(n){const e={},t=h(n,["aspectRatio"]);t!=null&&g(e,["aspectRatio"],t);const A=h(n,["imageSize"]);if(A!=null&&g(e,["imageSize"],A),h(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function oL(n){const e={},t=h(n,["aspectRatio"]);t!=null&&g(e,["aspectRatio"],t);const A=h(n,["imageSize"]);A!=null&&g(e,["imageSize"],A);const i=h(n,["outputMimeType"]);i!=null&&g(e,["imageOutputOptions","mimeType"],i);const o=h(n,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function aL(n){const e={},t=h(n,["bytesBase64Encoded"]);t!=null&&g(e,["imageBytes"],Ws(t));const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function KS(n){const e={},t=h(n,["gcsUri"]);t!=null&&g(e,["gcsUri"],t);const A=h(n,["bytesBase64Encoded"]);A!=null&&g(e,["imageBytes"],Ws(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function xh(n){const e={};if(h(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=h(n,["imageBytes"]);t!=null&&g(e,["bytesBase64Encoded"],Ws(t));const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function vr(n){const e={},t=h(n,["gcsUri"]);t!=null&&g(e,["gcsUri"],t);const A=h(n,["imageBytes"]);A!=null&&g(e,["bytesBase64Encoded"],Ws(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function lL(n,e,t){const A={},i=h(e,["pageSize"]);t!==void 0&&i!=null&&g(t,["_query","pageSize"],i);const o=h(e,["pageToken"]);t!==void 0&&o!=null&&g(t,["_query","pageToken"],o);const a=h(e,["filter"]);t!==void 0&&a!=null&&g(t,["_query","filter"],a);const u=h(e,["queryBase"]);return t!==void 0&&u!=null&&g(t,["_url","models_url"],MS(n,u)),A}function uL(n,e,t){const A={},i=h(e,["pageSize"]);t!==void 0&&i!=null&&g(t,["_query","pageSize"],i);const o=h(e,["pageToken"]);t!==void 0&&o!=null&&g(t,["_query","pageToken"],o);const a=h(e,["filter"]);t!==void 0&&a!=null&&g(t,["_query","filter"],a);const u=h(e,["queryBase"]);return t!==void 0&&u!=null&&g(t,["_url","models_url"],MS(n,u)),A}function cL(n,e){const t={},A=h(e,["config"]);return A!=null&&lL(n,A,t),t}function fL(n,e){const t={},A=h(e,["config"]);return A!=null&&uL(n,A,t),t}function dL(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["_self"]);if(i!=null){let o=LS(i);Array.isArray(o)&&(o=o.map(a=>oy(a))),g(e,["models"],o)}return e}function hL(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["_self"]);if(i!=null){let o=LS(i);Array.isArray(o)&&(o=o.map(a=>ay(a))),g(e,["models"],o)}return e}function gL(n){const e={},t=h(n,["maskMode"]);t!=null&&g(e,["maskMode"],t);const A=h(n,["segmentationClasses"]);A!=null&&g(e,["maskClasses"],A);const i=h(n,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function oy(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["displayName"]);A!=null&&g(e,["displayName"],A);const i=h(n,["description"]);i!=null&&g(e,["description"],i);const o=h(n,["version"]);o!=null&&g(e,["version"],o);const a=h(n,["_self"]);a!=null&&g(e,["tunedModelInfo"],RL(a));const u=h(n,["inputTokenLimit"]);u!=null&&g(e,["inputTokenLimit"],u);const f=h(n,["outputTokenLimit"]);f!=null&&g(e,["outputTokenLimit"],f);const d=h(n,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=h(n,["temperature"]);m!=null&&g(e,["temperature"],m);const v=h(n,["maxTemperature"]);v!=null&&g(e,["maxTemperature"],v);const w=h(n,["topP"]);w!=null&&g(e,["topP"],w);const T=h(n,["topK"]);T!=null&&g(e,["topK"],T);const Q=h(n,["thinking"]);return Q!=null&&g(e,["thinking"],Q),e}function ay(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["displayName"]);A!=null&&g(e,["displayName"],A);const i=h(n,["description"]);i!=null&&g(e,["description"],i);const o=h(n,["versionId"]);o!=null&&g(e,["version"],o);const a=h(n,["deployedModels"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(w=>UM(w))),g(e,["endpoints"],v)}const u=h(n,["labels"]);u!=null&&g(e,["labels"],u);const f=h(n,["_self"]);f!=null&&g(e,["tunedModelInfo"],bL(f));const d=h(n,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=h(n,["checkpoints"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(w=>w)),g(e,["checkpoints"],v)}return e}function pL(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],FM(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],QM(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],tM(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function mL(n){const e={},t=h(n,["productImage"]);return t!=null&&g(e,["image"],vr(t)),e}function yL(n,e){const t={},A=h(n,["numberOfImages"]);e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A);const i=h(n,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=h(n,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const a=h(n,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const u=h(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const f=h(n,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const d=h(n,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=h(n,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const v=h(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","compressionQuality"],v);const w=h(n,["enhancePrompt"]);e!==void 0&&w!=null&&g(e,["parameters","enhancePrompt"],w);const T=h(n,["labels"]);return e!==void 0&&T!=null&&g(e,["labels"],T),t}function BL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["source"]);i!=null&&wL(i,t);const o=h(e,["config"]);return o!=null&&yL(o,t),t}function vL(n){const e={},t=h(n,["predictions"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>bh(i))),g(e,["generatedImages"],A)}return e}function wL(n,e){const t={},A=h(n,["prompt"]);e!==void 0&&A!=null&&g(e,["instances[0]","prompt"],A);const i=h(n,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],vr(i));const o=h(n,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>mL(u))),g(e,["instances[0]","productImages"],a)}return t}function CL(n){const e={},t=h(n,["referenceImage"]);t!=null&&g(e,["referenceImage"],vr(t));const A=h(n,["referenceId"]);A!=null&&g(e,["referenceId"],A);const i=h(n,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=h(n,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],gL(o));const a=h(n,["controlImageConfig"]);a!=null&&g(e,["controlImageConfig"],aM(a));const u=h(n,["styleImageConfig"]);u!=null&&g(e,["styleImageConfig"],u);const f=h(n,["subjectImageConfig"]);return f!=null&&g(e,["subjectImageConfig"],f),e}function GS(n){const e={},t=h(n,["safetyAttributes","categories"]);t!=null&&g(e,["categories"],t);const A=h(n,["safetyAttributes","scores"]);A!=null&&g(e,["scores"],A);const i=h(n,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function qS(n){const e={},t=h(n,["safetyAttributes","categories"]);t!=null&&g(e,["categories"],t);const A=h(n,["safetyAttributes","scores"]);A!=null&&g(e,["scores"],A);const i=h(n,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function EL(n){const e={},t=h(n,["category"]);if(t!=null&&g(e,["category"],t),h(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const A=h(n,["threshold"]);return A!=null&&g(e,["threshold"],A),e}function _L(n){const e={},t=h(n,["image"]);return t!=null&&g(e,["image"],vr(t)),e}function TL(n,e){const t={},A=h(n,["mode"]);e!==void 0&&A!=null&&g(e,["parameters","mode"],A);const i=h(n,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=h(n,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const a=h(n,["maskDilation"]);e!==void 0&&a!=null&&g(e,["parameters","maskDilation"],a);const u=h(n,["binaryColorThreshold"]);e!==void 0&&u!=null&&g(e,["parameters","binaryColorThreshold"],u);const f=h(n,["labels"]);return e!==void 0&&f!=null&&g(e,["labels"],f),t}function IL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["source"]);i!=null&&UL(i,t);const o=h(e,["config"]);return o!=null&&TL(o,t),t}function SL(n){const e={},t=h(n,["predictions"]);if(t!=null){let A=t;Array.isArray(A)&&(A=A.map(i=>ZM(i))),g(e,["generatedMasks"],A)}return e}function UL(n,e){const t={},A=h(n,["prompt"]);e!==void 0&&A!=null&&g(e,["instances[0]","prompt"],A);const i=h(n,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],vr(i));const o=h(n,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],_L(o)),t}function FL(n){const e={},t=h(n,["functionCallingConfig"]);t!=null&&g(e,["functionCallingConfig"],RM(t));const A=h(n,["retrievalConfig"]);return A!=null&&g(e,["retrievalConfig"],A),e}function QL(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],rL(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],iL(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function zS(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(w=>bM(w))),g(e,["functionDeclarations"],v)}const A=h(n,["retrieval"]);A!=null&&g(e,["retrieval"],A);const i=h(n,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=h(n,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),h(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(n,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const u=h(n,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const f=h(n,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=h(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(n,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function RL(n){const e={},t=h(n,["baseModel"]);t!=null&&g(e,["baseModel"],t);const A=h(n,["createTime"]);A!=null&&g(e,["createTime"],A);const i=h(n,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function bL(n){const e={},t=h(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&g(e,["baseModel"],t);const A=h(n,["createTime"]);A!=null&&g(e,["createTime"],A);const i=h(n,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function xL(n,e){const t={},A=h(n,["displayName"]);e!==void 0&&A!=null&&g(e,["displayName"],A);const i=h(n,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=h(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),t}function NL(n,e){const t={},A=h(n,["displayName"]);e!==void 0&&A!=null&&g(e,["displayName"],A);const i=h(n,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=h(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),t}function DL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","name"],ot(n,A));const i=h(e,["config"]);return i!=null&&xL(i,t),t}function ML(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["config"]);return i!=null&&NL(i,t),t}function LL(n,e){const t={},A=h(n,["outputGcsUri"]);e!==void 0&&A!=null&&g(e,["parameters","storageUri"],A);const i=h(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=h(n,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const a=h(n,["includeRaiReason"]);e!==void 0&&a!=null&&g(e,["parameters","includeRaiReason"],a);const u=h(n,["outputMimeType"]);e!==void 0&&u!=null&&g(e,["parameters","outputOptions","mimeType"],u);const f=h(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const d=h(n,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=h(n,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const v=h(n,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const w=h(n,["numberOfImages"]);e!==void 0&&w!=null&&g(e,["parameters","sampleCount"],w);const T=h(n,["mode"]);return e!==void 0&&T!=null&&g(e,["parameters","mode"],T),t}function HL(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["_url","model"],ot(n,A));const i=h(e,["image"]);i!=null&&g(t,["instances[0]","image"],vr(i));const o=h(e,["upscaleFactor"]);o!=null&&g(t,["parameters","upscaleConfig","upscaleFactor"],o);const a=h(e,["config"]);return a!=null&&LL(a,t),t}function PL(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["predictions"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>bh(o))),g(e,["generatedImages"],i)}return e}function VL(n){const e={},t=h(n,["uri"]);t!=null&&g(e,["uri"],t);const A=h(n,["encodedVideo"]);A!=null&&g(e,["videoBytes"],Ws(A));const i=h(n,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function OL(n){const e={},t=h(n,["gcsUri"]);t!=null&&g(e,["uri"],t);const A=h(n,["bytesBase64Encoded"]);A!=null&&g(e,["videoBytes"],Ws(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function kL(n){const e={},t=h(n,["image"]);t!=null&&g(e,["_self"],vr(t));const A=h(n,["maskMode"]);return A!=null&&g(e,["maskMode"],A),e}function KL(n){const e={},t=h(n,["image"]);t!=null&&g(e,["image"],xh(t));const A=h(n,["referenceType"]);return A!=null&&g(e,["referenceType"],A),e}function GL(n){const e={},t=h(n,["image"]);t!=null&&g(e,["image"],vr(t));const A=h(n,["referenceType"]);return A!=null&&g(e,["referenceType"],A),e}function JS(n){const e={},t=h(n,["uri"]);t!=null&&g(e,["uri"],t);const A=h(n,["videoBytes"]);A!=null&&g(e,["encodedVideo"],Ws(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function YS(n){const e={},t=h(n,["uri"]);t!=null&&g(e,["gcsUri"],t);const A=h(n,["videoBytes"]);A!=null&&g(e,["bytesBase64Encoded"],Ws(A));const i=h(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qL(n,e){const t={},A=h(n,["displayName"]);return e!==void 0&&A!=null&&g(e,["displayName"],A),t}function zL(n){const e={},t=h(n,["config"]);return t!=null&&qL(t,e),e}function JL(n,e){const t={},A=h(n,["force"]);return e!==void 0&&A!=null&&g(e,["_query","force"],A),t}function YL(n){const e={},t=h(n,["name"]);t!=null&&g(e,["_url","name"],t);const A=h(n,["config"]);return A!=null&&JL(A,e),e}function XL(n){const e={},t=h(n,["name"]);return t!=null&&g(e,["_url","name"],t),e}function WL(n,e){const t={},A=h(n,["customMetadata"]);if(e!==void 0&&A!=null){let o=A;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["customMetadata"],o)}const i=h(n,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),t}function $L(n){const e={},t=h(n,["name"]);t!=null&&g(e,["name"],t);const A=h(n,["metadata"]);A!=null&&g(e,["metadata"],A);const i=h(n,["done"]);i!=null&&g(e,["done"],i);const o=h(n,["error"]);o!=null&&g(e,["error"],o);const a=h(n,["response"]);return a!=null&&g(e,["response"],jL(a)),e}function ZL(n){const e={},t=h(n,["fileSearchStoreName"]);t!=null&&g(e,["_url","file_search_store_name"],t);const A=h(n,["fileName"]);A!=null&&g(e,["fileName"],A);const i=h(n,["config"]);return i!=null&&WL(i,e),e}function jL(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["parent"]);A!=null&&g(e,["parent"],A);const i=h(n,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function eH(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function tH(n){const e={},t=h(n,["config"]);return t!=null&&eH(t,e),e}function nH(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["fileSearchStores"],o)}return e}function XS(n,e){const t={},A=h(n,["mimeType"]);e!==void 0&&A!=null&&g(e,["mimeType"],A);const i=h(n,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=h(n,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),g(e,["customMetadata"],u)}const a=h(n,["chunkingConfig"]);return e!==void 0&&a!=null&&g(e,["chunkingConfig"],a),t}function AH(n){const e={},t=h(n,["fileSearchStoreName"]);t!=null&&g(e,["_url","file_search_store_name"],t);const A=h(n,["config"]);return A!=null&&XS(A,e),e}function rH(n){const e={},t=h(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iH="Content-Type",sH="X-Server-Timeout",oH="User-Agent",ly="x-goog-api-client",aH="1.34.0",lH=`google-genai-sdk/${aH}`,uH="v1beta1",cH="v1beta";class fH{constructor(e){var t,A;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:uH,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(A=this.clientOptions.apiVersion)!==null&&A!==void 0?A:cH,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const A=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&A.push(e.apiVersion),A.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,A){const i=[this.getRequestUrlInternal(t)];return A&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const A=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,A);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,t){const A=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(t))typeof o=="object"?A[i]=Object.assign(Object.assign({},A[i]),o):o!==void 0&&(A[i]=o);return A}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const A=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,A);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,A,i){if(t&&t.timeout||i){const o=new AbortController,a=o.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const u=setTimeout(()=>o.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return t&&t.extraBody!==null&&dH(e,t.extraBody),e.headers=await this.getHeadersInternal(t,A),e}async unaryApiCall(e,t,A){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:A})).then(async i=>(await I_(i),new ry(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,A){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:A})).then(async i=>(await I_(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return dr(this,arguments,function*(){var A;const i=(A=e==null?void 0:e.body)===null||A===void 0?void 0:A.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield He(i.read());if(d){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=o.decode(m,{stream:!0});try{const Q=JSON.parse(v);if("error"in Q){const N=JSON.parse(JSON.stringify(Q.error)),D=N.status,O=N.code,q=`got status: ${D}. ${JSON.stringify(Q)}`;if(O>=400&&O<600)throw new Qh({message:q,status:O})}}catch(Q){if(Q.name==="ApiError")throw Q}a+=v;let w=-1,T=0;for(;;){w=-1,T=0;for(const D of f){const O=a.indexOf(D);O!==-1&&(w===-1||O<w)&&(w=O,T=D.length)}if(w===-1)break;const Q=a.substring(0,w);a=a.substring(w+T);const N=Q.trim();if(N.startsWith(u)){const D=N.substring(u.length).trim();try{const O=new Response(D,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new ry(O))}catch(O){throw new Error(`exception parsing stream chunk ${D}. ${O}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(A=>{throw new Error(`exception ${A} sending request`)})}getDefaultHeaders(){const e={},t=lH+" "+this.clientOptions.userAgentExtra;return e[oH]=t,e[ly]=t,e[iH]="application/json",e}async getHeadersInternal(e,t){const A=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))A.append(i,o);e.timeout&&e.timeout>0&&A.append(sH,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(A,t),A}getFileName(e){var t;let A="";return typeof e=="string"&&(A=e.replace(/[/\\]+$/,""),A=(t=A.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),A}async uploadFile(e,t){var A;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(A=t==null?void 0:t.mimeType)!==null&&A!==void 0?A:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(e),m=ye("upload/v1beta/files",f._url),v=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,d,f,t==null?void 0:t.httpOptions);return o.upload(e,v,this)}async uploadFileToFileSearchStore(e,t,A){var i;const o=this.clientOptions.uploader,a=await o.stat(t),u=String(a.size),f=(i=A==null?void 0:A.mimeType)!==null&&i!==void 0?i:a.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(t),v={};A!=null&&XS(A,v);const w=await this.fetchUploadUrl(d,u,f,m,v,A==null?void 0:A.httpOptions);return o.uploadToFileSearchStore(t,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,A,i,o,a){var u;let f={};a?f=a:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${A}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function I_(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let A;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?A=await n.json():A={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(A);throw t>=400&&t<600?new Qh({message:i,status:t}):new Error(i)}}function dH(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const o=JSON.parse(n.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))t=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function A(o,a){const u=Object.assign({},o);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const d=a[f],m=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?u[f]=A(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=A(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hH="mcp_used/unknown";let gH=!1;function WS(n){for(const e of n)if(pH(e)||typeof e=="object"&&"inputSchema"in e)return!0;return gH}function $S(n){var e;const t=(e=n[ly])!==null&&e!==void 0?e:"";n[ly]=(t+` ${hH}`).trimStart()}function pH(n){return n!==null&&typeof n=="object"&&n instanceof C0}function mH(n){return dr(this,arguments,function*(t,A=100){let i,o=0;for(;o<A;){const a=yield He(t.listTools({cursor:i}));for(const u of a.tools)yield yield He(u),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class C0{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new C0(e,t)}async initialize(){var e,t,A,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const m of this.mcpClients)try{for(var u=!0,f=(t=void 0,hr(mH(m))),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const v=i;a.push(v);const w=v.name;if(o[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);o[w]=m}}catch(v){t={error:v}}finally{try{!u&&!e&&(A=f.return)&&await A.call(f)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),X1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const A of e)if(A.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[A.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:A.name,arguments:A.args},void 0,o);t.push({functionResponse:{name:A.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yH(n,e,t){const A=new O1;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(A,i),e(A)}class BH{constructor(e,t,A){this.apiClient=e,this.auth=t,this.webSocketFactory=A}async connect(e){var t,A;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=CH(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const m=new Promise(W=>{d=W}),v=e.callbacks,w=function(){d({})},T=this.apiClient,Q={onopen:w,onmessage:W=>{yH(T,v.onmessage,W)},onerror:(t=v==null?void 0:v.onerror)!==null&&t!==void 0?t:function(W){},onclose:(A=v==null?void 0:v.onclose)!==null&&A!==void 0?A:function(W){}},N=this.webSocketFactory.create(f,wH(a),Q);N.connect(),await m;const q={setup:{model:ot(this.apiClient,e.model)}};return N.send(JSON.stringify(q)),new vH(N,this.apiClient)}}class vH{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=zD(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=qD(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Al.PLAY)}pause(){this.sendPlaybackControl(Al.PAUSE)}stop(){this.sendPlaybackControl(Al.STOP)}resetContext(){this.sendPlaybackControl(Al.RESET_CONTEXT)}close(){this.conn.close()}}function wH(n){const e={};return n.forEach((t,A)=>{e[A]=t}),e}function CH(n){const e=new Headers;for(const[t,A]of Object.entries(n))e.append(t,A);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function _H(n,e,t){const A=new V1;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const o=JSON.parse(i);if(n.isVertexAI()){const a=XD(o);Object.assign(A,a)}else Object.assign(A,o);e(A)}class TH{constructor(e,t,A){this.apiClient=e,this.auth=t,this.webSocketFactory=A,this.music=new BH(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,A,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&WS(e.config.tools)&&$S(v);const w=FH(v);if(this.apiClient.isVertexAI())m=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,m);else{const U=this.apiClient.getApiKey();let M="BidiGenerateContent",L="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",L="access_token"),m=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${M}?${L}=${U}`}let T=()=>{};const Q=new Promise(U=>{T=U}),N=e.callbacks,D=function(){var U;(U=N==null?void 0:N.onopen)===null||U===void 0||U.call(N),T({})},O=this.apiClient,q={onopen:D,onmessage:U=>{_H(O,N.onmessage,U)},onerror:(t=N==null?void 0:N.onerror)!==null&&t!==void 0?t:function(U){},onclose:(A=N==null?void 0:N.onclose)!==null&&A!==void 0?A:function(U){}},W=this.webSocketFactory.create(m,UH(w),q);W.connect(),await Q;let ne=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ne.startsWith("publishers/")){const U=this.apiClient.getProject(),M=this.apiClient.getLocation();ne=`projects/${U}/locations/${M}/`+ne}let ie={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[zd.AUDIO]}:e.config.responseModalities=[zd.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],b=[];for(const U of Z)if(this.isCallableTool(U)){const M=U;b.push(await M.tool())}else b.push(U);b.length>0&&(e.config.tools=b);const R={model:ne,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ie=GD(this.apiClient,R):ie=KD(this.apiClient,R),delete ie.config,W.send(JSON.stringify(ie)),new SH(W,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const IH={turnComplete:!0};class SH{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let A=[];try{A=$A(t.turns),e.isVertexAI()||(A=A.map(i=>Rh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:A,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let A=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?A=t.functionResponses:A=[t.functionResponses],A.length===0)throw new Error("functionResponses is required.");for(const o of A){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(EH)}return{toolResponse:{functionResponses:A}}}sendClientContent(e){e=Object.assign(Object.assign({},IH),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:YD(e)}:t={realtimeInput:JD(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function UH(n){const e={};return n.forEach((t,A)=>{e[A]=t}),e}function FH(n){const e=new Headers;for(const[t,A]of Object.entries(n))e.append(t,A);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S_=10;function U_(n){var e,t,A;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(al(a)){i=!0;break}if(!i)return!0;const o=(A=n==null?void 0:n.automaticFunctionCalling)===null||A===void 0?void 0:A.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function al(n){return"callTool"in n&&typeof n.callTool=="function"}function QH(n){var e,t,A;return(A=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>al(i)))!==null&&A!==void 0?A:!1}function F_(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((A,i)=>{if(al(A))return;const o=A;o.functionDeclarations&&o.functionDeclarations.length>0&&t.push(i)}),t}function Q_(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RH extends Li{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var A,i,o,a,u;const f=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!QH(t)||U_(t.config))return await this.generateContentInternal(f);const d=F_(t);if(d.length>0){const N=d.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let m,v;const w=$A(f.contents),T=(o=(i=(A=f.config)===null||A===void 0?void 0:A.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:S_;let Q=0;for(;Q<T&&(m=await this.generateContentInternal(f),!(!m.functionCalls||m.functionCalls.length===0));){const N=m.candidates[0].content,D=[];for(const O of(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(al(O)){const W=await O.callTool(m.functionCalls);D.push(...W)}Q++,v={role:"user",parts:D},f.contents=$A(f.contents),f.contents.push(N),f.contents.push(v),Q_(f.config)&&(w.push(N),w.push(v))}return Q_(f.config)&&(m.automaticFunctionCallingHistory=w),m},this.generateContentStream=async t=>{var A,i,o,a,u;if(this.maybeMoveToResponseJsonSchem(t),U_(t.config)){const v=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(v)}const f=F_(t);if(f.length>0){const v=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(A=t==null?void 0:t.config)===null||A===void 0?void 0:A.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,m=(u=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(A=>{var i;let o;const a=[];if(A!=null&&A.generatedImages)for(const f of A.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:a.push(f);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:A.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:A.sdkHttpResponse},u}),this.list=async t=>{var A;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((A=a.config)===null||A===void 0)&&A.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new jo(Ri.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async t=>{const A={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(A.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(A)},this.upscaleImage=async t=>{let A={numberOfImages:1,mode:"upscale"};t.config&&(A=Object.assign(Object.assign({},A),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:A};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var A,i,o,a,u,f;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((A=t.video)===null||A===void 0)&&A.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(o=t.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((f=(u=t.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,A,i;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const a=await Promise.all(o.map(async f=>al(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&WS(e.config.tools)){const f=(i=(A=e.config.httpOptions)===null||A===void 0?void 0:A.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),$S(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var t,A,i;const o=new Map;for(const a of(A=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&A!==void 0?A:[])if(al(a)){const u=a,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var t,A,i;const o=(i=(A=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||A===void 0?void 0:A.maximumRemoteCalls)!==null&&i!==void 0?i:S_;let a=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,m,v){return dr(this,arguments,function*(){for(var w,T,Q,N,D,O;u<o;){a&&(u++,a=!1);const ie=yield He(d.processParamsMaybeAddMcpUsage(v)),Z=yield He(d.generateContentStreamInternal(ie)),b=[],R=[];try{for(var q=!0,W=(T=void 0,hr(Z)),ne;ne=yield He(W.next()),w=ne.done,!w;q=!0){N=ne.value,q=!1;const U=N;if(yield yield He(U),U.candidates&&(!((D=U.candidates[0])===null||D===void 0)&&D.content)){R.push(U.candidates[0].content);for(const M of(O=U.candidates[0].content.parts)!==null&&O!==void 0?O:[])if(u<o&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(M.functionCall.name)){const L=yield He(m.get(M.functionCall.name).callTool([M.functionCall]));b.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(U){T={error:U}}finally{try{!q&&!w&&(Q=W.return)&&(yield He(Q.call(W)))}finally{if(T)throw T.error}}if(b.length>0){a=!0;const U=new Fu;U.candidates=[{content:{role:"user",parts:b}}],yield yield He(U);const M=[];M.push(...R),M.push({role:"user",parts:b});const L=$A(v.contents).concat(M);v.contents=L}else break}})})(this,f,e)}async generateContentInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=E_(this.apiClient,e);return u=ye("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=T_(m),w=new Fu;return Object.assign(w,v),w})}else{const d=C_(this.apiClient,e);return u=ye("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=__(m),w=new Fu;return Object.assign(w,v),w})}}async generateContentStreamInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=E_(this.apiClient,e);return u=ye("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}),a.then(function(v){return dr(this,arguments,function*(){var w,T,Q,N;try{for(var D=!0,O=hr(v),q;q=yield He(O.next()),w=q.done,!w;D=!0){N=q.value,D=!1;const W=N,ne=T_(yield He(W.json()));ne.sdkHttpResponse={headers:W.headers};const ie=new Fu;Object.assign(ie,ne),yield yield He(ie)}}catch(W){T={error:W}}finally{try{!D&&!w&&(Q=O.return)&&(yield He(Q.call(O)))}finally{if(T)throw T.error}}})})}else{const d=C_(this.apiClient,e);return u=ye("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(v){return dr(this,arguments,function*(){var w,T,Q,N;try{for(var D=!0,O=hr(v),q;q=yield He(O.next()),w=q.done,!w;D=!0){N=q.value,D=!1;const W=N,ne=__(yield He(W.json()));ne.sdkHttpResponse={headers:W.headers};const ie=new Fu;Object.assign(ie,ne),yield yield He(ie)}}catch(W){T={error:W}}finally{try{!D&&!w&&(Q=O.return)&&(yield He(Q.call(O)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=TM(this.apiClient,e);return u=ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=SM(m),w=new i_;return Object.assign(w,v),w})}else{const d=_M(this.apiClient,e);return u=ye("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=IM(m),w=new i_;return Object.assign(w,v),w})}}async generateImagesInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=HM(this.apiClient,e);return u=ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=VM(m),w=new s_;return Object.assign(w,v),w})}else{const d=LM(this.apiClient,e);return u=ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=PM(m),w=new s_;return Object.assign(w,v),w})}}async editImageInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=vM(this.apiClient,e);return o=ye("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=wM(f),m=new F1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=HL(this.apiClient,e);return o=ye("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=PL(f),m=new Q1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=BL(this.apiClient,e);return o=ye("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=vL(f),m=new R1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=IL(this.apiClient,e);return o=ye("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=SL(f),m=new b1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=AL(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>ay(m))}else{const d=nL(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>oy(m))}}async listInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=fL(this.apiClient,e);return u=ye("{models_url}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=hL(m),w=new o_;return Object.assign(w,v),w})}else{const d=cL(this.apiClient,e);return u=ye("{models_url}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=dL(m),w=new o_;return Object.assign(w,v),w})}}async update(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=ML(this.apiClient,e);return u=ye("{model}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>ay(m))}else{const d=DL(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>oy(m))}}async delete(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=pM(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=yM(m),w=new a_;return Object.assign(w,v),w})}else{const d=gM(this.apiClient,e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=mM(m),w=new a_;return Object.assign(w,v),w})}}async countTokens(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=fM(this.apiClient,e);return u=ye("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=hM(m),w=new l_;return Object.assign(w,v),w})}else{const d=cM(this.apiClient,e);return u=ye("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=dM(m),w=new l_;return Object.assign(w,v),w})}}async computeTokens(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=rM(this.apiClient,e);return o=ye("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const d=iM(f),m=new x1;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=zM(this.apiClient,e);return u=ye("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a.then(m=>{const v=GM(m),w=new Jd;return Object.assign(w,v),w})}else{const d=qM(this.apiClient,e);return u=ye("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const v=KM(m),w=new Jd;return Object.assign(w,v),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bH extends Li{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,A=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;A&&"httpOptions"in A&&(o=A.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:A});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,A=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;A&&"httpOptions"in A&&(o=A.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:A});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=E1(e);return u=ye("{operationName}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json()),a}else{const d=C1(e);return u=ye("{operationName}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a}}async fetchPredictVideosOperationInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=g1(e);return o=ye("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xH(n){const e={},t=h(n,["data"]);if(t!=null&&g(e,["data"],t),h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function NH(n){const e={},t=h(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>KH(o))),g(e,["parts"],i)}const A=h(n,["role"]);return A!=null&&g(e,["role"],A),e}function DH(n,e,t){const A={},i=h(e,["expireTime"]);t!==void 0&&i!=null&&g(t,["expireTime"],i);const o=h(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&g(t,["newSessionExpireTime"],o);const a=h(e,["uses"]);t!==void 0&&a!=null&&g(t,["uses"],a);const u=h(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&g(t,["bidiGenerateContentSetup"],kH(n,u));const f=h(e,["lockAdditionalFields"]);return t!==void 0&&f!=null&&g(t,["fieldMask"],f),A}function MH(n,e){const t={},A=h(e,["config"]);return A!=null&&g(t,["config"],DH(n,A,t)),t}function LH(n){const e={};if(h(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=h(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const A=h(n,["mimeType"]);return A!=null&&g(e,["mimeType"],A),e}function HH(n){const e={},t=h(n,["id"]);t!=null&&g(e,["id"],t);const A=h(n,["args"]);A!=null&&g(e,["args"],A);const i=h(n,["name"]);if(i!=null&&g(e,["name"],i),h(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PH(n){const e={};if(h(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=h(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function VH(n){const e={};if(h(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=h(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function OH(n,e){const t={},A=h(n,["generationConfig"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig"],A);const i=h(n,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(n,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(n,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const u=h(n,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const f=h(n,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=h(n,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(n,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=h(n,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],w0(v));const w=h(n,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const T=h(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const Q=h(n,["systemInstruction"]);e!==void 0&&Q!=null&&g(e,["setup","systemInstruction"],NH(Gn(Q)));const N=h(n,["tools"]);if(e!==void 0&&N!=null){let Z=_l(N);Array.isArray(Z)&&(Z=Z.map(b=>qH(El(b)))),g(e,["setup","tools"],Z)}const D=h(n,["sessionResumption"]);e!==void 0&&D!=null&&g(e,["setup","sessionResumption"],GH(D));const O=h(n,["inputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","inputAudioTranscription"],O);const q=h(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&g(e,["setup","outputAudioTranscription"],q);const W=h(n,["realtimeInputConfig"]);e!==void 0&&W!=null&&g(e,["setup","realtimeInputConfig"],W);const ne=h(n,["contextWindowCompression"]);e!==void 0&&ne!=null&&g(e,["setup","contextWindowCompression"],ne);const ie=h(n,["proactivity"]);if(e!==void 0&&ie!=null&&g(e,["setup","proactivity"],ie),h(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function kH(n,e){const t={},A=h(e,["model"]);A!=null&&g(t,["setup","model"],ot(n,A));const i=h(e,["config"]);return i!=null&&g(t,["config"],OH(i,t)),t}function KH(n){const e={},t=h(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const A=h(n,["codeExecutionResult"]);A!=null&&g(e,["codeExecutionResult"],A);const i=h(n,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(n,["fileData"]);o!=null&&g(e,["fileData"],LH(o));const a=h(n,["functionCall"]);a!=null&&g(e,["functionCall"],HH(a));const u=h(n,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const f=h(n,["inlineData"]);f!=null&&g(e,["inlineData"],xH(f));const d=h(n,["text"]);d!=null&&g(e,["text"],d);const m=h(n,["thought"]);m!=null&&g(e,["thought"],m);const v=h(n,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const w=h(n,["videoMetadata"]);return w!=null&&g(e,["videoMetadata"],w),e}function GH(n){const e={},t=h(n,["handle"]);if(t!=null&&g(e,["handle"],t),h(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qH(n){const e={},t=h(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}if(h(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const A=h(n,["googleSearchRetrieval"]);A!=null&&g(e,["googleSearchRetrieval"],A);const i=h(n,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=h(n,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=h(n,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),h(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],PH(u));const f=h(n,["googleSearch"]);f!=null&&g(e,["googleSearch"],VH(f));const d=h(n,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zH(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const A=n[t];if(typeof A=="object"&&A!=null&&Object.keys(A).length>0){const i=Object.keys(A).map(o=>`${t}.${o}`);e.push(...i)}else e.push(t)}return e.join(",")}function JH(n,e){let t=null;const A=n.bidiGenerateContentSetup;if(typeof A=="object"&&A!==null&&"setup"in A){const o=A.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else A!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const o=zH(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?n.fieldMask=f.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class YH extends Li{constructor(e){super(),this.apiClient=e}async create(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=MH(this.apiClient,e);o=ye("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const f=JH(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XH(n,e){const t={},A=h(n,["force"]);return e!==void 0&&A!=null&&g(e,["_query","force"],A),t}function WH(n){const e={},t=h(n,["name"]);t!=null&&g(e,["_url","name"],t);const A=h(n,["config"]);return A!=null&&XH(A,e),e}function $H(n){const e={},t=h(n,["name"]);return t!=null&&g(e,["_url","name"],t),e}function ZH(n,e){const t={},A=h(n,["pageSize"]);e!==void 0&&A!=null&&g(e,["_query","pageSize"],A);const i=h(n,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),t}function jH(n){const e={},t=h(n,["parent"]);t!=null&&g(e,["_url","parent"],t);const A=h(n,["config"]);return A!=null&&ZH(A,e),e}function e4(n){const e={},t=h(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const A=h(n,["nextPageToken"]);A!=null&&g(e,["nextPageToken"],A);const i=h(n,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t4 extends Li{constructor(e){super(),this.apiClient=e,this.list=async t=>new jo(Ri.PAGED_ITEM_DOCUMENTS,A=>this.listInternal({parent:t.parent,config:A.config}),await this.listInternal(t),t)}async get(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$H(e);return o=ye("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,A;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=WH(e);i=ye("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal})}}async listInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jH(e);return o=ye("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=e4(f),m=new N1;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n4 extends Li{constructor(e,t=new t4(e)){super(),this.apiClient=e,this.documents=t,this.list=async(A={})=>new jo(Ri.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(A),A)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zL(e);return o=ye("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=XL(e);return o=ye("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,A;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=YL(e);i=ye("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal})}}async listInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tH(e);return o=ye("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=nH(f),m=new D1;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AH(e);return o=ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=rH(f),m=new M1;return Object.assign(m,d),m})}}async importFile(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZL(e);return o=ye("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json()),i.then(f=>{const d=$L(f),m=new p0;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZS=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return ZS=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,A=>(+A^t()&15>>+A/4).toString(16))};const A4=()=>ZS();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uy(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const cy=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jA extends Error{}class tA extends jA{constructor(e,t,A,i){super(`${tA.makeMessage(e,t,A)}`),this.status=e,this.headers=i,this.error=t}static makeMessage(e,t,A){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):A;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,A,i){if(!e||!i)return new Nh({message:A,cause:cy(t)});const o=t;return e===400?new eU(e,o,A,i):e===401?new tU(e,o,A,i):e===403?new nU(e,o,A,i):e===404?new AU(e,o,A,i):e===409?new rU(e,o,A,i):e===422?new iU(e,o,A,i):e===429?new sU(e,o,A,i):e>=500?new oU(e,o,A,i):new tA(e,o,A,i)}}class fy extends tA{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nh extends tA{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class jS extends Nh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class eU extends tA{}class tU extends tA{}class nU extends tA{}class AU extends tA{}class rU extends tA{}class iU extends tA{}class sU extends tA{}class oU extends tA{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r4=/^[a-z][a-z0-9+.-]*:/i,i4=n=>r4.test(n);let dy=n=>(dy=Array.isArray,dy(n));const s4=dy;let o4=s4;const R_=o4;function a4(n){if(!n)return!0;for(const e in n)return!1;return!0}function l4(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const u4=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new jA(`${n} must be an integer`);if(e<0)throw new jA(`${n} must be a positive integer`);return e},c4=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f4=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wa="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d4(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const h4=()=>{var n,e,t,A,i;const o=d4();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wa,"X-Stainless-OS":x_(Deno.build.os),"X-Stainless-Arch":b_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wa,"X-Stainless-OS":x_((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":b_((A=globalThis.process.arch)!==null&&A!==void 0?A:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=g4();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function g4(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const A=t.exec(navigator.userAgent);if(A){const i=A[1]||0,o=A[2]||0,a=A[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const b_=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",x_=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Xf;const p4=()=>Xf??(Xf=h4());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m4(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function aU(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function y4(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return aU({start(){},async pull(t){const{done:A,value:i}=await e.next();A?t.close():t.enqueue(i)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function lU(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function B4(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const A=n.getReader(),i=A.cancel();A.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v4=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uU=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mm(n,e,t){return uU(),new File(n,e??"unknown_file",t)}function w4(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const C4=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cU=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",E4=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&cU(n),_4=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function T4(n,e,t){if(uU(),n=await n,E4(n))return n instanceof File?n:mm([await n.arrayBuffer()],n.name);if(_4(n)){const i=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),mm(await hy(i),e,t)}const A=await hy(n);if(e||(e=w4(n)),!(t!=null&&t.type)){const i=A.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(t=Object.assign(Object.assign({},t),{type:i}))}return mm(A,e,t)}async function hy(n){var e,t,A,i,o;let a=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)a.push(n);else if(cU(n))a.push(n instanceof Blob?n:await n.arrayBuffer());else if(C4(n))try{for(var u=!0,f=hr(n),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;a.push(...await hy(m))}}catch(m){t={error:m}}finally{try{!u&&!e&&(A=f.return)&&await A.call(f)}finally{if(t)throw t.error}}else{const m=(o=n==null?void 0:n.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof n}${m?`; constructor: ${m}`:""}${I4(n)}`)}return a}function I4(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fU{constructor(e){this._client=e}}fU._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dU(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const N_=Object.freeze(Object.create(null)),S4=(n=dU)=>(function(t,...A){if(t.length===1)return t[0];let i=!1;const o=[],a=t.reduce((m,v,w)=>{var T,Q,N;/[?#]/.test(v)&&(i=!0);const D=A[w];let O=(i?encodeURIComponent:n)(""+D);return w!==A.length&&(D==null||typeof D=="object"&&D.toString===((N=Object.getPrototypeOf((Q=Object.getPrototypeOf((T=D.hasOwnProperty)!==null&&T!==void 0?T:N_))!==null&&Q!==void 0?Q:N_))===null||N===void 0?void 0:N.toString))&&(O=D+"",o.push({start:m.length+v.length,length:O.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),m+v+(w===A.length?"":O)},""),u=a.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(u))!==null;)o.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(o.sort((m,v)=>m.start-v.start),o.length>0){let m=0;const v=o.reduce((w,T)=>{const Q=" ".repeat(T.start-m),N="^".repeat(T.length);return m=T.start+T.length,w+Q+N},"");throw new jA(`Path parameters result in path with invalid segments:
${o.map(w=>w.error).join(`
`)}
${a}
${v}`)}return a}),Wf=S4(dU);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hU extends fU{create(e,t){var A;const{api_version:i=this._client.apiVersion}=e,o=Xd(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new jA("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new jA("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wf`/${i}/interactions`,Object.assign(Object.assign({body:o},t),{stream:(A=e.stream)!==null&&A!==void 0?A:!1}))}delete(e,t={},A){const{api_version:i=this._client.apiVersion}=t??{};return this._client.delete(Wf`/${i}/interactions/${e}`,A)}cancel(e,t={},A){const{api_version:i=this._client.apiVersion}=t??{};return this._client.post(Wf`/${i}/interactions/${e}/cancel`,A)}get(e,t={},A){var i;const o=t??{},{api_version:a=this._client.apiVersion}=o,u=Xd(o,["api_version"]);return this._client.get(Wf`/${a}/interactions/${e}`,Object.assign(Object.assign({query:u},A),{stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1}))}}hU._key=Object.freeze(["interactions"]);class gU extends hU{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U4(n){let e=0;for(const i of n)e+=i.length;const t=new Uint8Array(e);let A=0;for(const i of n)t.set(i,A),A+=i.length;return t}let $f;function E0(n){let e;return($f??(e=new globalThis.TextEncoder,$f=e.encode.bind(e)))(n)}let Zf;function D_(n){let e;return(Zf??(e=new globalThis.TextDecoder,Zf=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?E0(e):e;this.buffer=U4([this.buffer,t]);const A=[];let i;for(;(i=F4(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){A.push(D_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=D_(this.buffer.subarray(0,o));A.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return A}flush(){return this.buffer.length?this.decode(`
`):[]}}Dh.NEWLINE_CHARS=new Set([`
`,"\r"]);Dh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function F4(n,e){for(let i=e??0;i<n.length;i++){if(n[i]===10)return{preceding:i,index:i+1,carriage:!1};if(n[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Q4(n){for(let A=0;A<n.length-1;A++){if(n[A]===10&&n[A+1]===10||n[A]===13&&n[A+1]===13)return A+2;if(n[A]===13&&n[A+1]===10&&A+3<n.length&&n[A+2]===13&&n[A+3]===10)return A+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wd={off:0,error:200,warn:300,info:400,debug:500},M_=(n,e,t)=>{if(n){if(l4(Wd,n))return n;Zn(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Wd))}`)}};function Du(){}function jf(n,e,t){return!e||Wd[n]>Wd[t]?Du:e[n].bind(e)}const R4={error:Du,warn:Du,info:Du,debug:Du};let L_=new WeakMap;function Zn(n){var e;const t=n.logger,A=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return R4;const i=L_.get(t);if(i&&i[0]===A)return i[1];const o={error:jf("error",t,A),warn:jf("warn",t,A),info:jf("info",t,A),debug:jf("debug",t,A)};return L_.set(t,[A,o]),o}const Ho=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rl{constructor(e,t,A){this.iterator=e,this.controller=t,this.client=A}static fromSSEResponse(e,t,A){let i=!1;const o=A?Zn(A):console;function a(){return dr(this,arguments,function*(){var f,d,m,v;if(i)throw new jA("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let w=!1;try{try{for(var T=!0,Q=hr(b4(e,t)),N;N=yield He(Q.next()),f=N.done,!f;T=!0){v=N.value,T=!1;const D=v;if(!w)if(D.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield He(JSON.parse(D.data))}catch(O){throw o.error("Could not parse message into JSON:",D.data),o.error("From chunk:",D.raw),O}}}catch(D){d={error:D}}finally{try{!T&&!f&&(m=Q.return)&&(yield He(m.call(Q)))}finally{if(d)throw d.error}}w=!0}catch(D){if(uy(D))return yield He(void 0);throw D}finally{w||t.abort()}})}return new rl(a,t,A)}static fromReadableStream(e,t,A){let i=!1;function o(){return dr(this,arguments,function*(){var f,d,m,v;const w=new Dh,T=lU(e);try{for(var Q=!0,N=hr(T),D;D=yield He(N.next()),f=D.done,!f;Q=!0){v=D.value,Q=!1;const O=v;for(const q of w.decode(O))yield yield He(q)}}catch(O){d={error:O}}finally{try{!Q&&!f&&(m=N.return)&&(yield He(m.call(N)))}finally{if(d)throw d.error}}for(const O of w.flush())yield yield He(O)})}function a(){return dr(this,arguments,function*(){var f,d,m,v;if(i)throw new jA("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let w=!1;try{try{for(var T=!0,Q=hr(o()),N;N=yield He(Q.next()),f=N.done,!f;T=!0){v=N.value,T=!1;const D=v;w||D&&(yield yield He(JSON.parse(D)))}}catch(D){d={error:D}}finally{try{!T&&!f&&(m=Q.return)&&(yield He(m.call(Q)))}finally{if(d)throw d.error}}w=!0}catch(D){if(uy(D))return yield He(void 0);throw D}finally{w||t.abort()}})}return new rl(a,t,A)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],A=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=A.next();e.push(a),t.push(a)}return o.shift()}});return[new rl(()=>i(e),this.controller,this.client),new rl(()=>i(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return aU({async start(){t=e[Symbol.asyncIterator]()},async pull(A){try{const{value:i,done:o}=await t.next();if(o)return A.close();const a=E0(JSON.stringify(i)+`
`);A.enqueue(a)}catch(i){A.error(i)}},async cancel(){var A;await((A=t.return)===null||A===void 0?void 0:A.call(t))}})}}function b4(n,e){return dr(this,arguments,function*(){var A,i,o,a;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new jA("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new jA("Attempted to iterate over a response with no body");const u=new N4,f=new Dh,d=lU(n.body);try{for(var m=!0,v=hr(x4(d)),w;w=yield He(v.next()),A=w.done,!A;m=!0){a=w.value,m=!1;const T=a;for(const Q of f.decode(T)){const N=u.decode(Q);N&&(yield yield He(N))}}}catch(T){i={error:T}}finally{try{!m&&!A&&(o=v.return)&&(yield He(o.call(v)))}finally{if(i)throw i.error}}for(const T of f.flush()){const Q=u.decode(T);Q&&(yield yield He(Q))}})}function x4(n){return dr(this,arguments,function*(){var t,A,i,o;let a=new Uint8Array;try{for(var u=!0,f=hr(n),d;d=yield He(f.next()),t=d.done,!t;u=!0){o=d.value,u=!1;const m=o;if(m==null)continue;const v=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?E0(m):m;let w=new Uint8Array(a.length+v.length);w.set(a),w.set(v,a.length),a=w;let T;for(;(T=Q4(a))!==-1;)yield yield He(a.slice(0,T)),a=a.slice(T)}}catch(m){A={error:m}}finally{try{!u&&!t&&(i=f.return)&&(yield He(i.call(f)))}finally{if(A)throw A.error}}a.length>0&&(yield yield He(a))})}class N4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,A,i]=D4(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function D4(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function M4(n,e){const{response:t,requestLogID:A,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var u;if(e.options.stream)return Zn(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):rl.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const f=t.headers.get("content-type"),d=(u=f==null?void 0:f.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await t.json():await t.text()})();return Zn(n).debug(`[${A}] response parsed`,Ho({retryOfRequestLogID:i,url:t.url,status:t.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _0 extends Promise{constructor(e,t,A=M4){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=A,this.client=e}_thenUnwrap(e){return new _0(this.client,this.responsePromise,async(t,A)=>e(await this.parseResponse(t,A),A))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pU=Symbol("brand.privateNullableHeaders");function*L4(n){if(!n)return;if(pU in n){const{values:A,nulls:i}=n;yield*A.entries();for(const o of i)yield[o,null];return}let e=!1,t;n instanceof Headers?t=n.entries():R_(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let A of t){const i=A[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=R_(A[1])?A[1]:[A[1]];let a=!1;for(const u of o)u!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,u])}}const Qu=n=>{const e=new Headers,t=new Set;for(const A of n){const i=new Set;for(const[o,a]of L4(A)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),a===null?(e.delete(o),t.add(u)):(e.append(o,a),t.delete(u))}}return{[pU]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ym=n=>{var e,t,A,i,o,a;if(typeof globalThis.process<"u")return(A=(t=(e=l1)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&A!==void 0?A:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,n))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mU;class Mh{constructor(e){var t,A,i,o,a,u,f,{baseURL:d=ym("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(t=ym("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:v="v1beta"}=e,w=Xd(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:m,apiVersion:v},w),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(A=T.timeout)!==null&&A!==void 0?A:Mh.DEFAULT_TIMEOUT,this.logger=(i=T.logger)!==null&&i!==void 0?i:console;const Q="warn";this.logLevel=Q,this.logLevel=(a=(o=M_(T.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:M_(ym("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:Q,this.fetchOptions=T.fetchOptions,this.maxRetries=(u=T.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=T.fetch)!==null&&f!==void 0?f:m4(),this.encoder=v4,this._options=T,this.apiKey=m,this.apiVersion=v,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Qu([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return Qu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,A])=>typeof A<"u").map(([t,A])=>{if(typeof A=="string"||typeof A=="number"||typeof A=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(A)}`;if(A===null)return`${encodeURIComponent(t)}=`;throw new jA(`Cannot stringify type ${typeof A}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Wa}`}defaultIdempotencyKey(){return`stainless-node-retry-${A4()}`}makeStatusError(e,t,A,i){return tA.generate(e,t,A,i)}buildURL(e,t,A){const i=!this.baseURLOverridden()&&A||this.baseURL,o=i4(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return a4(a)||(t=Object.assign(Object.assign({},a),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:A}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,A){return this.request(Promise.resolve(A).then(i=>Object.assign({method:e,path:t},i)))}request(e,t=null){return new _0(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,A){var i,o,a;const u=await e,f=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;t==null&&(t=f),await this.prepareOptions(u);const{req:d,url:m,timeout:v}=await this.buildRequest(u,{retryCount:f-t});await this.prepareRequest(d,{url:m,options:u});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=A===void 0?"":`, retryOf: ${A}`,Q=Date.now();if(Zn(this).debug(`[${w}] sending request`,Ho({retryOfRequestLogID:A,method:u.method,url:m,options:u,headers:d.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new fy;const N=new AbortController,D=await this.fetchWithTimeout(m,d,v,N).catch(cy),O=Date.now();if(D instanceof globalThis.Error){const W=`retrying, ${t} attempts remaining`;if(!((a=u.signal)===null||a===void 0)&&a.aborted)throw new fy;const ne=uy(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(t)return Zn(this).info(`[${w}] connection ${ne?"timed out":"failed"} - ${W}`),Zn(this).debug(`[${w}] connection ${ne?"timed out":"failed"} (${W})`,Ho({retryOfRequestLogID:A,url:m,durationMs:O-Q,message:D.message})),this.retryRequest(u,t,A??w);throw Zn(this).info(`[${w}] connection ${ne?"timed out":"failed"} - error; no more retries left`),Zn(this).debug(`[${w}] connection ${ne?"timed out":"failed"} (error; no more retries left)`,Ho({retryOfRequestLogID:A,url:m,durationMs:O-Q,message:D.message})),ne?new jS:new Nh({cause:D})}const q=`[${w}${T}] ${d.method} ${m} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${O-Q}ms`;if(!D.ok){const W=await this.shouldRetry(D);if(t&&W){const U=`retrying, ${t} attempts remaining`;return await B4(D.body),Zn(this).info(`${q} - ${U}`),Zn(this).debug(`[${w}] response error (${U})`,Ho({retryOfRequestLogID:A,url:D.url,status:D.status,headers:D.headers,durationMs:O-Q})),this.retryRequest(u,t,A??w,D.headers)}const ne=W?"error; no more retries left":"error; not retryable";Zn(this).info(`${q} - ${ne}`);const ie=await D.text().catch(U=>cy(U).message),Z=c4(ie),b=Z?void 0:ie;throw Zn(this).debug(`[${w}] response error (${ne})`,Ho({retryOfRequestLogID:A,url:D.url,status:D.status,headers:D.headers,message:b,durationMs:Date.now()-Q})),this.makeStatusError(D.status,Z,b,D.headers)}return Zn(this).info(q),Zn(this).debug(`[${w}] response start`,Ho({retryOfRequestLogID:A,url:D.url,status:D.status,headers:D.headers,durationMs:O-Q})),{response:D,options:u,controller:N,requestLogID:w,retryOfRequestLogID:A,startTime:Q}}async fetchWithTimeout(e,t,A,i){const o=t||{},{signal:a,method:u}=o,f=Xd(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),A),m=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},m?{duplex:"half"}:{}),{method:"GET"}),f);u&&(v.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(d)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,A,i){var o;let a;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(a=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!a){const d=parseFloat(f);Number.isNaN(d)?a=Date.parse(f)-Date.now():a=d*1e3}if(!(a&&0<=a&&a<60*1e3)){const d=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,d)}return await f4(a),this.makeRequest(e,t-1,A)}calculateDefaultRetryTimeoutMillis(e,t){const o=t-e,a=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return a*u*1e3}async buildRequest(e,{retryCount:t=0}={}){var A,i,o;const a=Object.assign({},e),{method:u,path:f,query:d,defaultBaseURL:m}=a,v=this.buildURL(f,d,m);"timeout"in a&&u4("timeout",a.timeout),a.timeout=(A=a.timeout)!==null&&A!==void 0?A:this.timeout;const{bodyHeaders:w,body:T}=this.buildBody({options:a}),Q=await this.buildHeaders({options:e,method:u,bodyHeaders:w,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:Q},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:v,timeout:a.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:A,retryCount:i}){let o={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let u=Qu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),p4()),this._options.defaultHeaders,A,e.headers,a]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const A=Qu([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&A.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:y4(e)}:this.encoder({body:e,headers:A})}}Mh.DEFAULT_TIMEOUT=6e4;class wn extends Mh{constructor(){super(...arguments),this.interactions=new gU(this)}}mU=wn;wn.GeminiNextGenAPIClient=mU;wn.GeminiNextGenAPIClientError=jA;wn.APIError=tA;wn.APIConnectionError=Nh;wn.APIConnectionTimeoutError=jS;wn.APIUserAbortError=fy;wn.NotFoundError=AU;wn.ConflictError=rU;wn.RateLimitError=sU;wn.BadRequestError=eU;wn.AuthenticationError=tU;wn.InternalServerError=oU;wn.PermissionDeniedError=nU;wn.UnprocessableEntityError=iU;wn.toFile=T4;wn.Interactions=gU;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H4(n,e){const t={},A=h(n,["name"]);return A!=null&&g(t,["_url","name"],A),t}function P4(n,e){const t={},A=h(n,["name"]);return A!=null&&g(t,["_url","name"],A),t}function V4(n,e){const t={},A=h(n,["sdkHttpResponse"]);return A!=null&&g(t,["sdkHttpResponse"],A),t}function O4(n,e){const t={},A=h(n,["sdkHttpResponse"]);return A!=null&&g(t,["sdkHttpResponse"],A),t}function k4(n,e,t){const A={};if(h(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=h(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),h(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=h(n,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const a=h(n,["learningRateMultiplier"]);if(a!=null&&g(A,["tuningTask","hyperparameters","learningRateMultiplier"],a),h(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=h(n,["batchSize"]);e!==void 0&&u!=null&&g(e,["tuningTask","hyperparameters","batchSize"],u);const f=h(n,["learningRate"]);if(e!==void 0&&f!=null&&g(e,["tuningTask","hyperparameters","learningRate"],f),h(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return A}function K4(n,e,t){const A={};let i=h(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const T=h(n,["validationDataset"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec"],H_(T))}else if(i==="PREFERENCE_TUNING"){const T=h(n,["validationDataset"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec"],H_(T))}const o=h(n,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const a=h(n,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);let u=h(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=h(n,["epochCount"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(u==="PREFERENCE_TUNING"){const T=h(n,["epochCount"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let f=h(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=h(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(f==="PREFERENCE_TUNING"){const T=h(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let d=h(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const T=h(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(d==="PREFERENCE_TUNING"){const T=h(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let m=h(t,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=h(n,["adapterSize"]);e!==void 0&&T!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(m==="PREFERENCE_TUNING"){const T=h(n,["adapterSize"]);e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(h(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=h(n,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const w=h(n,["beta"]);return e!==void 0&&w!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),A}function G4(n,e){const t={},A=h(n,["baseModel"]);A!=null&&g(t,["baseModel"],A);const i=h(n,["preTunedModel"]);i!=null&&g(t,["preTunedModel"],i);const o=h(n,["trainingDataset"]);o!=null&&t2(o);const a=h(n,["config"]);return a!=null&&k4(a,t),t}function q4(n,e){const t={},A=h(n,["baseModel"]);A!=null&&g(t,["baseModel"],A);const i=h(n,["preTunedModel"]);i!=null&&g(t,["preTunedModel"],i);const o=h(n,["trainingDataset"]);o!=null&&n2(o,t,e);const a=h(n,["config"]);return a!=null&&K4(a,t,e),t}function z4(n,e){const t={},A=h(n,["name"]);return A!=null&&g(t,["_url","name"],A),t}function J4(n,e){const t={},A=h(n,["name"]);return A!=null&&g(t,["_url","name"],A),t}function Y4(n,e,t){const A={},i=h(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=h(n,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=h(n,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),A}function X4(n,e,t){const A={},i=h(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=h(n,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=h(n,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),A}function W4(n,e){const t={},A=h(n,["config"]);return A!=null&&Y4(A,t),t}function $4(n,e){const t={},A=h(n,["config"]);return A!=null&&X4(A,t),t}function Z4(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=h(n,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>yU(u))),g(t,["tuningJobs"],a)}return t}function j4(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=h(n,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>gy(u))),g(t,["tuningJobs"],a)}return t}function e2(n,e){const t={},A=h(n,["name"]);A!=null&&g(t,["model"],A);const i=h(n,["name"]);return i!=null&&g(t,["endpoint"],i),t}function t2(n,e){const t={};if(h(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const A=h(n,["examples"]);if(A!=null){let i=A;Array.isArray(i)&&(i=i.map(o=>o)),g(t,["examples","examples"],i)}return t}function n2(n,e,t){const A={};let i=h(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=h(n,["gcsUri"]);e!==void 0&&a!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=h(n,["gcsUri"]);e!==void 0&&a!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=h(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=h(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=h(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(h(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return A}function yU(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["name"]);i!=null&&g(t,["name"],i);const o=h(n,["state"]);o!=null&&g(t,["state"],NS(o));const a=h(n,["createTime"]);a!=null&&g(t,["createTime"],a);const u=h(n,["tuningTask","startTime"]);u!=null&&g(t,["startTime"],u);const f=h(n,["tuningTask","completeTime"]);f!=null&&g(t,["endTime"],f);const d=h(n,["updateTime"]);d!=null&&g(t,["updateTime"],d);const m=h(n,["description"]);m!=null&&g(t,["description"],m);const v=h(n,["baseModel"]);v!=null&&g(t,["baseModel"],v);const w=h(n,["_self"]);return w!=null&&g(t,["tunedModel"],e2(w)),t}function gy(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["name"]);i!=null&&g(t,["name"],i);const o=h(n,["state"]);o!=null&&g(t,["state"],NS(o));const a=h(n,["createTime"]);a!=null&&g(t,["createTime"],a);const u=h(n,["startTime"]);u!=null&&g(t,["startTime"],u);const f=h(n,["endTime"]);f!=null&&g(t,["endTime"],f);const d=h(n,["updateTime"]);d!=null&&g(t,["updateTime"],d);const m=h(n,["error"]);m!=null&&g(t,["error"],m);const v=h(n,["description"]);v!=null&&g(t,["description"],v);const w=h(n,["baseModel"]);w!=null&&g(t,["baseModel"],w);const T=h(n,["tunedModel"]);T!=null&&g(t,["tunedModel"],T);const Q=h(n,["preTunedModel"]);Q!=null&&g(t,["preTunedModel"],Q);const N=h(n,["supervisedTuningSpec"]);N!=null&&g(t,["supervisedTuningSpec"],N);const D=h(n,["preferenceOptimizationSpec"]);D!=null&&g(t,["preferenceOptimizationSpec"],D);const O=h(n,["tuningDataStats"]);O!=null&&g(t,["tuningDataStats"],O);const q=h(n,["encryptionSpec"]);q!=null&&g(t,["encryptionSpec"],q);const W=h(n,["partnerModelTuningSpec"]);W!=null&&g(t,["partnerModelTuningSpec"],W);const ne=h(n,["customBaseModel"]);ne!=null&&g(t,["customBaseModel"],ne);const ie=h(n,["experiment"]);ie!=null&&g(t,["experiment"],ie);const Z=h(n,["labels"]);Z!=null&&g(t,["labels"],Z);const b=h(n,["outputUri"]);b!=null&&g(t,["outputUri"],b);const R=h(n,["pipelineJob"]);R!=null&&g(t,["pipelineJob"],R);const U=h(n,["serviceAccount"]);U!=null&&g(t,["serviceAccount"],U);const M=h(n,["tunedModelDisplayName"]);M!=null&&g(t,["tunedModelDisplayName"],M);const L=h(n,["veoTuningSpec"]);return L!=null&&g(t,["veoTuningSpec"],L),t}function A2(n,e){const t={},A=h(n,["sdkHttpResponse"]);A!=null&&g(t,["sdkHttpResponse"],A);const i=h(n,["name"]);i!=null&&g(t,["name"],i);const o=h(n,["metadata"]);o!=null&&g(t,["metadata"],o);const a=h(n,["done"]);a!=null&&g(t,["done"],a);const u=h(n,["error"]);return u!=null&&g(t,["error"],u),t}function H_(n,e){const t={},A=h(n,["gcsUri"]);A!=null&&g(t,["validationDatasetUri"],A);const i=h(n,["vertexDatasetResource"]);return i!=null&&g(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r2 extends Li{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new jo(Ri.PAGED_ITEM_TUNING_JOBS,A=>this.listInternal(A),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var A;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((A=t.config)===null||A===void 0)&&A.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},t),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Ay.JOB_STATE_QUEUED}}}}async getInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=J4(e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>gy(m))}else{const d=z4(e);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>yU(m))}}async listInternal(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=$4(e);return u=ye("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=j4(m),w=new u_;return Object.assign(w,v),w})}else{const d=W4(e);return u=ye("tunedModels",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=Z4(m),w=new u_;return Object.assign(w,v),w})}}async cancel(e){var t,A,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=P4(e);return u=ye("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=O4(m),w=new c_;return Object.assign(w,v),w})}else{const d=H4(e);return u=ye("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(v=>{const w=v;return w.sdkHttpResponse={headers:m.headers},w})),a.then(m=>{const v=V4(m),w=new c_;return Object.assign(w,v),w})}}async tuneInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=q4(e,e);return o=ye("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>gy(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,A;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=G4(e);return o=ye("tunedModels",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(A=e.config)===null||A===void 0?void 0:A.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>A2(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i2{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const s2=1024*1024*8,o2=3,a2=1e3,l2=2,$d="x-goog-upload-status";async function u2(n,e,t){var A;const i=await BU(n,e,t),o=await(i==null?void 0:i.json());if(((A=i==null?void 0:i.headers)===null||A===void 0?void 0:A[$d])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function c2(n,e,t){var A;const i=await BU(n,e,t),o=await(i==null?void 0:i.json());if(((A=i==null?void 0:i.headers)===null||A===void 0?void 0:A[$d])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=US(o),u=new m0;return Object.assign(u,a),u}async function BU(n,e,t){var A,i;let o=0,a=0,u=new ry(new Response),f="upload";for(o=n.size;a<o;){const d=Math.min(s2,o-a),m=n.slice(a,a+d);a+d>=o&&(f+=", finalize");let v=0,w=a2;for(;v<o2&&(u=await t.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((A=u==null?void 0:u.headers)===null||A===void 0)&&A[$d]));)v++,await d2(w),w=w*l2;if(a+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[$d])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function f2(n){return{size:n.size,type:n.type}}function d2(n){return new Promise(e=>setTimeout(e,n))}class h2{async upload(e,t,A){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await u2(e,t,A)}async uploadToFileSearchStore(e,t,A){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await c2(e,t,A)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await f2(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g2{create(e,t,A){return new p2(e,t,A)}}class p2{constructor(e,t,A){this.url=e,this.headers=t,this.callbacks=A}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P_="x-goog-api-key";class m2{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(P_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(P_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y2="gl-node/";class Lh{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new wn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const A=d1(e.httpOptions,e.vertexai,void 0,void 0);A&&(e.httpOptions?e.httpOptions.baseUrl=A:e.httpOptions={baseUrl:A}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new m2(this.apiKey);this.apiClient=new fH({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:y2+"web",uploader:new h2,downloader:new i2}),this.models=new RH(this.apiClient),this.live=new TH(this.apiClient,i,new g2),this.batches=new kN(this.apiClient),this.chats=new ED(this.models,this.apiClient),this.caches=new vD(this.apiClient),this.files=new xD(this.apiClient),this.operations=new bH(this.apiClient),this.authTokens=new YH(this.apiClient),this.tunings=new r2(this.apiClient),this.fileSearchStores=new n4(this.apiClient)}}const B2=async(n,e,t="Traditional Chinese")=>{const A=new Lh({apiKey:e}),i=`
    Analyze the provided menu images. 
    1. Identify the restaurant name and its approximate address if possible.
    2. Detect the dominant language of the menu text (ISO 639-1 code like 'ja', 'ko', 'fr', 'en') as detected_language.
    3. Extract all menu items. 
    4. For each item:
       - name_original: Original text from menu.
       - name_translated: Translated into ${t}.
       - description: One very concise sentence summary (max 10 words) in ${t}.
       - price_original: Numeric value of the price.
       - currency_original: Currency symbol or code (e.g., JPY, TWD).
       - category: Category like "Mains", "Drinks", "Appetizers".
    
    Translate accurately to ${t}.
  `,o=n.map(u=>({inlineData:{mimeType:"image/jpeg",data:u.split(",")[1]}})),a=await A.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{text:i},...o]},config:{responseMimeType:"application/json",responseSchema:{type:Tt.OBJECT,properties:{restaurant_name:{type:Tt.STRING},restaurant_address:{type:Tt.STRING},detected_language:{type:Tt.STRING},items:{type:Tt.ARRAY,items:{type:Tt.OBJECT,properties:{name_original:{type:Tt.STRING},name_translated:{type:Tt.STRING},description:{type:Tt.STRING},price_original:{type:Tt.NUMBER},currency_original:{type:Tt.STRING},category:{type:Tt.STRING}},required:["name_original","name_translated","price_original","currency_original","category"]}}},required:["restaurant_name","items","detected_language"]}}});return JSON.parse(a.text)},v2=async(n,e,t="Traditional Chinese")=>{const A=new Lh({apiKey:e}),i=`
    Analyze the provided images containing text.
    1. Transcribe all the visible text from the images into a single string (original_text). Preserve layout/line breaks if it helps readability.
    2. Detect the language of the original text (ISO code) as detected_language.
    3. Translate the transcribed text into ${t} (translated_text).
  `,o=n.map(u=>({inlineData:{mimeType:"image/jpeg",data:u.split(",")[1]}})),a=await A.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{text:i},...o]},config:{responseMimeType:"application/json",responseSchema:{type:Tt.OBJECT,properties:{original_text:{type:Tt.STRING},translated_text:{type:Tt.STRING},detected_language:{type:Tt.STRING}},required:["original_text","translated_text","detected_language"]}}});return JSON.parse(a.text)},w2=async(n,e)=>{const t=new Lh({apiKey:e}),A=`
    Translate the following text based on this logic:
    1. If the input is in Chinese (Traditional/Simplified) or English, translate it to Japanese.
    2. If the input is in Japanese, translate it to Traditional Chinese (Hong Kong/Taiwan).
    3. If the input is in any other language, translate it to Traditional Chinese.

    Return the result in JSON format with keys "translated_text" and "detected_language" (ISO code of the source).
    
    Input Text: "${n}"
  `,i=await t.models.generateContent({model:"gemini-3-flash-preview",contents:A,config:{responseMimeType:"application/json",responseSchema:{type:Tt.OBJECT,properties:{translated_text:{type:Tt.STRING},detected_language:{type:Tt.STRING}},required:["translated_text","detected_language"]}}});return JSON.parse(i.text)},C2=async n=>{const e={JPY:.052,TWD:.24,KRW:.0058,USD:7.8,CNY:1.08,EUR:8.5},t=n.toUpperCase().replace(/[^A-Z]/g,"");return e[t]||.05},E2=async(n,e,t)=>{var o;const A=new Lh({apiKey:t}),i=`What is the precise street address for the location at Latitude ${n}, Longitude ${e}? 
  Please prioritize returning the address in Traditional Chinese () or Kanji () if the location is in Greater China or Japan. 
  Otherwise, use English. 
  Return ONLY the address text without any introductory phrases.`;try{return((o=(await A.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{tools:[{googleMaps:{}}]}})).text)==null?void 0:o.trim())||`${n.toFixed(5)}, ${e.toFixed(5)}`}catch(a){return console.error("Reverse geocoding error:",a),`${n.toFixed(5)}, ${e.toFixed(5)}`}},_2=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=function(n){const e=[];let t=0;for(let A=0;A<n.length;A++){let i=n.charCodeAt(A);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&A+1<n.length&&(n.charCodeAt(A+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++A)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},T2=function(n){const e=[];let t=0,A=0;for(;t<n.length;){const i=n[t++];if(i<128)e[A++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[A++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],a=n[t++],u=n[t++],f=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[A++]=String.fromCharCode(55296+(f>>10)),e[A++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],a=n[t++];e[A++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},wU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let i=0;i<n.length;i+=3){const o=n[i],a=i+1<n.length,u=a?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let w=(u&15)<<2|d>>6,T=d&63;f||(T=64,a||(w=64)),A.push(t[m],t[v],t[w],t[T])}return A.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||d==null||v==null)throw new I2;const w=o<<2|u>>4;if(A.push(w),d!==64){const T=u<<4&240|d>>2;if(A.push(T),v!==64){const Q=d<<6&192|v;A.push(Q)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class I2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S2=function(n){const e=vU(n);return wU.encodeByteArray(e,!0)},Zd=function(n){return S2(n).replace(/\./g,"")},CU=function(n){try{return wU.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=()=>U2().__FIREBASE_DEFAULTS__,Q2=()=>{if(typeof process>"u"||typeof V_>"u")return;const n=V_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},R2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CU(n[1]);return e&&JSON.parse(e)},Hh=()=>{try{return _2()||F2()||Q2()||R2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},EU=n=>{var e,t;return(t=(e=Hh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},b2=n=>{const e=EU(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const A=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),A]:[e.substring(0,t),A]},_U=()=>{var n;return(n=Hh())==null?void 0:n.config},TU=n=>{var e;return(e=Hh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,A)=>{t?this.reject(t):this.resolve(A),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,A))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IU(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},A=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${A}`,aud:A,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zd(JSON.stringify(t)),Zd(JSON.stringify(a)),""].join(".")}const Xu={};function D2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Xu))Xu[e]?n.emulator.push(e):n.prod.push(e);return n}function M2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let O_=!1;function SU(n,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Xu[n]===e||Xu[n]||O_)return;Xu[n]=e;function t(w){return`__firebase__banner__${w}`}const A="__firebase__banner",o=D2().prod.length>0;function a(){const w=document.getElementById(A);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{O_=!0,a()},w}function m(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=M2(A),T=t("text"),Q=document.getElementById(T)||document.createElement("span"),N=t("learnmore"),D=document.getElementById(N)||document.createElement("a"),O=t("preprendIcon"),q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;u(W),m(D,N);const ne=d();f(q,O),W.append(q,Q,D,ne),document.body.appendChild(W)}o?(Q.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function H2(){var e;const n=(e=Hh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function V2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O2(){const n=qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function k2(){return!H2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FU(){try{return typeof indexedDB=="object"}catch{return!1}}function QU(){return new Promise((n,e)=>{try{let t=!0;const A="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(A);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(A),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}function K2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="FirebaseError";class wr extends Error{constructor(e,t,A){super(t),this.code=e,this.customData=A,this.name=G2,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ea.prototype.create)}}class ea{constructor(e,t,A){this.service=e,this.serviceName=t,this.errors=A}create(e,...t){const A=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?q2(o,A):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new wr(i,u,A)}}function q2(n,e){return n.replace(z2,(t,A)=>{const i=e[A];return i!=null?String(i):`<${A}?>`})}const z2=/\{\$([^}]+)}/g;function J2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ks(n,e){if(n===e)return!0;const t=Object.keys(n),A=Object.keys(e);for(const i of t){if(!A.includes(i))return!1;const o=n[i],a=e[i];if(k_(o)&&k_(a)){if(!ks(o,a))return!1}else if(o!==a)return!1}for(const i of A)if(!t.includes(i))return!1;return!0}function k_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n){const e=[];for(const[t,A]of Object.entries(n))Array.isArray(A)?A.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(A));return e.length?"&"+e.join("&"):""}function Mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(A=>{if(A){const[i,o]=A.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Lu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Y2(n,e){const t=new X2(n,e);return t.subscribe.bind(t)}class X2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(A=>{this.error(A)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,A){let i;if(e===void 0&&t===void 0&&A===void 0)throw new Error("Missing Observer.");W2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:A},i.next===void 0&&(i.next=Bm),i.error===void 0&&(i.error=Bm),i.complete===void 0&&(i.complete=Bm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(A){typeof console<"u"&&console.error&&console.error(A)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1e3,Z2=2,j2=14400*1e3,eP=.5;function K_(n,e=$2,t=Z2){const A=e*Math.pow(t,n),i=Math.round(eP*A*(Math.random()-.5)*2);return Math.min(j2,A+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class pr{constructor(e,t,A){this.name=e,this.instanceFactory=t,this.type=A,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const A=new x2;if(this.instancesDeferred.set(t,A),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&A.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),A=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(A)return null;throw i}else{if(A)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AP(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[t,A]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});A.resolve(o)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,A=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(A))throw Error(`${this.name}(${A}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:A,options:t});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);A===u&&a.resolve(i)}return i}onInit(e,t){const A=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(A)??new Set;i.add(e),this.onInitCallbacks.set(A,i);const o=this.instances.get(A);return o&&e(o,A),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const A=this.onInitCallbacks.get(t);if(A)for(const i of A)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let A=this.instances.get(e);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:nP(e),options:t}),this.instances.set(e,A),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(A,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,A)}catch{}return A||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nP(n){return n===Po?void 0:n}function AP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const iP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},sP=je.INFO,oP={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},aP=(n,e,...t)=>{if(e<n.logLevel)return;const A=new Date().toISOString(),i=oP[e];if(i)console[i](`[${A}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Ph=class{constructor(e){this.name=e,this._logLevel=sP,this._logHandler=aP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}};const lP=(n,e)=>e.some(t=>n instanceof t);let G_,q_;function uP(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cP(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RU=new WeakMap,py=new WeakMap,bU=new WeakMap,vm=new WeakMap,T0=new WeakMap;function fP(n){const e=new Promise((t,A)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{t(Ms(n.result)),i()},a=()=>{A(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&RU.set(t,n)}).catch(()=>{}),T0.set(e,n),e}function dP(n){if(py.has(n))return;const e=new Promise((t,A)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{t(),i()},a=()=>{A(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});py.set(n,e)}let my={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return py.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bU.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hP(n){my=n(my)}function gP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const A=n.call(wm(this),e,...t);return bU.set(A,e.sort?e.sort():[e]),Ms(A)}:cP().includes(n)?function(...e){return n.apply(wm(this),e),Ms(RU.get(this))}:function(...e){return Ms(n.apply(wm(this),e))}}function pP(n){return typeof n=="function"?gP(n):(n instanceof IDBTransaction&&dP(n),lP(n,uP())?new Proxy(n,my):n)}function Ms(n){if(n instanceof IDBRequest)return fP(n);if(vm.has(n))return vm.get(n);const e=pP(n);return e!==n&&(vm.set(n,e),T0.set(e,n)),e}const wm=n=>T0.get(n);function xU(n,e,{blocked:t,upgrade:A,blocking:i,terminated:o}={}){const a=indexedDB.open(n,e),u=Ms(a);return A&&a.addEventListener("upgradeneeded",f=>{A(Ms(a.result),f.oldVersion,f.newVersion,Ms(a.transaction),f)}),t&&a.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const mP=["get","getKey","getAll","getAllKeys","count"],yP=["put","add","delete","clear"],Cm=new Map;function z_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const t=e.replace(/FromIndex$/,""),A=e!==t,i=yP.includes(t);if(!(t in(A?IDBIndex:IDBObjectStore).prototype)||!(i||mP.includes(t)))return;const o=async function(a,...u){const f=this.transaction(a,i?"readwrite":"readonly");let d=f.store;return A&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&f.done]))[0]};return Cm.set(e,o),o}hP(n=>({...n,get:(e,t,A)=>z_(e,t)||n.get(e,t,A),has:(e,t)=>!!z_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vP(t)){const A=t.getImmediate();return`${A.library}/${A.version}`}else return null}).filter(t=>t).join(" ")}}function vP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",J_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ph("@firebase/app"),wP="@firebase/app-compat",CP="@firebase/analytics-compat",EP="@firebase/analytics",_P="@firebase/app-check-compat",TP="@firebase/app-check",IP="@firebase/auth",SP="@firebase/auth-compat",UP="@firebase/database",FP="@firebase/data-connect",QP="@firebase/database-compat",RP="@firebase/functions",bP="@firebase/functions-compat",xP="@firebase/installations",NP="@firebase/installations-compat",DP="@firebase/messaging",MP="@firebase/messaging-compat",LP="@firebase/performance",HP="@firebase/performance-compat",PP="@firebase/remote-config",VP="@firebase/remote-config-compat",OP="@firebase/storage",kP="@firebase/storage-compat",KP="@firebase/firestore",GP="@firebase/ai",qP="@firebase/firestore-compat",zP="firebase",JP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="[DEFAULT]",YP={[yy]:"fire-core",[wP]:"fire-core-compat",[EP]:"fire-analytics",[CP]:"fire-analytics-compat",[TP]:"fire-app-check",[_P]:"fire-app-check-compat",[IP]:"fire-auth",[SP]:"fire-auth-compat",[UP]:"fire-rtdb",[FP]:"fire-data-connect",[QP]:"fire-rtdb-compat",[RP]:"fire-fn",[bP]:"fire-fn-compat",[xP]:"fire-iid",[NP]:"fire-iid-compat",[DP]:"fire-fcm",[MP]:"fire-fcm-compat",[LP]:"fire-perf",[HP]:"fire-perf-compat",[PP]:"fire-rc",[VP]:"fire-rc-compat",[OP]:"fire-gcs",[kP]:"fire-gcs-compat",[KP]:"fire-fst",[qP]:"fire-fst-compat",[GP]:"fire-vertex","fire-js":"fire-js",[zP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,XP=new Map,vy=new Map;function Y_(n,e){try{n.container.addComponent(e)}catch(t){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jr(n){const e=n.name;if(vy.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,n);for(const t of jd.values())Y_(t,n);for(const t of XP.values())Y_(t,n);return!0}function ta(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function JA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new ea("app","Firebase",WP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,A){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=A,this.container.addComponent(new pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=JP;function NU(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const A={name:By,automaticDataCollectionEnabled:!0,...e},i=A.name;if(typeof i!="string"||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(t||(t=_U()),!t)throw Ls.create("no-options");const o=jd.get(i);if(o){if(ks(t,o.options)&&ks(A,o.config))return o;throw Ls.create("duplicate-app",{appName:i})}const a=new rP(i);for(const f of vy.values())a.addComponent(f);const u=new $P(t,A,a);return jd.set(i,u),u}function I0(n=By){const e=jd.get(n);if(!e&&n===By&&_U())return NU();if(!e)throw Ls.create("no-app",{appName:n});return e}function ZA(n,e,t){let A=YP[n]??n;t&&(A+=`-${t}`);const i=A.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${A}" with version "${e}":`];i&&a.push(`library name "${A}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}Jr(new pr(`${A}-version`,()=>({library:A,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebase-heartbeat-database",jP=1,sc="firebase-heartbeat-store";let Em=null;function DU(){return Em||(Em=xU(ZP,jP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ls.create("idb-open",{originalErrorMessage:n.message})})),Em}async function eV(n){try{const t=(await DU()).transaction(sc),A=await t.objectStore(sc).get(MU(n));return await t.done,A}catch(e){if(e instanceof wr)bi.warn(e.message);else{const t=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(t.message)}}}async function X_(n,e){try{const A=(await DU()).transaction(sc,"readwrite");await A.objectStore(sc).put(e,MU(n)),await A.done}catch(t){if(t instanceof wr)bi.warn(t.message);else{const A=Ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bi.warn(A.message)}}}function MU(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=1024,nV=30;class AV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iV(t),this._heartbeatsCachePromise=this._storage.read().then(A=>(this._heartbeatsCache=A,A))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=W_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>nV){const a=sV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(A){bi.warn(A)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:A,unsentEntries:i}=rV(this._heartbeatsCache.heartbeats),o=Zd(JSON.stringify({version:2,heartbeats:A}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return bi.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function rV(n,e=tV){const t=[];let A=n.slice();for(const i of n){const o=t.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),$_(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$_(t)>e){t.pop();break}A=A.slice(1)}return{heartbeatsToSend:t,unsentEntries:A}}class iV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FU()?QU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const A=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??A.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const A=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??A.lastSentHeartbeatDate,heartbeats:[...A.heartbeats,...e.heartbeats]})}else return}}function $_(n){return Zd(JSON.stringify({version:2,heartbeats:n})).length}function sV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let A=1;A<n.length;A++)n[A].date<t&&(t=n[A].date,e=A);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(n){Jr(new pr("platform-logger",e=>new BP(e),"PRIVATE")),Jr(new pr("heartbeat",e=>new AV(e),"PRIVATE")),ZA(yy,J_,n),ZA(yy,J_,"esm2020"),ZA("fire-js","")}oV("");var aV="firebase",lV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ZA(aV,lV,"app");const LU="@firebase/installations",S0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=1e4,PU=`w:${S0}`,VU="FIS_v2",uV="https://firebaseinstallations.googleapis.com/v1",cV=3600*1e3,fV="installations",dV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Jo=new ea(fV,dV,hV);function OU(n){return n instanceof wr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU({projectId:n}){return`${uV}/projects/${n}/installations`}function KU(n){return{token:n.token,requestStatus:2,expiresIn:pV(n.expiresIn),creationTime:Date.now()}}async function GU(n,e){const A=(await e.json()).error;return Jo.create("request-failed",{requestName:n,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})}function qU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function gV(n,{refreshToken:e}){const t=qU(n);return t.append("Authorization",mV(e)),t}async function zU(n){const e=await n();return e.status>=500&&e.status<600?n():e}function pV(n){return Number(n.replace("s","000"))}function mV(n){return`${VU} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const A=kU(n),i=qU(n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={fid:t,authVersion:VU,appId:n.appId,sdkVersion:PU},u={method:"POST",headers:i,body:JSON.stringify(a)},f=await zU(()=>fetch(A,u));if(f.ok){const d=await f.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:KU(d.authToken)}}else throw await GU("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=/^[cdef][\w-]{21}$/,wy="";function wV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=CV(n);return vV.test(t)?t:wy}catch{return wy}}function CV(n){return BV(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new Map;function XU(n,e){const t=Vh(n);WU(t,e),EV(t,e)}function WU(n,e){const t=YU.get(n);if(t)for(const A of t)A(e)}function EV(n,e){const t=_V();t&&t.postMessage({key:n,fid:e}),TV()}let Oo=null;function _V(){return!Oo&&"BroadcastChannel"in self&&(Oo=new BroadcastChannel("[Firebase] FID Change"),Oo.onmessage=n=>{WU(n.data.key,n.data.fid)}),Oo}function TV(){YU.size===0&&Oo&&(Oo.close(),Oo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="firebase-installations-database",SV=1,Yo="firebase-installations-store";let _m=null;function U0(){return _m||(_m=xU(IV,SV,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Yo)}}})),_m}async function eh(n,e){const t=Vh(n),i=(await U0()).transaction(Yo,"readwrite"),o=i.objectStore(Yo),a=await o.get(t);return await o.put(e,t),await i.done,(!a||a.fid!==e.fid)&&XU(n,e.fid),e}async function $U(n){const e=Vh(n),A=(await U0()).transaction(Yo,"readwrite");await A.objectStore(Yo).delete(e),await A.done}async function Oh(n,e){const t=Vh(n),i=(await U0()).transaction(Yo,"readwrite"),o=i.objectStore(Yo),a=await o.get(t),u=e(a);return u===void 0?await o.delete(t):await o.put(u,t),await i.done,u&&(!a||a.fid!==u.fid)&&XU(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(n){let e;const t=await Oh(n.appConfig,A=>{const i=UV(A),o=FV(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===wy?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function UV(n){const e=n||{fid:wV(),registrationStatus:0};return ZU(e)}function FV(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Jo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},A=QV(n,t);return{installationEntry:t,registrationPromise:A}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RV(n)}:{installationEntry:e}}async function QV(n,e){try{const t=await yV(n,e);return eh(n.appConfig,t)}catch(t){throw OU(t)&&t.customData.serverCode===409?await $U(n.appConfig):await eh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function RV(n){let e=await Z_(n.appConfig);for(;e.registrationStatus===1;)await JU(100),e=await Z_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:A}=await F0(n);return A||t}return e}function Z_(n){return Oh(n,e=>{if(!e)throw Jo.create("installation-not-found");return ZU(e)})}function ZU(n){return bV(n)?{fid:n.fid,registrationStatus:0}:n}function bV(n){return n.registrationStatus===1&&n.registrationTime+HU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV({appConfig:n,heartbeatServiceProvider:e},t){const A=NV(n,t),i=gV(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={installation:{sdkVersion:PU,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},f=await zU(()=>fetch(A,u));if(f.ok){const d=await f.json();return KU(d)}else throw await GU("Generate Auth Token",f)}function NV(n,{fid:e}){return`${kU(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(n,e=!1){let t;const A=await Oh(n.appConfig,o=>{if(!jU(o))throw Jo.create("not-registered");const a=o.authToken;if(!e&&LV(a))return o;if(a.requestStatus===1)return t=DV(n,e),o;{if(!navigator.onLine)throw Jo.create("app-offline");const u=PV(o);return t=MV(n,u),u}});return t?await t:A.authToken}async function DV(n,e){let t=await j_(n.appConfig);for(;t.authToken.requestStatus===1;)await JU(100),t=await j_(n.appConfig);const A=t.authToken;return A.requestStatus===0?Q0(n,e):A}function j_(n){return Oh(n,e=>{if(!jU(e))throw Jo.create("not-registered");const t=e.authToken;return VV(t)?{...e,authToken:{requestStatus:0}}:e})}async function MV(n,e){try{const t=await xV(n,e),A={...e,authToken:t};return await eh(n.appConfig,A),t}catch(t){if(OU(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await $U(n.appConfig);else{const A={...e,authToken:{requestStatus:0}};await eh(n.appConfig,A)}throw t}}function jU(n){return n!==void 0&&n.registrationStatus===2}function LV(n){return n.requestStatus===2&&!HV(n)}function HV(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+cV}function PV(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function VV(n){return n.requestStatus===1&&n.requestTime+HU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(n){const e=n,{installationEntry:t,registrationPromise:A}=await F0(e);return A?A.catch(console.error):Q0(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(n,e=!1){const t=n;return await KV(t),(await Q0(t,e)).token}async function KV(n){const{registrationPromise:e}=await F0(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(n){if(!n||!n.options)throw Tm("App Configuration");if(!n.name)throw Tm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Tm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Tm(n){return Jo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="installations",qV="installations-internal",zV=n=>{const e=n.getProvider("app").getImmediate(),t=GV(e),A=ta(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:A,_delete:()=>Promise.resolve()}},JV=n=>{const e=n.getProvider("app").getImmediate(),t=ta(e,eF).getImmediate();return{getId:()=>OV(t),getToken:i=>kV(t,i)}};function YV(){Jr(new pr(eF,zV,"PUBLIC")),Jr(new pr(qV,JV,"PRIVATE"))}YV();ZA(LU,S0);ZA(LU,S0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="analytics",XV="firebase_id",WV="origin",$V=60*1e3,ZV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",R0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Ph("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},UA=new ea("analytics","Analytics",jV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n){if(!n.startsWith(R0)){const e=UA.create("invalid-gtag-resource",{gtagURL:n});return eA.warn(e.message),""}return n}function tF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function tO(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function nO(n,e){const t=tO("firebase-js-sdk-policy",{createScriptURL:eO}),A=document.createElement("script"),i=`${R0}?l=${n}&id=${e}`;A.src=t?t==null?void 0:t.createScriptURL(i):i,A.async=!0,document.head.appendChild(A)}function AO(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function rO(n,e,t,A,i,o){const a=A[i];try{if(a)await e[a];else{const f=(await tF(t)).find(d=>d.measurementId===i);f&&await e[f.appId]}}catch(u){eA.error(u)}n("config",i,o)}async function iO(n,e,t,A,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const u=await tF(t);for(const f of a){const d=u.find(v=>v.measurementId===f),m=d&&e[d.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",A,i||{})}catch(o){eA.error(o)}}function sO(n,e,t,A){async function i(o,...a){try{if(o==="event"){const[u,f]=a;await iO(n,e,t,u,f)}else if(o==="config"){const[u,f]=a;await rO(n,e,t,A,u,f)}else if(o==="consent"){const[u,f]=a;n("consent",u,f)}else if(o==="get"){const[u,f,d]=a;n("get",u,f,d)}else if(o==="set"){const[u]=a;n("set",u)}else n(o,...a)}catch(u){eA.error(u)}}return i}function oO(n,e,t,A,i){let o=function(...a){window[A].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=sO(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function aO(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(R0)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=30,uO=1e3;class cO{constructor(e={},t=uO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nF=new cO;function fO(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function dO(n){var a;const{appId:e,apiKey:t}=n,A={method:"GET",headers:fO(t)},i=ZV.replace("{app-id}",e),o=await fetch(i,A);if(o.status!==200&&o.status!==304){let u="";try{const f=await o.json();(a=f.error)!=null&&a.message&&(u=f.error.message)}catch{}throw UA.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function hO(n,e=nF,t){const{appId:A,apiKey:i,measurementId:o}=n.options;if(!A)throw UA.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:A};throw UA.create("no-api-key")}const a=e.getThrottleMetadata(A)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new mO;return setTimeout(async()=>{u.abort()},$V),AF({appId:A,apiKey:i,measurementId:o},a,u,e)}async function AF(n,{throttleEndTimeMillis:e,backoffCount:t},A,i=nF){var u;const{appId:o,measurementId:a}=n;try{await gO(A,e)}catch(f){if(a)return eA.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:a};throw f}try{const f=await dO(n);return i.deleteThrottleMetadata(o),f}catch(f){const d=f;if(!pO(d)){if(i.deleteThrottleMetadata(o),a)return eA.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw f}const m=Number((u=d==null?void 0:d.customData)==null?void 0:u.httpStatus)===503?K_(t,i.intervalMillis,lO):K_(t,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(o,v),eA.debug(`Calling attemptFetch again in ${m} millis`),AF(n,v,A,i)}}function gO(n,e){return new Promise((t,A)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),A(UA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pO(n){if(!(n instanceof wr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class mO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yO(n,e,t,A,i){if(i&&i.global){n("event",t,A);return}else{const o=await e,a={...A,send_to:o};n("event",t,a)}}async function BO(n,e,t,A){if(A&&A.global){const i={};for(const o of Object.keys(t))i[`user_properties.${o}`]=t[o];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(){if(FU())try{await QU()}catch(n){return eA.warn(UA.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return eA.warn(UA.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wO(n,e,t,A,i,o,a){const u=hO(n);u.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&eA.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>eA.error(w)),e.push(u);const f=vO().then(w=>{if(w)return A.getId()}),[d,m]=await Promise.all([u,f]);aO(o)||nO(o,d.measurementId),i("js",new Date);const v=(a==null?void 0:a.config)??{};return v[WV]="firebase",v.update=!0,m!=null&&(v[XV]=m),i("config",d.measurementId,v),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},eT=[];const tT={};let Im="dataLayer",EO="gtag",nT,b0,AT=!1;function _O(){const n=[];if(UU()&&n.push("This is a browser extension environment."),K2()||n.push("Cookies are not available."),n.length>0){const e=n.map((A,i)=>`(${i+1}) ${A}`).join(" "),t=UA.create("invalid-analytics-context",{errorInfo:e});eA.warn(t.message)}}function TO(n,e,t){_O();const A=n.options.appId;if(!A)throw UA.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)eA.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw UA.create("no-api-key");if(ll[A]!=null)throw UA.create("already-exists",{id:A});if(!AT){AO(Im);const{wrappedGtag:o,gtagCore:a}=oO(ll,eT,tT,Im,EO);b0=o,nT=a,AT=!0}return ll[A]=wO(n,eT,tT,e,nT,Im,t),new CO(n)}function IO(n=I0()){n=tn(n);const e=ta(n,th);return e.isInitialized()?e.getImmediate():SO(n)}function SO(n,e={}){const t=ta(n,th);if(t.isInitialized()){const i=t.getImmediate();if(ks(e,t.getOptions()))return i;throw UA.create("already-initialized")}return t.initialize({options:e})}function UO(n,e,t){n=tn(n),BO(b0,ll[n.app.options.appId],e,t).catch(A=>eA.error(A))}function FO(n,e,t,A){n=tn(n),yO(b0,ll[n.app.options.appId],e,t,A).catch(i=>eA.error(i))}const rT="@firebase/analytics",iT="0.10.19";function QO(){Jr(new pr(th,(e,{options:t})=>{const A=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return TO(A,i,t)},"PUBLIC")),Jr(new pr("analytics-internal",n,"PRIVATE")),ZA(rT,iT),ZA(rT,iT,"esm2020");function n(e){try{const t=e.getProvider(th).getImmediate();return{logEvent:(A,i,o)=>FO(t,A,i,o),setUserProperties:(A,i)=>UO(t,A,i)}}catch(t){throw UA.create("interop-component-reg-failed",{reason:t})}}}QO();var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,rF;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,R){function U(){}U.prototype=R.prototype,b.F=R.prototype,b.prototype=new U,b.prototype.constructor=b,b.D=function(M,L,k){for(var x=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)x[Te-2]=arguments[Te];return R.prototype[L].apply(M,x)}}function t(){this.blockSize=-1}function A(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(A,t),A.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,R,U){U||(U=0);const M=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)M[L]=R.charCodeAt(U++)|R.charCodeAt(U++)<<8|R.charCodeAt(U++)<<16|R.charCodeAt(U++)<<24;else for(L=0;L<16;++L)M[L]=R[U++]|R[U++]<<8|R[U++]<<16|R[U++]<<24;R=b.g[0],U=b.g[1],L=b.g[2];let k=b.g[3],x;x=R+(k^U&(L^k))+M[0]+3614090360&4294967295,R=U+(x<<7&4294967295|x>>>25),x=k+(L^R&(U^L))+M[1]+3905402710&4294967295,k=R+(x<<12&4294967295|x>>>20),x=L+(U^k&(R^U))+M[2]+606105819&4294967295,L=k+(x<<17&4294967295|x>>>15),x=U+(R^L&(k^R))+M[3]+3250441966&4294967295,U=L+(x<<22&4294967295|x>>>10),x=R+(k^U&(L^k))+M[4]+4118548399&4294967295,R=U+(x<<7&4294967295|x>>>25),x=k+(L^R&(U^L))+M[5]+1200080426&4294967295,k=R+(x<<12&4294967295|x>>>20),x=L+(U^k&(R^U))+M[6]+2821735955&4294967295,L=k+(x<<17&4294967295|x>>>15),x=U+(R^L&(k^R))+M[7]+4249261313&4294967295,U=L+(x<<22&4294967295|x>>>10),x=R+(k^U&(L^k))+M[8]+1770035416&4294967295,R=U+(x<<7&4294967295|x>>>25),x=k+(L^R&(U^L))+M[9]+2336552879&4294967295,k=R+(x<<12&4294967295|x>>>20),x=L+(U^k&(R^U))+M[10]+4294925233&4294967295,L=k+(x<<17&4294967295|x>>>15),x=U+(R^L&(k^R))+M[11]+2304563134&4294967295,U=L+(x<<22&4294967295|x>>>10),x=R+(k^U&(L^k))+M[12]+1804603682&4294967295,R=U+(x<<7&4294967295|x>>>25),x=k+(L^R&(U^L))+M[13]+4254626195&4294967295,k=R+(x<<12&4294967295|x>>>20),x=L+(U^k&(R^U))+M[14]+2792965006&4294967295,L=k+(x<<17&4294967295|x>>>15),x=U+(R^L&(k^R))+M[15]+1236535329&4294967295,U=L+(x<<22&4294967295|x>>>10),x=R+(L^k&(U^L))+M[1]+4129170786&4294967295,R=U+(x<<5&4294967295|x>>>27),x=k+(U^L&(R^U))+M[6]+3225465664&4294967295,k=R+(x<<9&4294967295|x>>>23),x=L+(R^U&(k^R))+M[11]+643717713&4294967295,L=k+(x<<14&4294967295|x>>>18),x=U+(k^R&(L^k))+M[0]+3921069994&4294967295,U=L+(x<<20&4294967295|x>>>12),x=R+(L^k&(U^L))+M[5]+3593408605&4294967295,R=U+(x<<5&4294967295|x>>>27),x=k+(U^L&(R^U))+M[10]+38016083&4294967295,k=R+(x<<9&4294967295|x>>>23),x=L+(R^U&(k^R))+M[15]+3634488961&4294967295,L=k+(x<<14&4294967295|x>>>18),x=U+(k^R&(L^k))+M[4]+3889429448&4294967295,U=L+(x<<20&4294967295|x>>>12),x=R+(L^k&(U^L))+M[9]+568446438&4294967295,R=U+(x<<5&4294967295|x>>>27),x=k+(U^L&(R^U))+M[14]+3275163606&4294967295,k=R+(x<<9&4294967295|x>>>23),x=L+(R^U&(k^R))+M[3]+4107603335&4294967295,L=k+(x<<14&4294967295|x>>>18),x=U+(k^R&(L^k))+M[8]+1163531501&4294967295,U=L+(x<<20&4294967295|x>>>12),x=R+(L^k&(U^L))+M[13]+2850285829&4294967295,R=U+(x<<5&4294967295|x>>>27),x=k+(U^L&(R^U))+M[2]+4243563512&4294967295,k=R+(x<<9&4294967295|x>>>23),x=L+(R^U&(k^R))+M[7]+1735328473&4294967295,L=k+(x<<14&4294967295|x>>>18),x=U+(k^R&(L^k))+M[12]+2368359562&4294967295,U=L+(x<<20&4294967295|x>>>12),x=R+(U^L^k)+M[5]+4294588738&4294967295,R=U+(x<<4&4294967295|x>>>28),x=k+(R^U^L)+M[8]+2272392833&4294967295,k=R+(x<<11&4294967295|x>>>21),x=L+(k^R^U)+M[11]+1839030562&4294967295,L=k+(x<<16&4294967295|x>>>16),x=U+(L^k^R)+M[14]+4259657740&4294967295,U=L+(x<<23&4294967295|x>>>9),x=R+(U^L^k)+M[1]+2763975236&4294967295,R=U+(x<<4&4294967295|x>>>28),x=k+(R^U^L)+M[4]+1272893353&4294967295,k=R+(x<<11&4294967295|x>>>21),x=L+(k^R^U)+M[7]+4139469664&4294967295,L=k+(x<<16&4294967295|x>>>16),x=U+(L^k^R)+M[10]+3200236656&4294967295,U=L+(x<<23&4294967295|x>>>9),x=R+(U^L^k)+M[13]+681279174&4294967295,R=U+(x<<4&4294967295|x>>>28),x=k+(R^U^L)+M[0]+3936430074&4294967295,k=R+(x<<11&4294967295|x>>>21),x=L+(k^R^U)+M[3]+3572445317&4294967295,L=k+(x<<16&4294967295|x>>>16),x=U+(L^k^R)+M[6]+76029189&4294967295,U=L+(x<<23&4294967295|x>>>9),x=R+(U^L^k)+M[9]+3654602809&4294967295,R=U+(x<<4&4294967295|x>>>28),x=k+(R^U^L)+M[12]+3873151461&4294967295,k=R+(x<<11&4294967295|x>>>21),x=L+(k^R^U)+M[15]+530742520&4294967295,L=k+(x<<16&4294967295|x>>>16),x=U+(L^k^R)+M[2]+3299628645&4294967295,U=L+(x<<23&4294967295|x>>>9),x=R+(L^(U|~k))+M[0]+4096336452&4294967295,R=U+(x<<6&4294967295|x>>>26),x=k+(U^(R|~L))+M[7]+1126891415&4294967295,k=R+(x<<10&4294967295|x>>>22),x=L+(R^(k|~U))+M[14]+2878612391&4294967295,L=k+(x<<15&4294967295|x>>>17),x=U+(k^(L|~R))+M[5]+4237533241&4294967295,U=L+(x<<21&4294967295|x>>>11),x=R+(L^(U|~k))+M[12]+1700485571&4294967295,R=U+(x<<6&4294967295|x>>>26),x=k+(U^(R|~L))+M[3]+2399980690&4294967295,k=R+(x<<10&4294967295|x>>>22),x=L+(R^(k|~U))+M[10]+4293915773&4294967295,L=k+(x<<15&4294967295|x>>>17),x=U+(k^(L|~R))+M[1]+2240044497&4294967295,U=L+(x<<21&4294967295|x>>>11),x=R+(L^(U|~k))+M[8]+1873313359&4294967295,R=U+(x<<6&4294967295|x>>>26),x=k+(U^(R|~L))+M[15]+4264355552&4294967295,k=R+(x<<10&4294967295|x>>>22),x=L+(R^(k|~U))+M[6]+2734768916&4294967295,L=k+(x<<15&4294967295|x>>>17),x=U+(k^(L|~R))+M[13]+1309151649&4294967295,U=L+(x<<21&4294967295|x>>>11),x=R+(L^(U|~k))+M[4]+4149444226&4294967295,R=U+(x<<6&4294967295|x>>>26),x=k+(U^(R|~L))+M[11]+3174756917&4294967295,k=R+(x<<10&4294967295|x>>>22),x=L+(R^(k|~U))+M[2]+718787259&4294967295,L=k+(x<<15&4294967295|x>>>17),x=U+(k^(L|~R))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(L+(x<<21&4294967295|x>>>11))&4294967295,b.g[2]=b.g[2]+L&4294967295,b.g[3]=b.g[3]+k&4294967295}A.prototype.v=function(b,R){R===void 0&&(R=b.length);const U=R-this.blockSize,M=this.C;let L=this.h,k=0;for(;k<R;){if(L==0)for(;k<=U;)i(this,b,k),k+=this.blockSize;if(typeof b=="string"){for(;k<R;)if(M[L++]=b.charCodeAt(k++),L==this.blockSize){i(this,M),L=0;break}}else for(;k<R;)if(M[L++]=b[k++],L==this.blockSize){i(this,M),L=0;break}}this.h=L,this.o+=R},A.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;R=this.o*8;for(var U=b.length-8;U<b.length;++U)b[U]=R&255,R/=256;for(this.v(b),b=Array(16),R=0,U=0;U<4;++U)for(let M=0;M<32;M+=8)b[R++]=this.g[U]>>>M&255;return b};function o(b,R){var U=u;return Object.prototype.hasOwnProperty.call(U,b)?U[b]:U[b]=R(b)}function a(b,R){this.h=R;const U=[];let M=!0;for(let L=b.length-1;L>=0;L--){const k=b[L]|0;M&&k==R||(U[L]=k,M=!1)}this.g=U}var u={};function f(b){return-128<=b&&b<128?o(b,function(R){return new a([R|0],R<0?-1:0)}):new a([b|0],b<0?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return v;if(b<0)return D(d(-b));const R=[];let U=1;for(let M=0;b>=U;M++)R[M]=b/U|0,U*=4294967296;return new a(R,0)}function m(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return D(m(b.substring(1),R));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=d(Math.pow(R,8));let M=v;for(let k=0;k<b.length;k+=8){var L=Math.min(8,b.length-k);const x=parseInt(b.substring(k,k+L),R);L<8?(L=d(Math.pow(R,L)),M=M.j(L).add(d(x))):(M=M.j(U),M=M.add(d(x)))}return M}var v=f(0),w=f(1),T=f(16777216);n=a.prototype,n.m=function(){if(N(this))return-D(this).m();let b=0,R=1;for(let U=0;U<this.g.length;U++){const M=this.i(U);b+=(M>=0?M:4294967296+M)*R,R*=4294967296}return b},n.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(Q(this))return"0";if(N(this))return"-"+D(this).toString(b);const R=d(Math.pow(b,6));var U=this;let M="";for(;;){const L=ne(U,R).g;U=O(U,L.j(R));let k=((U.g.length>0?U.g[0]:U.h)>>>0).toString(b);if(U=L,Q(U))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function Q(b){if(b.h!=0)return!1;for(let R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function N(b){return b.h==-1}n.l=function(b){return b=O(this,b),N(b)?-1:Q(b)?0:1};function D(b){const R=b.g.length,U=[];for(let M=0;M<R;M++)U[M]=~b.g[M];return new a(U,~b.h).add(w)}n.abs=function(){return N(this)?D(this):this},n.add=function(b){const R=Math.max(this.g.length,b.g.length),U=[];let M=0;for(let L=0;L<=R;L++){let k=M+(this.i(L)&65535)+(b.i(L)&65535),x=(k>>>16)+(this.i(L)>>>16)+(b.i(L)>>>16);M=x>>>16,k&=65535,x&=65535,U[L]=x<<16|k}return new a(U,U[U.length-1]&-2147483648?-1:0)};function O(b,R){return b.add(D(R))}n.j=function(b){if(Q(this)||Q(b))return v;if(N(this))return N(b)?D(this).j(D(b)):D(D(this).j(b));if(N(b))return D(this.j(D(b)));if(this.l(T)<0&&b.l(T)<0)return d(this.m()*b.m());const R=this.g.length+b.g.length,U=[];for(var M=0;M<2*R;M++)U[M]=0;for(M=0;M<this.g.length;M++)for(let L=0;L<b.g.length;L++){const k=this.i(M)>>>16,x=this.i(M)&65535,Te=b.i(L)>>>16,Xe=b.i(L)&65535;U[2*M+2*L]+=x*Xe,q(U,2*M+2*L),U[2*M+2*L+1]+=k*Xe,q(U,2*M+2*L+1),U[2*M+2*L+1]+=x*Te,q(U,2*M+2*L+1),U[2*M+2*L+2]+=k*Te,q(U,2*M+2*L+2)}for(b=0;b<R;b++)U[b]=U[2*b+1]<<16|U[2*b];for(b=R;b<2*R;b++)U[b]=0;return new a(U,0)};function q(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function W(b,R){this.g=b,this.h=R}function ne(b,R){if(Q(R))throw Error("division by zero");if(Q(b))return new W(v,v);if(N(b))return R=ne(D(b),R),new W(D(R.g),D(R.h));if(N(R))return R=ne(b,D(R)),new W(D(R.g),R.h);if(b.g.length>30){if(N(b)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var U=w,M=R;M.l(b)<=0;)U=ie(U),M=ie(M);var L=Z(U,1),k=Z(M,1);for(M=Z(M,2),U=Z(U,2);!Q(M);){var x=k.add(M);x.l(b)<=0&&(L=L.add(U),k=x),M=Z(M,1),U=Z(U,1)}return R=O(b,L.j(R)),new W(L,R)}for(L=v;b.l(R)>=0;){for(U=Math.max(1,Math.floor(b.m()/R.m())),M=Math.ceil(Math.log(U)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=d(U),x=k.j(R);N(x)||x.l(b)>0;)U-=M,k=d(U),x=k.j(R);Q(k)&&(k=w),L=L.add(k),b=O(b,x)}return new W(L,b)}n.B=function(b){return ne(this,b).h},n.and=function(b){const R=Math.max(this.g.length,b.g.length),U=[];for(let M=0;M<R;M++)U[M]=this.i(M)&b.i(M);return new a(U,this.h&b.h)},n.or=function(b){const R=Math.max(this.g.length,b.g.length),U=[];for(let M=0;M<R;M++)U[M]=this.i(M)|b.i(M);return new a(U,this.h|b.h)},n.xor=function(b){const R=Math.max(this.g.length,b.g.length),U=[];for(let M=0;M<R;M++)U[M]=this.i(M)^b.i(M);return new a(U,this.h^b.h)};function ie(b){const R=b.g.length+1,U=[];for(let M=0;M<R;M++)U[M]=b.i(M)<<1|b.i(M-1)>>>31;return new a(U,b.h)}function Z(b,R){const U=R>>5;R%=32;const M=b.g.length-U,L=[];for(let k=0;k<M;k++)L[k]=R>0?b.i(k+U)>>>R|b.i(k+U+1)<<32-R:b.i(k+U);return new a(L,b.h)}A.prototype.digest=A.prototype.A,A.prototype.reset=A.prototype.u,A.prototype.update=A.prototype.v,rF=A,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=m,Hs=a}).apply(typeof sT<"u"?sT:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iF,Hu,sF,bd,Cy,oF,aF,lF;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var C=0;C<p.length;++C){var _=p[C];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var A=t(this);function i(p,C){if(C)e:{var _=A;p=p.split(".");for(var F=0;F<p.length-1;F++){var z=p[F];if(!(z in _))break e;_=_[z]}p=p[p.length-1],F=_[p],C=C(F),C!=F&&C!=null&&e(_,p,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(C){var _=[],F;for(F in C)Object.prototype.hasOwnProperty.call(C,F)&&_.push([F,C[F]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function f(p,C,_){return p.call.apply(p.bind,arguments)}function d(p,C,_){return d=f,d.apply(null,arguments)}function m(p,C){var _=Array.prototype.slice.call(arguments,1);return function(){var F=_.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function v(p,C){function _(){}_.prototype=C.prototype,p.Z=C.prototype,p.prototype=new _,p.prototype.constructor=p,p.Ob=function(F,z,ee){for(var ge=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ge[Ke-2]=arguments[Ke];return C.prototype[z].apply(F,ge)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function T(p){const C=p.length;if(C>0){const _=Array(C);for(let F=0;F<C;F++)_[F]=p[F];return _}return[]}function Q(p,C){for(let F=1;F<arguments.length;F++){const z=arguments[F];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=p.length||0;const ee=z.length||0;p.length=_+ee;for(let ge=0;ge<ee;ge++)p[_+ge]=z[ge]}else p.push(z)}}class N{constructor(C,_){this.i=C,this.j=_,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function D(p){a.setTimeout(()=>{throw p},0)}function O(){var p=b;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class q{constructor(){this.h=this.g=null}add(C,_){const F=W.get();F.set(C,_),this.h?this.h.next=F:this.g=F,this.h=F}}var W=new N(()=>new ne,p=>p.reset());class ne{constructor(){this.next=this.g=this.h=null}set(C,_){this.h=C,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Z=!1,b=new q,R=()=>{const p=Promise.resolve(void 0);ie=()=>{p.then(U)}};function U(){for(var p;p=O();){try{p.h.call(p.g)}catch(_){D(_)}var C=W;C.j(p),C.h<100&&(C.h++,p.next=C.g,C.g=p)}Z=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const _=()=>{};a.addEventListener("test",_,C),a.removeEventListener("test",_,C)}catch{}return p})();function x(p){return/^[\s\xa0]*$/.test(p)}function Te(p,C){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,C)}v(Te,L),Te.prototype.init=function(p,C){const _=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget,C||(_=="mouseover"?C=p.fromElement:_=="mouseout"&&(C=p.toElement)),this.relatedTarget=C,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),K=0;function ue(p,C,_,F,z){this.listener=p,this.proxy=null,this.src=C,this.type=_,this.capture=!!F,this.ha=z,this.key=++K,this.da=this.fa=!1}function me(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Le(p,C,_){for(const F in p)C.call(_,p[F],F,p)}function qe(p,C){for(const _ in p)C.call(void 0,p[_],_,p)}function P(p){const C={};for(const _ in p)C[_]=p[_];return C}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(p,C){let _,F;for(let z=1;z<arguments.length;z++){F=arguments[z];for(_ in F)p[_]=F[_];for(let ee=0;ee<j.length;ee++)_=j[ee],Object.prototype.hasOwnProperty.call(F,_)&&(p[_]=F[_])}}function pe(p){this.src=p,this.g={},this.h=0}pe.prototype.add=function(p,C,_,F,z){const ee=p.toString();p=this.g[ee],p||(p=this.g[ee]=[],this.h++);const ge=Qe(p,C,F,z);return ge>-1?(C=p[ge],_||(C.fa=!1)):(C=new ue(C,this.src,ee,!!F,z),C.fa=_,p.push(C)),C};function Ie(p,C){const _=C.type;if(_ in p.g){var F=p.g[_],z=Array.prototype.indexOf.call(F,C,void 0),ee;(ee=z>=0)&&Array.prototype.splice.call(F,z,1),ee&&(me(C),p.g[_].length==0&&(delete p.g[_],p.h--))}}function Qe(p,C,_,F){for(let z=0;z<p.length;++z){const ee=p[z];if(!ee.da&&ee.listener==C&&ee.capture==!!_&&ee.ha==F)return z}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ot={};function ft(p,C,_,F,z){if(Array.isArray(C)){for(let ee=0;ee<C.length;ee++)ft(p,C[ee],_,F,z);return null}return _=ei(_),p&&p[Xe]?p.J(C,_,u(F)?!!F.capture:!1,z):Er(p,C,_,!1,F,z)}function Er(p,C,_,F,z,ee){if(!C)throw Error("Invalid event type");const ge=u(z)?!!z.capture:!!z;let Ke=Jn(p);if(Ke||(p[ke]=Ke=new pe(p)),_=Ke.add(C,_,F,ge,ee),_.proxy)return _;if(F=er(),_.proxy=F,F.src=p,F.listener=_,p.addEventListener)k||(z=ge),z===void 0&&(z=!1),p.addEventListener(C.toString(),F,z);else if(p.attachEvent)p.attachEvent(zn(C.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return _}function er(){function p(_){return C.call(p.src,p.listener,_)}const C=Zr;return p}function nA(p,C,_,F,z){if(Array.isArray(C))for(var ee=0;ee<C.length;ee++)nA(p,C[ee],_,F,z);else F=u(F)?!!F.capture:!!F,_=ei(_),p&&p[Xe]?(p=p.i,ee=String(C).toString(),ee in p.g&&(C=p.g[ee],_=Qe(C,_,F,z),_>-1&&(me(C[_]),Array.prototype.splice.call(C,_,1),C.length==0&&(delete p.g[ee],p.h--)))):p&&(p=Jn(p))&&(C=p.g[C.toString()],p=-1,C&&(p=Qe(C,_,F,z)),(_=p>-1?C[p]:null)&&Vi(_))}function Vi(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[Xe])Ie(C.i,p);else{var _=p.type,F=p.proxy;C.removeEventListener?C.removeEventListener(_,F,p.capture):C.detachEvent?C.detachEvent(zn(_),F):C.addListener&&C.removeListener&&C.removeListener(F),(_=Jn(C))?(Ie(_,p),_.h==0&&(_.src=null,C[ke]=null)):me(p)}}}function zn(p){return p in Ot?Ot[p]:Ot[p]="on"+p}function Zr(p,C){if(p.da)p=!0;else{C=new Te(C,this);const _=p.listener,F=p.ha||p.src;p.fa&&Vi(p),p=_.call(F,C)}return p}function Jn(p){return p=p[ke],p instanceof pe?p:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ei(p){return typeof p=="function"?p:(p[jr]||(p[jr]=function(C){return p.handleEvent(C)}),p[jr])}function kt(){M.call(this),this.i=new pe(this),this.M=this,this.G=null}v(kt,M),kt.prototype[Xe]=!0,kt.prototype.removeEventListener=function(p,C,_,F){nA(this,p,C,_,F)};function It(p,C){var _,F=p.G;if(F)for(_=[];F;F=F.G)_.push(F);if(p=p.M,F=C.type||C,typeof C=="string")C=new L(C,p);else if(C instanceof L)C.target=C.target||p;else{var z=C;C=new L(F,p),fe(C,z)}z=!0;let ee,ge;if(_)for(ge=_.length-1;ge>=0;ge--)ee=C.g=_[ge],z=tr(ee,F,!0,C)&&z;if(ee=C.g=p,z=tr(ee,F,!0,C)&&z,z=tr(ee,F,!1,C)&&z,_)for(ge=0;ge<_.length;ge++)ee=C.g=_[ge],z=tr(ee,F,!1,C)&&z}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var p=this.i;for(const C in p.g){const _=p.g[C];for(let F=0;F<_.length;F++)me(_[F]);delete p.g[C],p.h--}}this.G=null},kt.prototype.J=function(p,C,_,F){return this.i.add(String(p),C,!1,_,F)},kt.prototype.K=function(p,C,_,F){return this.i.add(String(p),C,!0,_,F)};function tr(p,C,_,F){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();let z=!0;for(let ee=0;ee<C.length;++ee){const ge=C[ee];if(ge&&!ge.da&&ge.capture==_){const Ke=ge.listener,Yt=ge.ha||ge.src;ge.fa&&Ie(p.i,ge),z=Ke.call(Yt,F)!==!1&&z}}return z&&!F.defaultPrevented}function xc(p,C){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:a.setTimeout(p,C||0)}function Oi(p){p.g=xc(()=>{p.g=null,p.i&&(p.i=!1,Oi(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class mn extends M{constructor(C,_){super(),this.m=C,this.l=_,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(p){M.call(this),this.h=p,this.g={}}v(ti,M);var ki=[];function _r(p){Le(p.g,function(C,_){this.g.hasOwnProperty(_)&&Vi(C)},p),p.g={}}ti.prototype.N=function(){ti.Z.N.call(this),_r(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hA=a.JSON.stringify,Ml=a.JSON.parse,AA=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function nr(){}function no(){}var gA={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){L.call(this,"d")}v(gt,L);function rA(){L.call(this,"c")}v(rA,L);var Dt={},ia=null;function Ki(){return ia=ia||new kt}Dt.Ia="serverreachability";function Ao(p){L.call(this,Dt.Ia,p)}v(Ao,L);function Yn(p){const C=Ki();It(C,new Ao(C))}Dt.STAT_EVENT="statevent";function Tr(p,C){L.call(this,Dt.STAT_EVENT,p),this.stat=C}v(Tr,L);function Mt(p){const C=Ki();It(C,new Tr(C,p))}Dt.Ja="timingevent";function iA(p,C){L.call(this,Dt.Ja,p),this.size=C}v(iA,L);function Nn(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},C)}function Ae(){this.g=!0}Ae.prototype.ua=function(){this.g=!1};function sa(p,C,_,F,z,ee){p.info(function(){if(p.g)if(ee){var ge="",Ke=ee.split("&");for(let at=0;at<Ke.length;at++){var Yt=Ke[at].split("=");if(Yt.length>1){const Ht=Yt[0];Yt=Yt[1];const MA=Ht.split("_");ge=MA.length>=2&&MA[1]=="type"?ge+(Ht+"="+Yt+"&"):ge+(Ht+"=redacted&")}}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+F+") [attempt "+z+"]: "+C+`
`+_+`
`+ge})}function ro(p,C,_,F,z,ee,ge){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+z+"]: "+C+`
`+_+`
`+ee+" "+ge})}function FA(p,C,_,F){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ll(p,_)+(F?" "+F:"")})}function ni(p,C){p.info(function(){return"TIMEOUT: "+C})}Ae.prototype.info=function(){};function Ll(p,C){if(!p.g)return C;if(!C)return null;try{const ee=JSON.parse(C);if(ee){for(p=0;p<ee.length;p++)if(Array.isArray(ee[p])){var _=ee[p];if(!(_.length<2)){var F=_[1];if(Array.isArray(F)&&!(F.length<1)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ge=1;ge<F.length;ge++)F[ge]=""}}}}return hA(ee)}catch{return C}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},so;function ri(){}v(ri,nr),ri.prototype.g=function(){return new XMLHttpRequest},so=new ri;function Ar(p){return encodeURIComponent(String(p))}function oa(p){var C=1;p=p.split(":");const _=[];for(;C>0&&p.length;)_.push(p.shift()),C--;return p.length&&_.push(p.join(":")),_}function pA(p,C,_,F){this.j=p,this.i=C,this.l=_,this.S=F||1,this.V=new ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mA}function mA(){this.i=null,this.g="",this.h=!1}var Lt={},nn={};function QA(p,C,_){p.M=1,p.A=Se(qt(C)),p.u=_,p.R=!0,Gi(p,null)}function Gi(p,C){p.F=Date.now(),yA(p),p.B=qt(p.A);var _=p.B,F=p.S;Array.isArray(F)||(F=[String(F)]),Xi(_.i,"t",F),p.C=0,_=p.j.L,p.h=new mA,p.g=Oc(p.j,_?C:null,!p.u),p.P>0&&(p.O=new mn(d(p.Y,p,p.g),p.P)),C=p.V,_=p.g,F=p.ba;var z="readystatechange";Array.isArray(z)||(z&&(ki[0]=z.toString()),z=ki);for(let ee=0;ee<z.length;ee++){const ge=ft(_,z[ee],F||C.handleEvent,!1,C.h||C);if(!ge)break;C.g[ge.key]=ge}C=p.J?P(p.J):{},p.u?(p.v||(p.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,C)):(p.v="GET",p.g.ea(p.B,p.v,null,C)),Yn(),sa(p.i,p.v,p.B,p.l,p.S,p.u)}pA.prototype.ba=function(p){p=p.target;const C=this.O;C&&ir(p)==3?C.j():this.Y(p)},pA.prototype.Y=function(p){try{if(p==this.g)e:{const Ke=ir(this.g),Yt=this.g.ya(),at=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||_n(this.g)))){this.K||Ke!=4||Yt==7||(Yt==8||at<=0?Yn(3):Yn(2)),Dn(this);var C=this.g.ca();this.X=C;var _=Hl(this);if(this.o=C==200,ro(this.i,this.v,this.B,this.l,this.S,Ke,C),this.o){if(this.U&&!this.L){t:{if(this.g){var F,z=this.g;if((F=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(F)){var ee=F;break t}}ee=null}if(p=ee)FA(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,RA(this,p);else{this.o=!1,this.m=3,Mt(12),En(this),Cn(this);break e}}if(this.R){p=!0;let Ht;for(;!this.K&&this.C<_.length;)if(Ht=Ir(this,_),Ht==nn){Ke==4&&(this.m=4,Mt(14),p=!1),FA(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Lt){this.m=4,Mt(15),FA(this.i,this.l,_,"[Invalid Chunk]"),p=!1;break}else FA(this.i,this.l,Ht,null),RA(this,Ht);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||_.length!=0||this.h.h||(this.m=1,Mt(16),p=!1),this.o=this.o&&p,!p)FA(this.i,this.l,_,"[Invalid Chunked Response]"),En(this),Cn(this);else if(_.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Gl(ge),ge.P=!0,Mt(11))}}else FA(this.i,this.l,_,null),RA(this,_);Ke==4&&En(this),this.o&&!this.K&&(Ke==4?Lc(this.j,this):(this.o=!1,yA(this)))}else si(this.g),C==400&&_.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),En(this),Cn(this)}}}catch{}finally{}};function Hl(p){if(!aa(p))return p.g.la();const C=_n(p.g);if(C==="")return"";let _="";const F=C.length,z=ir(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return En(p),Cn(p),"";p.h.i=new a.TextDecoder}for(let ee=0;ee<F;ee++)p.h.h=!0,_+=p.h.i.decode(C[ee],{stream:!(z&&ee==F-1)});return C.length=0,p.h.g+=_,p.C=0,p.h.g}function aa(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Ir(p,C){var _=p.C,F=C.indexOf(`
`,_);return F==-1?nn:(_=Number(C.substring(_,F)),isNaN(_)?Lt:(F+=1,F+_>C.length?nn:(C=C.slice(F,F+_),p.C=F+_,C)))}pA.prototype.cancel=function(){this.K=!0,En(this)};function yA(p){p.T=Date.now()+p.H,qi(p,p.H)}function qi(p,C){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Nn(d(p.aa,p),C)}function Dn(p){p.D&&(a.clearTimeout(p.D),p.D=null)}pA.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ni(this.i,this.B),this.M!=2&&(Yn(),Mt(17)),En(this),this.m=2,Cn(this)):qi(this,this.T-p)};function Cn(p){p.j.I==0||p.K||Lc(p.j,p)}function En(p){Dn(p);var C=p.O;C&&typeof C.dispose=="function"&&C.dispose(),p.O=null,_r(p.V),p.g&&(C=p.g,p.g=null,C.abort(),C.dispose())}function RA(p,C){try{var _=p.j;if(_.I!=0&&(_.g==p||xA(_.h,p))){if(!p.L&&xA(_.h,p)&&_.I==3){try{var F=_.Ba.g.parse(C)}catch{F=null}if(Array.isArray(F)&&F.length==3){var z=F;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<p.F)da(_),es(_);else break e;Bo(_),Mt(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Nn(d(_.Va,_),6e3));bA(_.h)<=1&&_.ta&&(_.ta=void 0)}else xr(_,11)}else if((p.L||_.g==p)&&da(_),!x(C))for(z=_.Ba.g.parse(C),C=0;C<z.length;C++){let at=z[C];const Ht=at[0];if(!(Ht<=_.K))if(_.K=Ht,at=at[1],_.I==2)if(at[0]=="c"){_.M=at[1],_.ba=at[2];const MA=at[3];MA!=null&&(_.ka=MA,_.j.info("VER="+_.ka));const Nr=at[4];Nr!=null&&(_.za=Nr,_.j.info("SVER="+_.za));const sr=at[5];sr!=null&&typeof sr=="number"&&sr>0&&(F=1.5*sr,_.O=F,_.j.info("backChannelRequestTimeoutMs_="+F)),F=_;const or=p.g;if(or){const vo=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var ee=F.h;ee.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(lo(ee,ee.h),ee.h=null))}if(F.G){const ha=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(F.wa=ha,ce(F.J,F.G,ha))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-p.F,_.j.info("Handshake RTT: "+_.T+"ms")),F=_;var ge=p;if(F.na=Vc(F,F.L?F.ba:null,F.W),ge.L){zi(F.h,ge);var Ke=ge,Yt=F.O;Yt&&(Ke.H=Yt),Ke.D&&(Dn(Ke),yA(Ke)),F.g=ge}else Dc(F);_.i.length>0&&br(_)}else at[0]!="stop"&&at[0]!="close"||xr(_,7);else _.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?xr(_,7):kl(_):at[0]!="noop"&&_.l&&_.l.qa(at),_.A=0)}}Yn(4)}catch{}}var Gt=class{constructor(p,C){this.g=p,this.map=C}};function oo(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ao(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function bA(p){return p.h?1:p.g?p.g.size:0}function xA(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function lo(p,C){p.g?p.g.add(C):p.h=C}function zi(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}oo.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function uo(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const _ of p.g.values())C=C.concat(_.G);return C}return T(p.i)}var la=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ji(p,C){if(p){p=p.split("&");for(let _=0;_<p.length;_++){const F=p[_].indexOf("=");let z,ee=null;F>=0?(z=p[_].substring(0,F),ee=p[_].substring(F+1)):z=p[_],C(z,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Mn(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;p instanceof Mn?(this.l=p.l,J(this,p.j),this.o=p.o,this.g=p.g,de(this,p.u),this.h=p.h,he(this,fo(p.i)),this.m=p.m):p&&(C=String(p).match(la))?(this.l=!1,J(this,C[1]||"",!0),this.o=xe(C[2]||""),this.g=xe(C[3]||"",!0),de(this,C[4]),this.h=xe(C[5]||"",!0),he(this,C[6]||"",!0),this.m=xe(C[7]||"")):(this.l=!1,this.i=new At(null,this.l))}Mn.prototype.toString=function(){const p=[];var C=this.j;C&&p.push(bt(C,St,!0),":");var _=this.g;return(_||C=="file")&&(p.push("//"),(C=this.o)&&p.push(bt(C,St,!0),"@"),p.push(Ar(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&p.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&p.push("/"),p.push(bt(_,_.charAt(0)=="/"?fn:pt,!0))),(_=this.i.toString())&&p.push("?",_),(_=this.m)&&p.push("#",bt(_,Ut)),p.join("")},Mn.prototype.resolve=function(p){const C=qt(this);let _=!!p.j;_?J(C,p.j):_=!!p.o,_?C.o=p.o:_=!!p.g,_?C.g=p.g:_=p.u!=null;var F=p.h;if(_)de(C,p.u);else if(_=!!p.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var z=C.h.lastIndexOf("/");z!=-1&&(F=C.h.slice(0,z+1)+F)}if(z=F,z==".."||z==".")F="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){F=z.lastIndexOf("/",0)==0,z=z.split("/");const ee=[];for(let ge=0;ge<z.length;){const Ke=z[ge++];Ke=="."?F&&ge==z.length&&ee.push(""):Ke==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),F&&ge==z.length&&ee.push("")):(ee.push(Ke),F=!0)}F=ee.join("/")}else F=z}return _?C.h=F:_=p.i.toString()!=="",_?he(C,fo(p.i)):_=!!p.m,_&&(C.m=p.m),C};function qt(p){return new Mn(p)}function J(p,C,_){p.j=_?xe(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function de(p,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);p.u=C}else p.u=null}function he(p,C,_){C instanceof At?(p.i=C,Wi(p.i,p.l)):(_||(C=bt(C,dn)),p.i=new At(C,p.l))}function ce(p,C,_){p.i.set(C,_)}function Se(p){return ce(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function xe(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function bt(p,C,_){return typeof p=="string"?(p=encodeURI(p).replace(C,Ct),_&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ct(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var St=/[#\/\?@]/g,pt=/[#\?:]/g,fn=/[#\?]/g,dn=/[#\?@]/g,Ut=/#/g;function At(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function Ln(p){p.g||(p.g=new Map,p.h=0,p.i&&Ji(p.i,function(C,_){p.add(decodeURIComponent(C.replace(/\+/g," ")),_)}))}n=At.prototype,n.add=function(p,C){Ln(this),this.i=null,p=Ur(this,p);let _=this.g.get(p);return _||this.g.set(p,_=[]),_.push(C),this.h+=1,this};function Sr(p,C){Ln(p),C=Ur(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function co(p,C){return Ln(p),C=Ur(p,C),p.g.has(C)}n.forEach=function(p,C){Ln(this),this.g.forEach(function(_,F){_.forEach(function(z){p.call(C,z,F,this)},this)},this)};function Yi(p,C){Ln(p);let _=[];if(typeof C=="string")co(p,C)&&(_=_.concat(p.g.get(Ur(p,C))));else for(p=Array.from(p.g.values()),C=0;C<p.length;C++)_=_.concat(p[C]);return _}n.set=function(p,C){return Ln(this),this.i=null,p=Ur(this,p),co(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},n.get=function(p,C){return p?(p=Yi(this,p),p.length>0?String(p[0]):C):C};function Xi(p,C,_){Sr(p,C),_.length>0&&(p.i=null,p.g.set(Ur(p,C),T(_)),p.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(let F=0;F<C.length;F++){var _=C[F];const z=Ar(_);_=Yi(this,_);for(let ee=0;ee<_.length;ee++){let ge=z;_[ee]!==""&&(ge+="="+Ar(_[ee])),p.push(ge)}}return this.i=p.join("&")};function fo(p){const C=new At;return C.i=p.i,p.g&&(C.g=new Map(p.g),C.h=p.h),C}function Ur(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function Wi(p,C){C&&!p.j&&(Ln(p),p.i=null,p.g.forEach(function(_,F){const z=F.toLowerCase();F!=z&&(Sr(this,F),Xi(this,z,_))},p)),p.j=C}function Xn(p,C){const _=new Ae;if(a.Image){const F=new Image;F.onload=m(NA,_,"TestLoadImage: loaded",!0,C,F),F.onerror=m(NA,_,"TestLoadImage: error",!1,C,F),F.onabort=m(NA,_,"TestLoadImage: abort",!1,C,F),F.ontimeout=m(NA,_,"TestLoadImage: timeout",!1,C,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else C(!1)}function Pl(p,C){const _=new Ae,F=new AbortController,z=setTimeout(()=>{F.abort(),NA(_,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:F.signal}).then(ee=>{clearTimeout(z),ee.ok?NA(_,"TestPingServer: ok",!0,C):NA(_,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(z),NA(_,"TestPingServer: error",!1,C)})}function NA(p,C,_,F,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),F(_)}catch{}}function $i(){this.g=new AA}function Fr(p){this.i=p.Sb||null,this.h=p.ab||!1}v(Fr,nr),Fr.prototype.g=function(){return new ho(this.i,this.h)};function ho(p,C){kt.call(this),this.H=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ho,kt),n=ho.prototype,n.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=C,this.readyState=1,rr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(C.body=p),(this.H||a).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?Zi(this):rr(this),this.readyState==3&&ua(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Zi(this))},n.Na=function(p){this.g&&(this.response=p,Zi(this))},n.ga=function(){this.g&&Zi(this)};function Zi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,rr(p)}n.setRequestHeader=function(p,C){this.A.append(p,C)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var _=C.next();!_.done;)_=_.value,p.push(_[0]+": "+_[1]),_=C.next();return p.join(`\r
`)};function rr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function DA(p){let C="";return Le(p,function(_,F){C+=F,C+=":",C+=_,C+=`\r
`}),C}function go(p,C,_){e:{for(F in _){var F=!1;break e}F=!0}F||(_=DA(_),typeof p=="string"?_!=null&&Ar(_):ce(p,C,_))}function mt(p){kt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(mt,kt);var Qr=/^https?$/i,Vl=["POST","PUT"];n=mt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,C,_,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():so.g(),this.g.onreadystatechange=w(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(ee){po(this,ee);return}if(p=_||"",_=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var z in F)_.set(z,F[z]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ee of F.keys())_.set(ee,F.get(ee));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(_.keys()).find(ee=>ee.toLowerCase()=="content-type"),z=a.FormData&&p instanceof a.FormData,!(Array.prototype.indexOf.call(Vl,C,void 0)>=0)||F||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of _)this.g.setRequestHeader(ee,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ee){po(this,ee)}};function po(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.o=5,Ol(p),ii(p)}function Ol(p){p.A||(p.A=!0,It(p,"complete"),It(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,It(this,"complete"),It(this,"abort"),ii(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),mt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?mo(this):this.Xa())},n.Xa=function(){mo(this)};function mo(p){if(p.h&&typeof o<"u"){if(p.v&&ir(p)==4)setTimeout(p.Ca.bind(p),0);else if(It(p,"readystatechange"),ir(p)==4){p.h=!1;try{const ee=p.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var _;if(!(_=C)){var F;if(F=ee===0){let ge=String(p.D).match(la)[1]||null;!ge&&a.self&&a.self.location&&(ge=a.self.location.protocol.slice(0,-1)),F=!Qr.test(ge?ge.toLowerCase():"")}_=F}if(_)It(p,"complete"),It(p,"success");else{p.o=6;try{var z=ir(p)>2?p.g.statusText:""}catch{z=""}p.l=z+" ["+p.ca()+"]",Ol(p)}}finally{ii(p)}}}}function ii(p,C){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const _=p.g;p.g=null,C||It(p,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ir(p){return p.g?p.g.readyState:0}n.ca=function(){try{return ir(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),Ml(C)}};function _n(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function si(p){const C={};p=(p.g&&ir(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(x(p[F]))continue;var _=oa(p[F]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ee=C[z]||[];C[z]=ee,ee.push(_)}qe(C,function(F){return F.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(p,C,_){return _&&_.internalChannelParams&&_.internalChannelParams[p]||C}function ji(p){this.za=0,this.i=[],this.j=new Ae,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,p),this.Za=Rr("retryDelaySeedMs",1e4,p),this.Ta=Rr("forwardChannelMaxRetries",2,p),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new oo(p&&p.concurrentRequestLimit),this.Ba=new $i,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ji.prototype,n.ka=8,n.I=1,n.connect=function(p,C,_,F){Mt(0),this.W=p,this.H=C||{},_&&F!==void 0&&(this.H.OSID=_,this.H.OAID=F),this.F=this.X,this.J=Vc(this,null,this.W),br(this)};function kl(p){if(ca(p),p.I==3){var C=p.V++,_=qt(p.J);if(ce(_,"SID",p.M),ce(_,"RID",C),ce(_,"TYPE","terminate"),yo(p,_),C=new pA(p,p.j,C),C.M=2,C.A=Se(qt(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(C.A.toString(),"")}catch{}!_&&a.Image&&(new Image().src=C.A,_=!0),_||(C.g=Oc(C.j,null),C.g.ea(C.A)),C.F=Date.now(),yA(C)}Pc(p)}function es(p){p.g&&(Gl(p),p.g.cancel(),p.g=null)}function ca(p){es(p),p.v&&(a.clearTimeout(p.v),p.v=null),da(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&a.clearTimeout(p.m),p.m=null)}function br(p){if(!ao(p.h)&&!p.m){p.m=!0;var C=p.Ea;ie||R(),Z||(ie(),Z=!0),b.add(C,p),p.D=0}}function fa(p,C){return bA(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=C.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Nn(d(p.Ea,p,C),Hc(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const z=new pA(this,this.j,p);let ee=this.o;if(this.U&&(ee?(ee=P(ee),fe(ee,this.U)):ee=this.U),this.u!==null||this.R||(z.J=ee,ee=null),this.S)e:{for(var C=0,_=0;_<this.i.length;_++){t:{var F=this.i[_];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(C+=F,C>4096){C=_;break e}if(C===4096||_===this.i.length-1){C=_+1;break e}}C=1e3}else C=1e3;C=Nc(this,z,C),_=qt(this.J),ce(_,"RID",p),ce(_,"CVER",22),this.G&&ce(_,"X-HTTP-Session-Id",this.G),yo(this,_),ee&&(this.R?C="headers="+Ar(DA(ee))+"&"+C:this.u&&go(_,this.u,ee)),lo(this.h,z),this.Ra&&ce(_,"TYPE","init"),this.S?(ce(_,"$req",C),ce(_,"SID","null"),z.U=!0,QA(z,_,null)):QA(z,_,C),this.I=2}}else this.I==3&&(p?Kl(this,p):this.i.length==0||ao(this.h)||Kl(this))};function Kl(p,C){var _;C?_=C.l:_=p.V++;const F=qt(p.J);ce(F,"SID",p.M),ce(F,"RID",_),ce(F,"AID",p.K),yo(p,F),p.u&&p.o&&go(F,p.u,p.o),_=new pA(p,p.j,_,p.D+1),p.u===null&&(_.J=p.o),C&&(p.i=C.G.concat(p.i)),C=Nc(p,_,1e3),_.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),lo(p.h,_),QA(_,F,C)}function yo(p,C){p.H&&Le(p.H,function(_,F){ce(C,F,_)}),p.l&&Le({},function(_,F){ce(C,F,_)})}function Nc(p,C,_){_=Math.min(p.i.length,_);const F=p.l?d(p.l.Ka,p.l,p):null;e:{var z=p.i;let Ke=-1;for(;;){const Yt=["count="+_];Ke==-1?_>0?(Ke=z[0].g,Yt.push("ofs="+Ke)):Ke=0:Yt.push("ofs="+Ke);let at=!0;for(let Ht=0;Ht<_;Ht++){var ee=z[Ht].g;const MA=z[Ht].map;if(ee-=Ke,ee<0)Ke=Math.max(0,z[Ht].g-100),at=!1;else try{ee="req"+ee+"_"||"";try{var ge=MA instanceof Map?MA:Object.entries(MA);for(const[Nr,sr]of ge){let or=sr;u(sr)&&(or=hA(sr)),Yt.push(ee+Nr+"="+encodeURIComponent(or))}}catch(Nr){throw Yt.push(ee+"type="+encodeURIComponent("_badmap")),Nr}}catch{F&&F(MA)}}if(at){ge=Yt.join("&");break e}}ge=void 0}return p=p.i.splice(0,_),C.G=p,ge}function Dc(p){if(!p.g&&!p.v){p.Y=1;var C=p.Da;ie||R(),Z||(ie(),Z=!0),b.add(C,p),p.A=0}}function Bo(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Nn(d(p.Da,p),Hc(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Nn(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),es(this),Mc(this))};function Gl(p){p.B!=null&&(a.clearTimeout(p.B),p.B=null)}function Mc(p){p.g=new pA(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var C=qt(p.na);ce(C,"RID","rpc"),ce(C,"SID",p.M),ce(C,"AID",p.K),ce(C,"CI",p.F?"0":"1"),!p.F&&p.ia&&ce(C,"TO",p.ia),ce(C,"TYPE","xmlhttp"),yo(p,C),p.u&&p.o&&go(C,p.u,p.o),p.O&&(p.g.H=p.O);var _=p.g;p=p.ba,_.M=1,_.A=Se(qt(C)),_.u=null,_.R=!0,Gi(_,p)}n.Va=function(){this.C!=null&&(this.C=null,es(this),Bo(this),Mt(19))};function da(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function Lc(p,C){var _=null;if(p.g==C){da(p),Gl(p),p.g=null;var F=2}else if(xA(p.h,C))_=C.G,zi(p.h,C),F=1;else return;if(p.I!=0){if(C.o)if(F==1){_=C.u?C.u.length:0,C=Date.now()-C.F;var z=p.D;F=Ki(),It(F,new iA(F,_)),br(p)}else Dc(p);else if(z=C.m,z==3||z==0&&C.X>0||!(F==1&&fa(p,C)||F==2&&Bo(p)))switch(_&&_.length>0&&(C=p.h,C.i=C.i.concat(_)),z){case 1:xr(p,5);break;case 4:xr(p,10);break;case 3:xr(p,6);break;default:xr(p,2)}}}function Hc(p,C){let _=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(_*=2),_*C}function xr(p,C){if(p.j.info("Error code "+C),C==2){var _=d(p.bb,p),F=p.Ua;const z=!F;F=new Mn(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||J(F,"https"),Se(F),z?Xn(F.toString(),_):Pl(F.toString(),_)}else Mt(2);p.I=0,p.l&&p.l.pa(C),Pc(p),ca(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Pc(p){if(p.I=0,p.ja=[],p.l){const C=uo(p.h);(C.length!=0||p.i.length!=0)&&(Q(p.ja,C),Q(p.ja,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.oa()}}function Vc(p,C,_){var F=_ instanceof Mn?qt(_):new Mn(_);if(F.g!="")C&&(F.g=C+"."+F.g),de(F,F.u);else{var z=a.location;F=z.protocol,C=C?C+"."+z.hostname:z.hostname,z=+z.port;const ee=new Mn(null);F&&J(ee,F),C&&(ee.g=C),z&&de(ee,z),_&&(ee.h=_),F=ee}return _=p.G,C=p.wa,_&&C&&ce(F,_,C),ce(F,"VER",p.ka),yo(p,F),F}function Oc(p,C,_){if(C&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Aa&&!p.ma?new mt(new Fr({ab:_})):new mt(p.ma),C.Fa(p.L),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}n=kc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ts(){}ts.prototype.g=function(p,C){return new Wn(p,C)};function Wn(p,C){kt.call(this),this.g=new ji(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(p?p["X-WebChannel-Client-Profile"]=C.sa:p={"X-WebChannel-Client-Profile":C.sa}),this.g.U=p,(p=C&&C.Qb)&&!x(p)&&(this.g.u=p),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!x(C)&&(this.g.G=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new oi(this)}v(Wn,kt),Wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){kl(this.g)},Wn.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var _={};_.__data__=p,p=_}else this.v&&(_={},_.__data__=hA(p),p=_);C.i.push(new Gt(C.Ya++,p)),C.I==3&&br(C)},Wn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,Wn.Z.N.call(this)};function Kc(p){gt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const _ in C){p=_;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}v(Kc,gt);function Gc(){rA.call(this),this.status=1}v(Gc,rA);function oi(p){this.g=p}v(oi,kc),oi.prototype.ra=function(){It(this.g,"a")},oi.prototype.qa=function(p){It(this.g,new Kc(p))},oi.prototype.pa=function(p){It(this.g,new Gc)},oi.prototype.oa=function(){It(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,lF=function(){return new ts},aF=function(){return Ki()},oF=Dt,Cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,bd=Ai,io.COMPLETE="complete",sF=io,no.EventType=gA,gA.OPEN="a",gA.CLOSE="b",gA.ERROR="c",gA.MESSAGE="d",kt.prototype.listen=kt.prototype.J,Hu=no,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,iF=mt}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});const oT="@firebase/firestore",aT="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Ph("@firebase/firestore");function $a(){return Xo.logLevel}function Ce(n,...e){if(Xo.logLevel<=je.DEBUG){const t=e.map(x0);Xo.debug(`Firestore (${Ul}): ${n}`,...t)}}function xi(n,...e){if(Xo.logLevel<=je.ERROR){const t=e.map(x0);Xo.error(`Firestore (${Ul}): ${n}`,...t)}}function pl(n,...e){if(Xo.logLevel<=je.WARN){const t=e.map(x0);Xo.warn(`Firestore (${Ul}): ${n}`,...t)}}function x0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let A="Unexpected state";typeof e=="string"?A=e:t=e,uF(n,A,t)}function uF(n,e,t){let A=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{A+=" CONTEXT: "+JSON.stringify(t)}catch{A+=" CONTEXT: "+t}throw xi(A),new Error(A)}function ct(n,e,t,A){let i="Unexpected state";typeof t=="string"?i=t:A=t,n||uF(e,i,A)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(On.UNAUTHENTICATED)))}shutdown(){}}class bO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xO{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let A=this.i;const i=f=>this.i!==A?(A=this.i,t(f)):Promise.resolve();let o=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ui,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ui)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((A=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):A?(ct(typeof A.accessToken=="string",31837,{l:A}),new cF(A.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class NO{constructor(e,t,A){this.P=e,this.T=t,this.I=A,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DO{constructor(e,t,A){this.P=e,this.T=t,this.I=A}getToken(){return Promise.resolve(new NO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,JA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const A=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>A(o)))};const i=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let A=0;A<n;A++)t[A]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let A="";for(;A.length<20;){const i=LO(40);for(let o=0;o<i.length;++o)A.length<20&&i[o]<t&&(A+=e.charAt(i[o]%62))}return A}}function et(n,e){return n<e?-1:n>e?1:0}function Ey(n,e){const t=Math.min(n.length,e.length);for(let A=0;A<t;A++){const i=n.charAt(A),o=e.charAt(A);if(i!==o)return Sm(i)===Sm(o)?et(i,o):Sm(i)?1:-1}return et(n.length,e.length)}const HO=55296,PO=57343;function Sm(n){const e=n.charCodeAt(0);return e>=HO&&e<=PO}function ml(n,e,t){return n.length===e.length&&n.every(((A,i)=>t(A,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__name__";class Vr{constructor(e,t,A){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),A===void 0?A=e.length-t:A>e.length-t&&Me(1746,{length:A,range:e.length-t}),this.segments=e,this.offset=t,this.len=A}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((A=>{t.push(A)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,A=this.limit();t<A;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const A=Math.min(e.length,t.length);for(let i=0;i<A;i++){const o=Vr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return et(e.length,t.length)}static compareSegments(e,t){const A=Vr.isNumericId(e),i=Vr.isNumericId(t);return A&&!i?-1:!A&&i?1:A&&i?Vr.extractNumericId(e).compare(Vr.extractNumericId(t)):Ey(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class Ft extends Vr{construct(e,t,A){return new Ft(e,t,A)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const A of e){if(A.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${A}). Paths must not contain // in them.`);t.push(...A.split("/").filter((i=>i.length>0)))}return new Ft(t)}static emptyPath(){return new Ft([])}}const VO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Vr{construct(e,t,A){return new Rn(e,t,A)}static isValidIdentifier(e){return VO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uT}static keyField(){return new Rn([uT])}static fromServerFormat(e){const t=[];let A="",i=0;const o=()=>{if(A.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(A),A=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);A+=f,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(A+=u,i++):(o(),i++)}if(o(),a)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(t)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Ft.fromString(e))}static fromName(e){return new Fe(Ft.fromString(e).popFirst(5))}static empty(){return new Fe(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n,e,t){if(!t)throw new ve(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OO(n,e,t,A){if(e===!0&&A===!0)throw new ve(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cT(n){if(!Fe.isDocumentKey(n))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fT(n){if(Fe.isDocumentKey(n))throw new ve(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dF(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(A){return A.constructor?A.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function Yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kh(n);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bc(n,e){if(!dF(n))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const A in e)if(e[A]){const i=e[A].typeString,o="value"in e[A]?{value:e[A].value}:void 0;if(!(A in n)){t=`JSON missing required field: '${A}'`;break}const a=n[A];if(i&&typeof a!==i){t=`JSON field '${A}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){t=`Expected '${A}' field to equal '${o.value}'`;break}}if(t)throw new ve(ae.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=-62135596800,hT=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),A=Math.floor((e-1e3*t)*hT);return new Qt(t,A)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dT)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hT}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bc(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:cn("string",Qt._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Qt(0,0))}static max(){return new Pe(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=-1;function kO(n,e){const t=n.toTimestamp().seconds,A=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(A===1e9?new Qt(t+1,0):new Qt(t,A));return new Ks(i,Fe.empty(),e)}function KO(n){return new Ks(n.readTime,n.key,oc)}class Ks{constructor(e,t,A){this.readTime=e,this.documentKey=t,this.largestBatchId=A}static min(){return new Ks(Pe.min(),Fe.empty(),oc)}static max(){return new Ks(Pe.max(),Fe.empty(),oc)}}function GO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(n.documentKey,e.documentKey),t!==0?t:et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==qO)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((A,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(A,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(A,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,A)=>{t(e)}))}static reject(e){return new le(((t,A)=>{A(e)}))}static waitFor(e){return new le(((t,A)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&t()}),(f=>A(f)))})),a=!0,o===i&&t()}))}static or(e){let t=le.resolve(!1);for(const A of e)t=t.next((i=>i?le.resolve(i):A()));return t}static forEach(e,t){const A=[];return e.forEach(((i,o)=>{A.push(t.call(this,i,o))})),this.waitFor(A)}static mapArray(e,t){return new le(((A,i)=>{const o=e.length,a=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((m=>{a[d]=m,++u,u===o&&A(a)}),(m=>i(m)))}}))}static doWhile(e,t){return new le(((A,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):A()};o()}))}}function JO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ql(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=A=>this.ae(A),this.ue=A=>t.writeSequenceNumber(A))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-1;function Gh(n){return n==null}function nh(n){return n===0&&1/n==-1/0}function YO(n){return typeof n=="number"&&Number.isInteger(n)&&!nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="";function XO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gT(e)),e=WO(n.get(t),e);return gT(e)}function WO(n,e){let t=e;const A=n.length;for(let i=0;i<A;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case hF:t+="";break;default:t+=o}}return t}function gT(n){return n+hF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new Kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const A=this.comparator(e,t.key);if(A===0)return t.value;A<0?t=t.left:A>0&&(t=t.right)}return null}indexOf(e){let t=0,A=this.root;for(;!A.isEmpty();){const i=this.comparator(e,A.key);if(i===0)return t+A.left.size;i<0?A=A.left:(t+=A.left.size+1,A=A.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,A)=>(e(t,A),!1)))}toString(){const e=[];return this.inorderTraversal(((t,A)=>(e.push(`${t}:${A}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new td(this.root,e,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new td(this.root,e,this.comparator,!0)}}class td{constructor(e,t,A,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?A(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,t,A,i,o){this.key=e,this.value=t,this.color=A??Qn.RED,this.left=i??Qn.EMPTY,this.right=o??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,A,i,o){return new Qn(e??this.key,t??this.value,A??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,A){let i=this;const o=A(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,A),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,A)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let A,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;A=i.right.min(),i=i.copy(A.key,A.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,A,i,o){return this}insert(e,t,A){return new Qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,A)=>(e(t),!1)))}forEachInRange(e,t){const A=this.data.getIteratorFrom(e[0]);for(;A.hasNext();){const i=A.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let A;for(A=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();A.hasNext();)if(!e(A.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(e){return new mT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((A=>{t=t.add(A)})),t}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),A=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=A.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new pn(this.comparator);return t.data=e,t}}class mT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new SA([])}unionWith(e){let t=new pn(Rn.comparator);for(const A of this.fields)t=t.add(A);for(const A of e)t=t.add(A);return new SA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((t,A)=>t.isEqual(A)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pF("Invalid base64 string: "+o):o}})(e);return new xn(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const A=new Uint8Array(t.length);for(let i=0;i<t.length;i++)A[i]=t.charCodeAt(i);return A})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const $O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=$O.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const A=new Date(n);return{seconds:Math.floor(A.getTime()/1e3),nanos:e}}return{seconds:jt(n.seconds),nanos:jt(n.nanos)}}function jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="server_timestamp",yF="__type__",BF="__previous_value__",vF="__local_write_time__";function M0(n){var t,A;return((A=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[yF])==null?void 0:A.stringValue)===mF}function qh(n){const e=n.mapValue.fields[BF];return M0(e)?qh(e):e}function ac(n){const e=Gs(n.mapValue.fields[vF].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,A,i,o,a,u,f,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=A,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const Ah="(default)";class lc{constructor(e,t){this.projectId=e,this.database=t||Ah}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="__type__",jO="__max__",nd={mapValue:{}},CF="__vector__",rh="value";function zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?M0(n)?4:tk(n)?9007199254740991:ek(n)?10:11:Me(28295,{value:n})}function Xr(n,e){if(n===e)return!0;const t=zs(n);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ac(n).isEqual(ac(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Gs(i.timestampValue),u=Gs(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return qs(i.bytesValue).isEqual(qs(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return jt(i.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return jt(i.integerValue)===jt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=jt(i.doubleValue),u=jt(o.doubleValue);return a===u?nh(a)===nh(u):isNaN(a)&&isNaN(u)}return!1})(n,e);case 9:return ml(n.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(pT(a)!==pT(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(u[f]===void 0||!Xr(a[f],u[f])))return!1;return!0})(n,e);default:return Me(52216,{left:n})}}function uc(n,e){return(n.values||[]).find((t=>Xr(t,e)))!==void 0}function yl(n,e){if(n===e)return 0;const t=zs(n),A=zs(e);if(t!==A)return et(t,A);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=jt(o.integerValue||o.doubleValue),f=jt(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return yT(n.timestampValue,e.timestampValue);case 4:return yT(ac(n),ac(e));case 5:return Ey(n.stringValue,e.stringValue);case 6:return(function(o,a){const u=qs(o),f=qs(a);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),f=a.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=et(u[d],f[d]);if(m!==0)return m}return et(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=et(jt(o.latitude),jt(a.latitude));return u!==0?u:et(jt(o.longitude),jt(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return BT(n.arrayValue,e.arrayValue);case 10:return(function(o,a){var w,T,Q,N;const u=o.fields||{},f=a.fields||{},d=(w=u[rh])==null?void 0:w.arrayValue,m=(T=f[rh])==null?void 0:T.arrayValue,v=et(((Q=d==null?void 0:d.values)==null?void 0:Q.length)||0,((N=m==null?void 0:m.values)==null?void 0:N.length)||0);return v!==0?v:BT(d,m)})(n.mapValue,e.mapValue);case 11:return(function(o,a){if(o===nd.mapValue&&a===nd.mapValue)return 0;if(o===nd.mapValue)return 1;if(a===nd.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=a.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let v=0;v<f.length&&v<m.length;++v){const w=Ey(f[v],m[v]);if(w!==0)return w;const T=yl(u[f[v]],d[m[v]]);if(T!==0)return T}return et(f.length,m.length)})(n.mapValue,e.mapValue);default:throw Me(23264,{he:t})}}function yT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);const t=Gs(n),A=Gs(e),i=et(t.seconds,A.seconds);return i!==0?i:et(t.nanos,A.nanos)}function BT(n,e){const t=n.values||[],A=e.values||[];for(let i=0;i<t.length&&i<A.length;++i){const o=yl(t[i],A[i]);if(o)return o}return et(t.length,A.length)}function Bl(n){return _y(n)}function _y(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const A=Gs(t);return`time(${A.seconds},${A.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return qs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let A="[",i=!0;for(const o of t.values||[])i?i=!1:A+=",",A+=_y(o);return A+"]"})(n.arrayValue):"mapValue"in n?(function(t){const A=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const a of A)o?o=!1:i+=",",i+=`${a}:${_y(t.fields[a])}`;return i+"}"})(n.mapValue):Me(61005,{value:n})}function xd(n){switch(zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(n);return e?16+xd(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(A){return(A.values||[]).reduce(((i,o)=>i+xd(o)),0)})(n.arrayValue);case 10:case 11:return(function(A){let i=0;return $s(A.fields,((o,a)=>{i+=o.length+xd(a)})),i})(n.mapValue);default:throw Me(13486,{value:n})}}function vT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ty(n){return!!n&&"integerValue"in n}function L0(n){return!!n&&"arrayValue"in n}function wT(n){return!!n&&"nullValue"in n}function CT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nd(n){return!!n&&"mapValue"in n}function ek(n){var t,A;return((A=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[wF])==null?void 0:A.stringValue)===CF}function Wu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return $s(n.mapValue.fields,((t,A)=>e.mapValue.fields[t]=Wu(A))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wu(n.arrayValue.values[t]);return e}return{...n}}function tk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.value=e}static empty(){return new dA({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let A=0;A<e.length-1;++A)if(t=(t.mapValue.fields||{})[e.get(A)],!Nd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(t)}setAll(e){let t=Rn.emptyPath(),A={},i=[];e.forEach(((a,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,A,i),A={},i=[],t=u.popLast()}a?A[u.lastSegment()]=Wu(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,A,i)}delete(e){const t=this.field(e.popLast());Nd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let A=0;A<e.length;++A){let i=t.mapValue.fields[e.get(A)];Nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(A)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,A){$s(t,((i,o)=>e[i]=o));for(const i of A)delete e[i]}clone(){return new dA(Wu(this.value))}}function EF(n){const e=[];return $s(n.fields,((t,A)=>{const i=new Rn([t]);if(Nd(A)){const o=EF(A.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new SA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t,A,i,o,a,u){this.key=e,this.documentType=t,this.version=A,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Kn(e,0,Pe.min(),Pe.min(),Pe.min(),dA.empty(),0)}static newFoundDocument(e,t,A,i){return new Kn(e,1,t,Pe.min(),A,i,0)}static newNoDocument(e,t){return new Kn(e,2,t,Pe.min(),Pe.min(),dA.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Pe.min(),Pe.min(),dA.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dA.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dA.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.position=e,this.inclusive=t}}function ET(n,e,t){let A=0;for(let i=0;i<n.position.length;i++){const o=e[i],a=n.position[i];if(o.field.isKeyField()?A=Fe.comparator(Fe.fromName(a.referenceValue),t.key):A=yl(a,t.data.field(o.field)),o.dir==="desc"&&(A*=-1),A!==0)break}return A}function _T(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t="asc"){this.field=e,this.dir=t}}function nk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{}class un extends _F{constructor(e,t,A){super(),this.field=e,this.op=t,this.value=A}static create(e,t,A){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,A):new rk(e,t,A):t==="array-contains"?new ok(e,A):t==="in"?new ak(e,A):t==="not-in"?new lk(e,A):t==="array-contains-any"?new uk(e,A):new un(e,t,A)}static createKeyFieldInFilter(e,t,A){return t==="in"?new ik(e,A):new sk(e,A)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yl(t,this.value)):t!==null&&zs(this.value)===zs(t)&&this.matchesComparison(yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends _F{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mr(e,t)}matches(e){return TF(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TF(n){return n.op==="and"}function IF(n){return Ak(n)&&TF(n)}function Ak(n){for(const e of n.filters)if(e instanceof mr)return!1;return!0}function Iy(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+Bl(n.value);if(IF(n))return n.filters.map((e=>Iy(e))).join(",");{const e=n.filters.map((t=>Iy(t))).join(",");return`${n.op}(${e})`}}function SF(n,e){return n instanceof un?(function(A,i){return i instanceof un&&A.op===i.op&&A.field.isEqual(i.field)&&Xr(A.value,i.value)})(n,e):n instanceof mr?(function(A,i){return i instanceof mr&&A.op===i.op&&A.filters.length===i.filters.length?A.filters.reduce(((o,a,u)=>o&&SF(a,i.filters[u])),!0):!1})(n,e):void Me(19439)}function UF(n){return n instanceof un?(function(t){return`${t.field.canonicalString()} ${t.op} ${Bl(t.value)}`})(n):n instanceof mr?(function(t){return t.op.toString()+" {"+t.getFilters().map(UF).join(" ,")+"}"})(n):"Filter"}class rk extends un{constructor(e,t,A){super(e,t,A),this.key=Fe.fromName(A.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class ik extends un{constructor(e,t){super(e,"in",t),this.keys=FF("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sk extends un{constructor(e,t){super(e,"not-in",t),this.keys=FF("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function FF(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((A=>Fe.fromName(A.referenceValue)))}class ok extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return L0(t)&&uc(t.arrayValue,this.value)}}class ak extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uc(this.value.arrayValue,t)}}class lk extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uc(this.value.arrayValue,t)}}class uk extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!L0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((A=>uc(this.value.arrayValue,A)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t=null,A=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=A,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function TT(n,e=null,t=[],A=[],i=null,o=null,a=null){return new ck(n,e,t,A,i,o,a)}function H0(n){const e=Oe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((A=>Iy(A))).join(","),t+="|ob:",t+=e.orderBy.map((A=>(function(o){return o.field.canonicalString()+o.dir})(A))).join(","),Gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((A=>Bl(A))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((A=>Bl(A))).join(",")),e.Te=t}return e.Te}function P0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_T(n.startAt,e.startAt)&&_T(n.endAt,e.endAt)}function Sy(n){return Fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t=null,A=[],i=[],o=null,a="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=A,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fk(n,e,t,A,i,o,a,u){return new vc(n,e,t,A,i,o,a,u)}function V0(n){return new vc(n)}function IT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function QF(n){return n.collectionGroup!==null}function $u(n){const e=Oe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const A=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new pn(Rn.comparator);return a.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new sh(o,A))})),t.has(Rn.keyField().canonicalString())||e.Ie.push(new sh(Rn.keyField(),A))}return e.Ie}function Or(n){const e=Oe(n);return e.Ee||(e.Ee=dk(e,$u(n))),e.Ee}function dk(n,e){if(n.limitType==="F")return TT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new sh(i.field,o)}));const t=n.endAt?new ih(n.endAt.position,n.endAt.inclusive):null,A=n.startAt?new ih(n.startAt.position,n.startAt.inclusive):null;return TT(n.path,n.collectionGroup,e,n.filters,n.limit,t,A)}}function Uy(n,e){const t=n.filters.concat([e]);return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fy(n,e,t){return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zh(n,e){return P0(Or(n),Or(e))&&n.limitType===e.limitType}function RF(n){return`${H0(Or(n))}|lt:${n.limitType}`}function Za(n){return`Query(target=${(function(t){let A=t.path.canonicalString();return t.collectionGroup!==null&&(A+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(A+=`, filters: [${t.filters.map((i=>UF(i))).join(", ")}]`),Gh(t.limit)||(A+=", limit: "+t.limit),t.orderBy.length>0&&(A+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(A+=", startAt: ",A+=t.startAt.inclusive?"b:":"a:",A+=t.startAt.position.map((i=>Bl(i))).join(",")),t.endAt&&(A+=", endAt: ",A+=t.endAt.inclusive?"a:":"b:",A+=t.endAt.position.map((i=>Bl(i))).join(",")),`Target(${A})`})(Or(n))}; limitType=${n.limitType})`}function Jh(n,e){return e.isFoundDocument()&&(function(A,i){const o=i.key.path;return A.collectionGroup!==null?i.key.hasCollectionId(A.collectionGroup)&&A.path.isPrefixOf(o):Fe.isDocumentKey(A.path)?A.path.isEqual(o):A.path.isImmediateParentOf(o)})(n,e)&&(function(A,i){for(const o of $u(A))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(A,i){for(const o of A.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(A,i){return!(A.startAt&&!(function(a,u,f){const d=ET(a,u,f);return a.inclusive?d<=0:d<0})(A.startAt,$u(A),i)||A.endAt&&!(function(a,u,f){const d=ET(a,u,f);return a.inclusive?d>=0:d>0})(A.endAt,$u(A),i))})(n,e)}function hk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bF(n){return(e,t)=>{let A=!1;for(const i of $u(n)){const o=gk(i,e,t);if(o!==0)return o;A=A||i.field.isKeyField()}return 0}}function gk(n,e,t){const A=n.field.isKeyField()?Fe.comparator(e.key,t.key):(function(o,a,u){const f=a.data.field(o),d=u.data.field(o);return f!==null&&d!==null?yl(f,d):Me(42886)})(n.field,e,t);switch(n.dir){case"asc":return A;case"desc":return-1*A;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),A=this.inner[t];if(A!==void 0){for(const[i,o]of A)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const A=this.mapKeyFn(e),i=this.inner[A];if(i===void 0)return this.inner[A]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),A=this.inner[t];if(A===void 0)return!1;for(let i=0;i<A.length;i++)if(this.equalsFn(A[i][0],e))return A.length===1?delete this.inner[t]:A.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,((t,A)=>{for(const[i,o]of A)e(i,o)}))}isEmpty(){return gF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Kt(Fe.comparator);function Ni(){return pk}const xF=new Kt(Fe.comparator);function Pu(...n){let e=xF;for(const t of n)e=e.insert(t.key,t);return e}function NF(n){let e=xF;return n.forEach(((t,A)=>e=e.insert(t,A.overlayedDocument))),e}function ko(){return Zu()}function DF(){return Zu()}function Zu(){return new na((n=>n.toString()),((n,e)=>n.isEqual(e)))}const mk=new Kt(Fe.comparator),yk=new pn(Fe.comparator);function tt(...n){let e=yk;for(const t of n)e=e.add(t);return e}const Bk=new pn(et);function vk(){return Bk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function MF(n){return{integerValue:""+n}}function wk(n,e){return YO(e)?MF(e):O0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function Ck(n,e,t){return n instanceof oh?(function(i,o){const a={fields:{[yF]:{stringValue:mF},[vF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&M0(o)&&(o=qh(o)),o&&(a.fields[BF]=o),{mapValue:a}})(t,e):n instanceof cc?HF(n,e):n instanceof fc?PF(n,e):(function(i,o){const a=LF(i,o),u=ST(a)+ST(i.Ae);return Ty(a)&&Ty(i.Ae)?MF(u):O0(i.serializer,u)})(n,e)}function Ek(n,e,t){return n instanceof cc?HF(n,e):n instanceof fc?PF(n,e):t}function LF(n,e){return n instanceof ah?(function(A){return Ty(A)||(function(o){return!!o&&"doubleValue"in o})(A)})(e)?e:{integerValue:0}:null}class oh extends Yh{}class cc extends Yh{constructor(e){super(),this.elements=e}}function HF(n,e){const t=VF(e);for(const A of n.elements)t.some((i=>Xr(i,A)))||t.push(A);return{arrayValue:{values:t}}}class fc extends Yh{constructor(e){super(),this.elements=e}}function PF(n,e){let t=VF(e);for(const A of n.elements)t=t.filter((i=>!Xr(i,A)));return{arrayValue:{values:t}}}class ah extends Yh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ST(n){return jt(n.integerValue||n.doubleValue)}function VF(n){return L0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _k(n,e){return n.field.isEqual(e.field)&&(function(A,i){return A instanceof cc&&i instanceof cc||A instanceof fc&&i instanceof fc?ml(A.elements,i.elements,Xr):A instanceof ah&&i instanceof ah?Xr(A.Ae,i.Ae):A instanceof oh&&i instanceof oh})(n.transform,e.transform)}class Tk{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xh{}function OF(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new k0(n.key,gr.none()):new wc(n.key,n.data,gr.none());{const t=n.data,A=dA.empty();let i=new pn(Rn.comparator);for(let o of e.fields)if(!i.has(o)){let a=t.field(o);a===null&&o.length>1&&(o=o.popLast(),a=t.field(o)),a===null?A.delete(o):A.set(o,a),i=i.add(o)}return new Zs(n.key,A,new SA(i.toArray()),gr.none())}}function Ik(n,e,t){n instanceof wc?(function(i,o,a){const u=i.value.clone(),f=FT(i.fieldTransforms,o,a.transformResults);u.setAll(f),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Zs?(function(i,o,a){if(!Dd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=FT(i.fieldTransforms,o,a.transformResults),f=o.data;f.setAll(kF(i)),f.setAll(u),o.convertToFoundDocument(a.version,f).setHasCommittedMutations()})(n,e,t):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function ju(n,e,t,A){return n instanceof wc?(function(o,a,u,f){if(!Dd(o.precondition,a))return u;const d=o.value.clone(),m=QT(o.fieldTransforms,f,a);return d.setAll(m),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(n,e,t,A):n instanceof Zs?(function(o,a,u,f){if(!Dd(o.precondition,a))return u;const d=QT(o.fieldTransforms,f,a),m=a.data;return m.setAll(kF(o)),m.setAll(d),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,A):(function(o,a,u){return Dd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(n,e,t)}function Sk(n,e){let t=null;for(const A of n.fieldTransforms){const i=e.data.field(A.field),o=LF(A.transform,i||null);o!=null&&(t===null&&(t=dA.empty()),t.set(A.field,o))}return t||null}function UT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(A,i){return A===void 0&&i===void 0||!(!A||!i)&&ml(A,i,((o,a)=>_k(o,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wc extends Xh{constructor(e,t,A,i=[]){super(),this.key=e,this.value=t,this.precondition=A,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zs extends Xh{constructor(e,t,A,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=A,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kF(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const A=n.data.field(t);e.set(t,A)}})),e}function FT(n,e,t){const A=new Map;ct(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const o=n[i],a=o.transform,u=e.data.field(o.field);A.set(o.field,Ek(a,u,t[i]))}return A}function QT(n,e,t){const A=new Map;for(const i of n){const o=i.transform,a=t.data.field(i.field);A.set(i.field,Ck(o,a,e))}return A}class k0 extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uk extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t,A,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=A,this.mutations=i}applyToRemoteDocument(e,t){const A=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ik(o,e,A[i])}}applyToLocalView(e,t){for(const A of this.baseMutations)A.key.isEqual(e.key)&&(t=ju(A,e,t,this.localWriteTime));for(const A of this.mutations)A.key.isEqual(e.key)&&(t=ju(A,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const A=DF();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=t.has(i.key)?null:u;const f=OF(a,u);f!==null&&A.set(i.key,f),a.isValidDocument()||a.convertToNoDocument(Pe.min())})),A}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),tt())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((t,A)=>UT(t,A)))&&ml(this.baseMutations,e.baseMutations,((t,A)=>UT(t,A)))}}class K0{constructor(e,t,A,i){this.batch=e,this.commitVersion=t,this.mutationResults=A,this.docVersions=i}static from(e,t,A){ct(e.mutations.length===A.length,58842,{me:e.mutations.length,fe:A.length});let i=(function(){return mk})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,A[a].version);return new K0(e,t,A,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,rt;function bk(n){switch(n){case ae.OK:return Me(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function KF(n){if(n===void 0)return xi("GRPC error has no .code"),ae.UNKNOWN;switch(n){case an.OK:return ae.OK;case an.CANCELLED:return ae.CANCELLED;case an.UNKNOWN:return ae.UNKNOWN;case an.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case an.INTERNAL:return ae.INTERNAL;case an.UNAVAILABLE:return ae.UNAVAILABLE;case an.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case an.NOT_FOUND:return ae.NOT_FOUND;case an.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case an.ABORTED:return ae.ABORTED;case an.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case an.DATA_LOSS:return ae.DATA_LOSS;default:return Me(39323,{code:n})}}(rt=an||(an={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Hs([4294967295,4294967295],0);function RT(n){const e=xk().encode(n),t=new rF;return t.update(e),new Uint8Array(t.digest())}function bT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),A=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hs([t,A],0),new Hs([i,o],0)]}class G0{constructor(e,t,A){if(this.bitmap=e,this.padding=t,this.hashCount=A,t<0||t>=8)throw new Vu(`Invalid padding: ${t}`);if(A<0)throw new Vu(`Invalid hash count: ${A}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${A}`);if(e.length===0&&t!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Hs.fromNumber(this.ge)}ye(e,t,A){let i=e.add(t.multiply(Hs.fromNumber(A)));return i.compare(Nk)===1&&(i=new Hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=RT(e),[A,i]=bT(t);for(let o=0;o<this.hashCount;o++){const a=this.ye(A,i,o);if(!this.we(a))return!1}return!0}static create(e,t,A){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new G0(o,i,t);return A.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const t=RT(e),[A,i]=bT(t);for(let o=0;o<this.hashCount;o++){const a=this.ye(A,i,o);this.Se(a)}}Se(e){const t=Math.floor(e/8),A=e%8;this.bitmap[t]|=1<<A}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,A,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=A,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,A){const i=new Map;return i.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,t,A)),new Wh(Pe.min(),i,new Kt(et),Ni(),tt())}}class Cc{constructor(e,t,A,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=A,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,A){return new Cc(A,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,A,i){this.be=e,this.removedTargetIds=t,this.key=A,this.De=i}}class GF{constructor(e,t){this.targetId=e,this.Ce=t}}class qF{constructor(e,t,A=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=A,this.cause=i}}class xT{constructor(){this.ve=0,this.Fe=NT(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),t=tt(),A=tt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:A=A.add(i);break;default:Me(38017,{changeType:o})}})),new Cc(this.Me,this.xe,e,t,A)}qe(){this.Oe=!1,this.Fe=NT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.Je=Ad(),this.He=Ad(),this.Ye=new Kt(et)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const A=this.nt(t);switch(e.state){case 0:this.rt(t)&&A.Le(e.resumeToken);break;case 1:A.Ke(),A.Ne||A.qe(),A.Le(e.resumeToken);break;case 2:A.Ke(),A.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(A.We(),A.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),A.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((A,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,A=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(Sy(o))if(A===0){const a=new Fe(o.path);this.et(t,a,Kn.newNoDocument(a,Pe.min()))}else ct(A===1,20013,{expectedCount:A});else{const a=this._t(t);if(a!==A){const u=this.ut(e),f=u?this.ct(u,e,a):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:A="",padding:i=0},hashCount:o=0}=t;let a,u;try{a=qs(A).toUint8Array()}catch(f){if(f instanceof pF)return pl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new G0(a,i,o)}catch(f){return pl(f instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,A){return t.Ce.count===A-this.Pt(e,t.targetId)?0:2}Pt(e,t){const A=this.Ge.getRemoteKeysForTarget(t);let i=0;return A.forEach((o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,a)=>{const u=this.ot(a);if(u){if(o.current&&Sy(u.target)){const f=new Fe(u.target.path);this.It(f).has(a)||this.Et(a,f)||this.et(a,f,Kn.newNoDocument(f,e))}o.Be&&(t.set(a,o.ke()),o.qe())}}));let A=tt();this.He.forEach(((o,a)=>{let u=!0;a.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(A=A.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new Wh(e,t,this.Ye,this.je,A);return this.je=Ni(),this.Je=Ad(),this.He=Ad(),this.Ye=new Kt(et),i}Xe(e,t){if(!this.rt(e))return;const A=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,A),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,A){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),A&&(this.je=this.je.insert(t,A))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new xT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new pn(et),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new pn(et),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ad(){return new Kt(Fe.comparator)}function NT(){return new Kt(Fe.comparator)}const Mk={asc:"ASCENDING",desc:"DESCENDING"},Lk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hk={and:"AND",or:"OR"};class Pk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qy(n,e){return n.useProto3Json||Gh(e)?e:{value:e}}function lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Vk(n,e){return lh(n,e.toTimestamp())}function kr(n){return ct(!!n,49232),Pe.fromTimestamp((function(t){const A=Gs(t);return new Qt(A.seconds,A.nanos)})(n))}function q0(n,e){return Ry(n,e).canonicalString()}function Ry(n,e){const t=(function(i){return new Ft(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function JF(n){const e=Ft.fromString(n);return ct(ZF(e),10190,{key:e.toString()}),e}function by(n,e){return q0(n.databaseId,e.path)}function Um(n,e){const t=JF(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(XF(t))}function YF(n,e){return q0(n.databaseId,e)}function Ok(n){const e=JF(n);return e.length===4?Ft.emptyPath():XF(e)}function xy(n){return new Ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XF(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DT(n,e,t){return{name:by(n,e),fields:t.value.mapValue.fields}}function kk(n,e){let t;if("targetChange"in e){e.targetChange;const A=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(ct(m===void 0||typeof m=="string",58123),xn.fromBase64String(m||"")):(ct(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),xn.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(d){const m=d.code===void 0?ae.UNKNOWN:KF(d.code);return new ve(m,d.message||"")})(a);t=new qF(A,i,o,u||null)}else if("documentChange"in e){e.documentChange;const A=e.documentChange;A.document,A.document.name,A.document.updateTime;const i=Um(n,A.document.name),o=kr(A.document.updateTime),a=A.document.createTime?kr(A.document.createTime):Pe.min(),u=new dA({mapValue:{fields:A.document.fields}}),f=Kn.newFoundDocument(i,o,a,u),d=A.targetIds||[],m=A.removedTargetIds||[];t=new Md(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const A=e.documentDelete;A.document;const i=Um(n,A.document),o=A.readTime?kr(A.readTime):Pe.min(),a=Kn.newNoDocument(i,o),u=A.removedTargetIds||[];t=new Md([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const A=e.documentRemove;A.document;const i=Um(n,A.document),o=A.removedTargetIds||[];t=new Md([],o,i,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const A=e.filter;A.targetId;const{count:i=0,unchangedNames:o}=A,a=new Rk(i,o),u=A.targetId;t=new GF(u,a)}}return t}function Kk(n,e){let t;if(e instanceof wc)t={update:DT(n,e.key,e.value)};else if(e instanceof k0)t={delete:by(n,e.key)};else if(e instanceof Zs)t={update:DT(n,e.key,e.data),updateMask:Zk(e.fieldMask)};else{if(!(e instanceof Uk))return Me(16599,{Vt:e.type});t={verify:by(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((A=>(function(o,a){const u=a.transform;if(u instanceof oh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ah)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw Me(20930,{transform:a.transform})})(0,A)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Vk(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)})(n,e.precondition)),t}function Gk(n,e){return n&&n.length>0?(ct(e!==void 0,14353),n.map((t=>(function(i,o){let a=i.updateTime?kr(i.updateTime):kr(o);return a.isEqual(Pe.min())&&(a=kr(o)),new Tk(a,i.transformResults||[])})(t,e)))):[]}function qk(n,e){return{documents:[YF(n,e.path)]}}function zk(n,e){const t={structuredQuery:{}},A=e.path;let i;e.collectionGroup!==null?(i=A,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=A.popLast(),t.structuredQuery.from=[{collectionId:A.lastSegment()}]),t.parent=YF(n,i);const o=(function(d){if(d.length!==0)return $F(mr.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const a=(function(d){if(d.length!==0)return d.map((m=>(function(w){return{field:ja(w.field),direction:Xk(w.dir)}})(m)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=Qy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function Jk(n){let e=Ok(n.parent);const t=n.structuredQuery,A=t.from?t.from.length:0;let i=null;if(A>0){ct(A===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=(function(v){const w=WF(v);return w instanceof mr&&IF(w)?w.getFilters():[w]})(t.where));let a=[];t.orderBy&&(a=(function(v){return v.map((w=>(function(Q){return new sh(el(Q.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(w)))})(t.orderBy));let u=null;t.limit&&(u=(function(v){let w;return w=typeof v=="object"?v.value:v,Gh(w)?null:w})(t.limit));let f=null;t.startAt&&(f=(function(v){const w=!!v.before,T=v.values||[];return new ih(T,w)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const w=!v.before,T=v.values||[];return new ih(T,w)})(t.endAt)),fk(e,i,a,o,u,"F",f,d)}function Yk(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WF(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const A=el(t.unaryFilter.field);return un.create(A,"==",{doubleValue:NaN});case"IS_NULL":const i=el(t.unaryFilter.field);return un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=el(t.unaryFilter.field);return un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=el(t.unaryFilter.field);return un.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(n):n.fieldFilter!==void 0?(function(t){return un.create(el(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return mr.create(t.compositeFilter.filters.map((A=>WF(A))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(t.compositeFilter.op))})(n):Me(30097,{filter:n})}function Xk(n){return Mk[n]}function Wk(n){return Lk[n]}function $k(n){return Hk[n]}function ja(n){return{fieldPath:n.canonicalString()}}function el(n){return Rn.fromServerFormat(n.fieldPath)}function $F(n){return n instanceof un?(function(t){if(t.op==="=="){if(CT(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NAN"}};if(wT(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CT(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NOT_NAN"}};if(wT(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(t.field),op:Wk(t.op),value:t.value}}})(n):n instanceof mr?(function(t){const A=t.getFilters().map((i=>$F(i)));return A.length===1?A[0]:{compositeFilter:{op:$k(t.op),filters:A}}})(n):Me(54877,{filter:n})}function Zk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ZF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,A,i,o=Pe.min(),a=Pe.min(),u=xn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=A,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.yt=e}}function e3(n){const e=Jk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.Cn=new n3}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ks.min())}updateCollectionGroup(e,t,A){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class n3{constructor(){this.index={}}add(e){const t=e.lastSegment(),A=e.popLast(),i=this.index[t]||new pn(Ft.comparator),o=!i.has(A);return this.index[t]=i.add(A),o}has(e){const t=e.lastSegment(),A=e.popLast(),i=this.index[t];return i&&i.has(A)}getEntries(e){return(this.index[e]||new pn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jF=41943040;class cA{static withCacheSize(e){return new cA(e,cA.DEFAULT_COLLECTION_PERCENTILE,cA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,A){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cA.DEFAULT_COLLECTION_PERCENTILE=10,cA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cA.DEFAULT=new cA(jF,cA.DEFAULT_COLLECTION_PERCENTILE,cA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cA.DISABLED=new cA(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="LruGarbageCollector",A3=1048576;function HT([n,e],[t,A]){const i=et(n,t);return i===0?et(e,A):i}class r3{constructor(e){this.Ir=e,this.buffer=new pn(HT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const A=this.buffer.last();HT(t,A)<0&&(this.buffer=this.buffer.delete(A).add(t))}}get maxValue(){return this.buffer.last()[0]}}class i3{constructor(e,t,A){this.garbageCollector=e,this.asyncQueue=t,this.localStore=A,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(LT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ql(t)?Ce(LT,"Ignoring IndexedDB error during garbage collection: ",t):await Fl(t)}await this.Vr(3e5)}))}}class s3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((A=>Math.floor(t/100*A)))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Kh.ce);const A=new r3(t);return this.mr.forEachTarget(e,(i=>A.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>A.Ar(i))))).next((()=>A.maxValue))}removeTargets(e,t,A){return this.mr.removeTargets(e,t,A)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(MT)):this.getCacheSize(e).next((A=>A<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${A} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let A,i,o,a,u,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,a=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(A=v,u=Date.now(),this.removeTargets(e,A,t)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,A)))).next((v=>(d=Date.now(),$a()<=je.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v}))))}}function o3(n,e){return new s3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.changes=new na((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const A=this.changes.get(t);return A!==void 0?le.resolve(A):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,t,A,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=A,this.indexManager=i}getDocument(e,t){let A=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(A=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(A!==null&&ju(A.mutation,i,SA.empty(),Qt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((A=>this.getLocalViewOfDocuments(e,A,tt()).next((()=>A))))}getLocalViewOfDocuments(e,t,A=tt()){const i=ko();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,A).next((o=>{let a=Pu();return o.forEach(((u,f)=>{a=a.insert(u,f.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const A=ko();return this.populateOverlays(e,A,t).next((()=>this.computeViews(e,t,A,tt())))}populateOverlays(e,t,A){const i=[];return A.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{t.set(a,u)}))}))}computeViews(e,t,A,i){let o=Ni();const a=Zu(),u=(function(){return Zu()})();return t.forEach(((f,d)=>{const m=A.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof Zs)?o=o.insert(d.key,d):m!==void 0?(a.set(d.key,m.mutation.getFieldMask()),ju(m.mutation,d,m.mutation.getFieldMask(),Qt.now())):a.set(d.key,SA.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,m)=>a.set(d,m))),t.forEach(((d,m)=>u.set(d,new l3(m,a.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,t){const A=Zu();let i=new Kt(((a,u)=>a-u)),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const u of a)u.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let m=A.get(f)||SA.empty();m=u.applyToLocalView(d,m),A.set(f,m);const v=(i.get(u.batchId)||tt()).add(f);i=i.insert(u.batchId,v)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,v=DF();m.forEach((w=>{if(!o.has(w)){const T=OF(t.get(w),A.get(w));T!==null&&v.set(w,T),o=o.add(w)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,v))}return le.waitFor(a)})).next((()=>A))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((A=>this.recalculateAndSaveOverlays(e,A)))}getDocumentsMatchingQuery(e,t,A,i){return(function(a){return Fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,A,i):this.getDocumentsMatchingCollectionQuery(e,t,A,i)}getNextDocuments(e,t,A,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,A,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,A.largestBatchId,i-o.size):le.resolve(ko());let u=oc,f=o;return a.next((d=>le.forEach(d,((m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?le.resolve():this.remoteDocumentCache.getEntry(e,m).next((w=>{f=f.insert(m,w)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,tt()))).next((m=>({batchId:u,changes:NF(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next((A=>{let i=Pu();return A.isFoundDocument()&&(i=i.insert(A.key,A)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,A,i){const o=t.collectionGroup;let a=Pu();return this.indexManager.getCollectionParents(e,o).next((u=>le.forEach(u,(f=>{const d=(function(v,w){return new vc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,A,i).next((m=>{m.forEach(((v,w)=>{a=a.insert(v,w)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,A,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,A.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,A,o,i)))).next((a=>{o.forEach(((f,d)=>{const m=d.getKey();a.get(m)===null&&(a=a.insert(m,Kn.newInvalidDocument(m)))}));let u=Pu();return a.forEach(((f,d)=>{const m=o.get(f);m!==void 0&&ju(m.mutation,d,SA.empty(),Qt.now()),Jh(t,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:kr(i.createTime)}})(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:e3(i.bundledQuery),readTime:kr(i.readTime)}})(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.overlays=new Kt(Fe.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const A=ko();return le.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&A.set(i,o)})))).next((()=>A))}saveOverlays(e,t,A){return A.forEach(((i,o)=>{this.St(e,t,o)})),le.resolve()}removeOverlaysForBatchId(e,t,A){const i=this.qr.get(A);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(A)),le.resolve()}getOverlaysForCollection(e,t,A){const i=ko(),o=t.length+1,a=new Fe(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>A&&i.set(f.getKey(),f)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,A,i){let o=new Kt(((d,m)=>d-m));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>A){let m=o.get(d.largestBatchId);m===null&&(m=ko(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=ko(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=i)););return le.resolve(u)}St(e,t,A){const i=this.overlays.get(A.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(A.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(A.key,new Qk(t,A));let o=this.qr.get(t);o===void 0&&(o=tt(),this.qr.set(t,o)),this.qr.set(t,o.add(A.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.Qr=new pn(vn.$r),this.Ur=new pn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const A=new vn(e,t);this.Qr=this.Qr.add(A),this.Ur=this.Ur.add(A)}Wr(e,t){e.forEach((A=>this.addReference(A,t)))}removeReference(e,t){this.Gr(new vn(e,t))}zr(e,t){e.forEach((A=>this.removeReference(A,t)))}jr(e){const t=new Fe(new Ft([])),A=new vn(t,e),i=new vn(t,e+1),o=[];return this.Ur.forEachInRange([A,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Fe(new Ft([])),A=new vn(t,e),i=new vn(t,e+1);let o=tt();return this.Ur.forEachInRange([A,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const t=new vn(e,0),A=this.Qr.firstAfterOrEqual(t);return A!==null&&e.isEqual(A.key)}}class vn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Fe.comparator(e.key,t.key)||et(e.Yr,t.Yr)}static Kr(e,t){return et(e.Yr,t.Yr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new pn(vn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,A,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Fk(o,t,A,i);this.mutationQueue.push(a);for(const u of i)this.Zr=this.Zr.add(new vn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const A=t+1,i=this.ei(A),o=i<0?0:i;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?D0:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const A=new vn(t,0),i=new vn(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([A,i],(a=>{const u=this.Xr(a.Yr);o.push(u)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let A=new pn(et);return t.forEach((i=>{const o=new vn(i,0),a=new vn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(u=>{A=A.add(u.Yr)}))})),le.resolve(this.ti(A))}getAllMutationBatchesAffectingQuery(e,t){const A=t.path,i=A.length+1;let o=A;Fe.isDocumentKey(o)||(o=o.child(""));const a=new vn(new Fe(o),0);let u=new pn(et);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!A.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),a),le.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((A=>{const i=this.Xr(A);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){ct(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let A=this.Zr;return le.forEach(t.mutations,(i=>{const o=new vn(i.key,t.batchId);return A=A.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=A}))}ir(e){}containsKey(e,t){const A=new vn(t,0),i=this.Zr.firstAfterOrEqual(A);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.ri=e,this.docs=(function(){return new Kt(Fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const A=t.key,i=this.docs.get(A),o=i?i.size:0,a=this.ri(t);return this.docs=this.docs.insert(A,{document:t.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,A.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const A=this.docs.get(t);return le.resolve(A?A.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let A=Ni();return t.forEach((i=>{const o=this.docs.get(i);A=A.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))})),le.resolve(A)}getDocumentsMatchingQuery(e,t,A,i){let o=Ni();const a=t.path,u=new Fe(a.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||GO(KO(m),A)<=0||(i.has(m.key)||Jh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,t,A,i){Me(9500)}ii(e,t){return le.forEach(this.docs,(A=>t(A)))}newChangeBuffer(e){return new p3(this)}getSize(e){return le.resolve(this.size)}}class p3 extends a3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((A,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(A)})),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.persistence=e,this.si=new na((t=>H0(t)),P0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new z0,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,t){return this.si.forEach(((A,i)=>t(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,A){return A&&(this.lastRemoteSnapshotVersion=A),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new vl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,A){let i=0;const o=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=t&&A.get(u.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),le.waitFor(o).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const A=this.si.get(t)||null;return le.resolve(A)}addMatchingKeys(e,t,A){return this._i.Wr(t,A),le.resolve()}removeMatchingKeys(e,t,A){this._i.zr(t,A);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const A=this._i.Hr(t);return le.resolve(A)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,t){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new d3,this.referenceDelegate=e(this),this.Pi=new m3(this),this.indexManager=new t3,this.remoteDocumentCache=(function(i){return new g3(i)})((A=>this.referenceDelegate.Ti(A))),this.serializer=new jk(t),this.Ii=new c3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new f3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let A=this.ui[e.toKey()];return A||(A=new h3(t,this.referenceDelegate),this.ui[e.toKey()]=A),A}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,A){Ce("MemoryPersistence","Starting transaction:",e);const i=new y3(this.ci.next());return this.referenceDelegate.Ei(),A(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return le.or(Object.values(this.ui).map((A=>()=>A.containsKey(e,t))))}}class y3 extends zO{constructor(e){super(),this.currentSequenceNumber=e}}class J0{constructor(e){this.persistence=e,this.Ri=new z0,this.Vi=null}static mi(e){return new J0(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,t,A){return this.Ri.addReference(A,t),this.fi.delete(A.toString()),le.resolve()}removeReference(e,t,A){return this.Ri.removeReference(A,t),this.fi.add(A.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const A=this.persistence.getTargetCache();return A.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>A.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(A=>{const i=Fe.fromPath(A);return this.gi(e,i).next((o=>{o||t.removeEntry(i,Pe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((A=>{A?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class uh{constructor(e,t){this.persistence=e,this.pi=new na((A=>XO(A.path)),((A,i)=>A.isEqual(i))),this.garbageCollector=o3(this,t)}static mi(e,t){return new uh(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((A=>t.next((i=>A+i))))}wr(e){let t=0;return this.pr(e,(A=>{t++})).next((()=>t))}pr(e,t){return le.forEach(this.pi,((A,i)=>this.br(e,A,i).next((o=>o?le.resolve():t(i)))))}removeTargets(e,t,A){return this.persistence.getTargetCache().removeTargets(e,t,A)}removeOrphanedDocuments(e,t){let A=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,t).next((u=>{u||(A++,o.removeEntry(a,Pe.min()))})))).next((()=>o.apply(e))).next((()=>A))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const A=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,A)}addReference(e,t,A){return this.pi.set(A,e.currentSequenceNumber),le.resolve()}removeReference(e,t,A){return this.pi.set(A,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xd(e.data.value)),t}br(e,t,A){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return le.resolve(i!==void 0&&i>A)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,A,i){this.targetId=e,this.fromCache=t,this.Es=A,this.ds=i}static As(e,t){let A=tt(),i=tt();for(const o of t.docChanges)switch(o.type){case 0:A=A.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Y0(e,t.fromCache,A,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return k2()?8:JO(qn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,A,i){const o={result:null};return this.ys(e,t).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,t,i,A).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new B3;return this.Ss(e,t,a).next((u=>{if(o.result=u,this.Vs)return this.bs(e,t,a,u.size)}))})).next((()=>o.result))}bs(e,t,A,i){return A.documentReadCount<this.fs?($a()<=je.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):($a()<=je.DEBUG&&Ce("QueryEngine","Query:",Za(t),"scans",A.documentReadCount,"local documents and returns",i,"documents as results."),A.documentReadCount>this.gs*i?($a()<=je.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):le.resolve())}ys(e,t){if(IT(t))return le.resolve(null);let A=Or(t);return this.indexManager.getIndexType(e,A).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Fy(t,null,"F"),A=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,A).next((o=>{const a=tt(...o);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,A).next((f=>{const d=this.Ds(t,u);return this.Cs(t,d,a,f.readTime)?this.ys(e,Fy(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,A,i){return IT(t)||i.isEqual(Pe.min())?le.resolve(null):this.ps.getDocuments(e,A).next((o=>{const a=this.Ds(t,o);return this.Cs(t,a,A,i)?le.resolve(null):($a()<=je.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Za(t)),this.vs(e,a,t,kO(i,oc)).next((u=>u)))}))}Ds(e,t){let A=new pn(bF(e));return t.forEach(((i,o)=>{Jh(e,o)&&(A=A.add(o))})),A}Cs(e,t,A,i){if(e.limit===null)return!1;if(A.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,A){return $a()<=je.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Za(t)),this.ps.getDocumentsMatchingQuery(e,t,Ks.min(),A)}vs(e,t,A,i){return this.ps.getDocumentsMatchingQuery(e,A,i).next((o=>(t.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="LocalStore",w3=3e8;class C3{constructor(e,t,A,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Kt(et),this.xs=new na((o=>H0(o)),P0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(A)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function E3(n,e,t,A){return new C3(n,e,t,A)}async function tQ(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",(A=>{let i;return t.mutationQueue.getAllMutationBatches(A).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(A)))).next((o=>{const a=[],u=[];let f=tt();for(const d of i){a.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(A,f).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:u})))}))}))}function _3(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(A=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,m){const v=d.batch,w=v.keys();let T=le.resolve();return w.forEach((Q=>{T=T.next((()=>m.getEntry(f,Q))).next((N=>{const D=d.docVersions.get(Q);ct(D!==null,48541),N.version.compareTo(D)<0&&(v.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),m.addEntry(N)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,v)))})(t,A,e,o).next((()=>o.apply(A))).next((()=>t.mutationQueue.performConsistencyCheck(A))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(A,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,(function(u){let f=tt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(A,i)))}))}function nQ(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function T3(n,e){const t=Oe(n),A=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach(((m,v)=>{const w=i.get(v);if(!w)return;u.push(t.Pi.removeMatchingKeys(o,m.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(o,m.addedDocuments,v))));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(xn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,A)),i=i.insert(v,T),(function(N,D,O){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=w3?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(w,T,m)&&u.push(t.Pi.updateTargetData(o,T))}));let f=Ni(),d=tt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(I3(o,a,e.documentUpdates).next((m=>{f=m.ks,d=m.qs}))),!A.isEqual(Pe.min())){const m=t.Pi.getLastRemoteSnapshotVersion(o).next((v=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,A)));u.push(m)}return le.waitFor(u).next((()=>a.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=i,o)))}function I3(n,e,t){let A=tt(),i=tt();return t.forEach((o=>A=A.add(o))),e.getEntries(n,A).next((o=>{let a=Ni();return t.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):Ce(X0,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:a,qs:i}}))}function S3(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(A=>(e===void 0&&(e=D0),t.mutationQueue.getNextMutationBatchAfterBatchId(A,e))))}function U3(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",(A=>{let i;return t.Pi.getTargetData(A,e).next((o=>o?(i=o,le.resolve(i)):t.Pi.allocateTargetId(A).next((a=>(i=new bs(e,a,"TargetPurposeListen",A.currentSequenceNumber),t.Pi.addTargetData(A,i).next((()=>i)))))))})).then((A=>{const i=t.Ms.get(A.targetId);return(i===null||A.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(A.targetId,A),t.xs.set(e,A.targetId)),A}))}async function Ny(n,e,t){const A=Oe(n),i=A.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await A.persistence.runTransaction("Release target",o,(a=>A.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Ql(a))throw a;Ce(X0,`Failed to update sequence numbers for target ${e}: ${a}`)}A.Ms=A.Ms.remove(e),A.xs.delete(i.target)}function PT(n,e,t){const A=Oe(n);let i=Pe.min(),o=tt();return A.persistence.runTransaction("Execute query","readwrite",(a=>(function(f,d,m){const v=Oe(f),w=v.xs.get(m);return w!==void 0?le.resolve(v.Ms.get(w)):v.Pi.getTargetData(d,m)})(A,a,Or(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,A.Pi.getMatchingKeysForTargetId(a,u.targetId).next((f=>{o=f}))})).next((()=>A.Fs.getDocumentsMatchingQuery(a,e,t?i:Pe.min(),t?o:tt()))).next((u=>(F3(A,hk(e),u),{documents:u,Qs:o})))))}function F3(n,e,t){let A=n.Os.get(e)||Pe.min();t.forEach(((i,o)=>{o.readTime.compareTo(A)>0&&(A=o.readTime)})),n.Os.set(e,A)}class VT{constructor(){this.activeTargetIds=vk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q3{constructor(){this.Mo=new VT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,A){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,A){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VT,Promise.resolve()}handleUserChange(e,t,A){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="ConnectivityMonitor";class kT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(OT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(OT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function Dy(){return rd===null?rd=(function(){return 268435456+Math.round(2147483648*Math.random())})():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",b3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",A=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${A}/databases/${i}`,this.Wo=this.databaseId.database===Ah?`project_id=${A}`:`project_id=${A}&database_id=${i}`}Go(e,t,A,i,o){const a=Dy(),u=this.zo(e,t.toUriEncodedString());Ce(Fm,`Sending RPC '${e}' ${a}:`,u,A);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:d}=new URL(u),m=Il(d);return this.Jo(e,u,f,A,m).then((v=>(Ce(Fm,`Received RPC '${e}' ${a}: `,v),v)),(v=>{throw pl(Fm,`RPC '${e}' ${a} failed with error: `,v,"url: ",u,"request:",A),v}))}Ho(e,t,A,i,o,a){return this.Go(e,t,A,i,o)}jo(e,t,A){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),A&&A.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){const A=b3[e];return`${this.Uo}/v1/${t}:${A}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class D3 extends x3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,A,i,o){const a=Dy();return new Promise(((u,f)=>{const d=new iF;d.setWithCredentials(!0),d.listenOnce(sF.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case bd.NO_ERROR:const v=d.getResponseJson();Ce(Pn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case bd.TIMEOUT:Ce(Pn,`RPC '${e}' ${a} timed out`),f(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const w=d.getStatus();if(Ce(Pn,`RPC '${e}' ${a} failed with status:`,w,"response text:",d.getResponseText()),w>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const Q=T==null?void 0:T.error;if(Q&&Q.status&&Q.message){const N=(function(O){const q=O.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(q)>=0?q:ae.UNKNOWN})(Q.status);f(new ve(N,Q.message))}else f(new ve(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ce(Pn,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(i);Ce(Pn,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",m,A,15)}))}T_(e,t,A){const i=Dy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lF(),u=aF(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,A),f.encodeInitMessageHeaders=!0;const m=o.join("");Ce(Pn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const v=a.createWebChannel(m,f);this.I_(v);let w=!1,T=!1;const Q=new N3({Yo:D=>{T?Ce(Pn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(w||(Ce(Pn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),Ce(Pn,`RPC '${e}' stream ${i} sending:`,D),v.send(D))},Zo:()=>v.close()}),N=(D,O,q)=>{D.listen(O,(W=>{try{q(W)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return N(v,Hu.EventType.OPEN,(()=>{T||(Ce(Pn,`RPC '${e}' stream ${i} transport opened.`),Q.o_())})),N(v,Hu.EventType.CLOSE,(()=>{T||(T=!0,Ce(Pn,`RPC '${e}' stream ${i} transport closed`),Q.a_(),this.E_(v))})),N(v,Hu.EventType.ERROR,(D=>{T||(T=!0,pl(Pn,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),Q.a_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))})),N(v,Hu.EventType.MESSAGE,(D=>{var O;if(!T){const q=D.data[0];ct(!!q,16349);const W=q,ne=(W==null?void 0:W.error)||((O=W[0])==null?void 0:O.error);if(ne){Ce(Pn,`RPC '${e}' stream ${i} received error:`,ne);const ie=ne.status;let Z=(function(U){const M=an[U];if(M!==void 0)return KF(M)})(ie),b=ne.message;Z===void 0&&(Z=ae.INTERNAL,b="Unknown error status: "+ie+" with message "+ne.message),T=!0,Q.a_(new ve(Z,b)),v.close()}else Ce(Pn,`RPC '${e}' stream ${i} received:`,q),Q.u_(q)}})),N(u,oF.STAT_EVENT,(D=>{D.stat===Cy.PROXY?Ce(Pn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Cy.NOPROXY&&Ce(Pn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n){return new Pk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e,t,A=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=A,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),A=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-A);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${A} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class rQ{constructor(e,t,A,i,o,a,u,f){this.Mi=e,this.S_=A,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AQ(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(xi(t.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([A,i])=>{this.D_===t&&this.G_(A,i)}),(A=>{e((()=>{const i=new ve(ae.UNKNOWN,"Fetching auth token failed: "+A.message);return this.z_(i)}))}))}G_(e,t){const A=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{A((()=>this.listener.Xo()))})),this.stream.t_((()=>{A((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{A((()=>this.z_(i)))})),this.stream.onMessage((i=>{A((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ce(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M3 extends rQ{constructor(e,t,A,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,A,i,a),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=kk(this.serializer,e),A=(function(o){if(!("targetChange"in o))return Pe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Pe.min():a.readTime?kr(a.readTime):Pe.min()})(e);return this.listener.H_(t,A)}Y_(e){const t={};t.database=xy(this.serializer),t.addTarget=(function(o,a){let u;const f=a.target;if(u=Sy(f)?{documents:qk(o,f)}:{query:zk(o,f).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=zF(o,a.resumeToken);const d=Qy(o,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(Pe.min())>0){u.readTime=lh(o,a.snapshotVersion.toTimestamp());const d=Qy(o,a.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const A=Yk(this.serializer,e);A&&(t.labels=A),this.q_(t)}Z_(e){const t={};t.database=xy(this.serializer),t.removeTarget=e,this.q_(t)}}class L3 extends rQ{constructor(e,t,A,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,A,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Gk(e.writeResults,e.commitTime),A=kr(e.commitTime);return this.listener.na(A,t)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((A=>Kk(this.serializer,A)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{}class P3 extends H3{constructor(e,t,A,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=A,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,A,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,Ry(t,A),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ae.UNKNOWN,o.toString())}))}Ho(e,t,A,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,Ry(t,A),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(ae.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class V3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(t),this.aa=!1):Ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="RemoteStore";class O3{constructor(e,t,A,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=A,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{A.enqueueAndForget((async()=>{Aa(this)&&(Ce(Wo,"Restarting streams for network reachability change."),await(async function(f){const d=Oe(f);d.Ea.add(4),await Ec(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Zh(d)})(this))}))})),this.Ra=new V3(A,i)}}async function Zh(n){if(Aa(n))for(const e of n.da)await e(!0)}async function Ec(n){for(const e of n.da)await e(!1)}function iQ(n,e){const t=Oe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),j0(t)?Z0(t):Rl(t).O_()&&$0(t,e))}function W0(n,e){const t=Oe(n),A=Rl(t);t.Ia.delete(e),A.O_()&&sQ(t,e),t.Ia.size===0&&(A.O_()?A.L_():Aa(t)&&t.Ra.set("Unknown"))}function $0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rl(n).Y_(e)}function sQ(n,e){n.Va.Ue(e),Rl(n).Z_(e)}function Z0(n){n.Va=new Dk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Rl(n).start(),n.Ra.ua()}function j0(n){return Aa(n)&&!Rl(n).x_()&&n.Ia.size>0}function Aa(n){return Oe(n).Ea.size===0}function oQ(n){n.Va=void 0}async function k3(n){n.Ra.set("Online")}async function K3(n){n.Ia.forEach(((e,t)=>{$0(n,e)}))}async function G3(n,e){oQ(n),j0(n)?(n.Ra.ha(e),Z0(n)):n.Ra.set("Unknown")}async function q3(n,e,t){if(n.Ra.set("Online"),e instanceof qF&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.Va.removeTarget(u))})(n,e)}catch(A){Ce(Wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),A),await ch(n,A)}else if(e instanceof Md?n.Va.Ze(e):e instanceof GF?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const A=await nQ(n.localStore);t.compareTo(A)>=0&&await(function(o,a){const u=o.Va.Tt(a);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(f.resumeToken,a))}})),u.targetMismatches.forEach(((f,d)=>{const m=o.Ia.get(f);if(!m)return;o.Ia.set(f,m.withResumeToken(xn.EMPTY_BYTE_STRING,m.snapshotVersion)),sQ(o,f);const v=new bs(m.target,f,d,m.sequenceNumber);$0(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(A){Ce(Wo,"Failed to raise snapshot:",A),await ch(n,A)}}async function ch(n,e,t){if(!Ql(e))throw e;n.Ea.add(1),await Ec(n),n.Ra.set("Offline"),t||(t=()=>nQ(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ce(Wo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Zh(n)}))}function aQ(n,e){return e().catch((t=>ch(n,t,e)))}async function jh(n){const e=Oe(n),t=Js(e);let A=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:D0;for(;z3(e);)try{const i=await S3(e.localStore,A);if(i===null){e.Ta.length===0&&t.L_();break}A=i.batchId,J3(e,i)}catch(i){await ch(e,i)}lQ(e)&&uQ(e)}function z3(n){return Aa(n)&&n.Ta.length<10}function J3(n,e){n.Ta.push(e);const t=Js(n);t.O_()&&t.X_&&t.ea(e.mutations)}function lQ(n){return Aa(n)&&!Js(n).x_()&&n.Ta.length>0}function uQ(n){Js(n).start()}async function Y3(n){Js(n).ra()}async function X3(n){const e=Js(n);for(const t of n.Ta)e.ea(t.mutations)}async function W3(n,e,t){const A=n.Ta.shift(),i=K0.from(A,e,t);await aQ(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await jh(n)}async function $3(n,e){e&&Js(n).X_&&await(async function(A,i){if((function(a){return bk(a)&&a!==ae.ABORTED})(i.code)){const o=A.Ta.shift();Js(A).B_(),await aQ(A,(()=>A.remoteSyncer.rejectFailedWrite(o.batchId,i))),await jh(A)}})(n,e),lQ(n)&&uQ(n)}async function GT(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),Ce(Wo,"RemoteStore received new credentials");const A=Aa(t);t.Ea.add(3),await Ec(t),A&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Zh(t)}async function Z3(n,e){const t=Oe(n);e?(t.Ea.delete(2),await Zh(t)):e||(t.Ea.add(2),await Ec(t),t.Ra.set("Unknown"))}function Rl(n){return n.ma||(n.ma=(function(t,A,i){const o=Oe(t);return o.sa(),new M3(A,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:k3.bind(null,n),t_:K3.bind(null,n),r_:G3.bind(null,n),H_:q3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),j0(n)?Z0(n):n.Ra.set("Unknown")):(await n.ma.stop(),oQ(n))}))),n.ma}function Js(n){return n.fa||(n.fa=(function(t,A,i){const o=Oe(t);return o.sa(),new L3(A,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Y3.bind(null,n),r_:$3.bind(null,n),ta:X3.bind(null,n),na:W3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await jh(n)):(await n.fa.stop(),n.Ta.length>0&&(Ce(Wo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,t,A,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=A,this.op=i,this.removalCallback=o,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,A,i,o){const a=Date.now()+A,u=new eB(e,t,a,i,o);return u.start(A),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tB(n,e){if(xi("AsyncQueue",`${e}: ${n}`),Ql(n))return new ve(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(t,A)=>e(t,A)||Fe.comparator(t.key,A.key):(t,A)=>Fe.comparator(t.key,A.key),this.keyedMap=Pu(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,A)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),A=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=A.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const A=new ul;return A.comparator=this.comparator,A.keyedMap=e,A.sortedSet=t,A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.ga=new Kt(Fe.comparator)}track(e){const t=e.doc.key,A=this.ga.get(t);A?e.type!==0&&A.type===3?this.ga=this.ga.insert(t,e):e.type===3&&A.type!==1?this.ga=this.ga.insert(t,{type:A.type,doc:e.doc}):e.type===2&&A.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&A.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&A.type===0?this.ga=this.ga.remove(t):e.type===1&&A.type===2?this.ga=this.ga.insert(t,{type:1,doc:A.doc}):e.type===0&&A.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:A}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,A)=>{e.push(A)})),e}}class wl{constructor(e,t,A,i,o,a,u,f,d){this.query=e,this.docs=t,this.oldDocs=A,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,A,i,o){const a=[];return t.forEach((u=>{a.push({type:0,doc:u})})),new wl(e,t,ul.emptySet(t),a,A,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,A=e.docChanges;if(t.length!==A.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==A[i].type||!t[i].doc.isEqual(A[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eK{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,A){const i=Oe(t),o=i.queries;i.queries=zT(),o.forEach(((a,u)=>{for(const f of u.Sa)f.onError(A)}))})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function zT(){return new na((n=>RF(n)),zh)}async function cQ(n,e){const t=Oe(n);let A=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(A=2):(o=new j3,A=e.Da()?0:1);try{switch(A){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const u=tB(a,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&nB(t)}async function fQ(n,e){const t=Oe(n),A=e.query;let i=3;const o=t.queries.get(A);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(A),t.onUnlisten(A,!0);case 1:return t.queries.delete(A),t.onUnlisten(A,!1);case 2:return t.onLastRemoteStoreUnlisten(A);default:return}}function tK(n,e){const t=Oe(n);let A=!1;for(const i of e){const o=i.query,a=t.queries.get(o);if(a){for(const u of a.Sa)u.Fa(i)&&(A=!0);a.wa=i}}A&&nB(t)}function nK(n,e,t){const A=Oe(n),i=A.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);A.queries.delete(e)}function nB(n){n.Ca.forEach((e=>{e.next()}))}var My,JT;(JT=My||(My={})).Ma="default",JT.Cache="cache";class dQ{constructor(e,t,A){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=A||{}}Fa(e){if(!this.options.includeMetadataChanges){const A=[];for(const i of e.docChanges)i.type!==3&&A.push(i);e=new wl(e.query,e.docs,e.oldDocs,A,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const A=t!=="Offline";return(!this.options.qa||!A)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==My.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.key=e}}class gQ{constructor(e){this.key=e}}class AK{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=bF(e),this.tu=new ul(this.eu)}get nu(){return this.Ya}ru(e,t){const A=t?t.iu:new qT,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,v)=>{const w=i.get(m),T=Jh(this.query,v)?v:null,Q=!!w&&this.mutatedKeys.has(w.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let D=!1;w&&T?w.data.isEqual(T.data)?Q!==N&&(A.track({type:3,doc:T}),D=!0):this.su(w,T)||(A.track({type:2,doc:T}),D=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(u=!0)):!w&&T?(A.track({type:0,doc:T}),D=!0):w&&!T&&(A.track({type:1,doc:w}),D=!0,(f||d)&&(u=!0)),D&&(T?(a=a.add(T),o=N?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),A.track({type:1,doc:m})}return{tu:a,iu:A,Cs:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,A,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((m,v)=>(function(T,Q){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:D})}};return N(T)-N(Q)})(m.type,v.type)||this.eu(m.doc,v.doc))),this.ou(A),i=i??!1;const u=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,a.length!==0||d?{snapshot:new wl(this.query,e.tu,o,a,e.mutatedKeys,f===0,d,!1,!!A&&A.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((A=>{this.uu(A.key)&&(this.Xa=this.Xa.add(A.key))}));const t=[];return e.forEach((A=>{this.Xa.has(A)||t.push(new gQ(A))})),this.Xa.forEach((A=>{e.has(A)||t.push(new hQ(A))})),t}cu(e){this.Ya=e.Qs,this.Xa=tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AB="SyncEngine";class rK{constructor(e,t,A){this.query=e,this.targetId=t,this.view=A}}class iK{constructor(e){this.key=e,this.hu=!1}}class sK{constructor(e,t,A,i,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=A,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new na((u=>RF(u)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new Kt(Fe.comparator),this.Au=new Map,this.Ru=new z0,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oK(n,e,t=!0){const A=wQ(n);let i;const o=A.Tu.get(e);return o?(A.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await pQ(A,e,t,!0),i}async function aK(n,e){const t=wQ(n);await pQ(t,e,!0,!1)}async function pQ(n,e,t,A){const i=await U3(n.localStore,Or(e)),o=i.targetId,a=n.sharedClientState.addLocalQueryTarget(o,t);let u;return A&&(u=await lK(n,e,o,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&iQ(n.remoteStore,i),u}async function lK(n,e,t,A,i){n.pu=(v,w,T)=>(async function(N,D,O,q){let W=D.view.ru(O);W.Cs&&(W=await PT(N.localStore,D.query,!1).then((({documents:b})=>D.view.ru(b,W))));const ne=q&&q.targetChanges.get(D.targetId),ie=q&&q.targetMismatches.get(D.targetId)!=null,Z=D.view.applyChanges(W,N.isPrimaryClient,ne,ie);return XT(N,D.targetId,Z.au),Z.snapshot})(n,v,w,T);const o=await PT(n.localStore,e,!0),a=new AK(e,o.Qs),u=a.ru(o.documents),f=Cc.createSynthesizedTargetChangeForCurrentChange(t,A&&n.onlineState!=="Offline",i),d=a.applyChanges(u,n.isPrimaryClient,f);XT(n,t,d.au);const m=new rK(e,t,a);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function uK(n,e,t){const A=Oe(n),i=A.Tu.get(e),o=A.Iu.get(i.targetId);if(o.length>1)return A.Iu.set(i.targetId,o.filter((a=>!zh(a,e)))),void A.Tu.delete(e);A.isPrimaryClient?(A.sharedClientState.removeLocalQueryTarget(i.targetId),A.sharedClientState.isActiveQueryTarget(i.targetId)||await Ny(A.localStore,i.targetId,!1).then((()=>{A.sharedClientState.clearQueryState(i.targetId),t&&W0(A.remoteStore,i.targetId),Ly(A,i.targetId)})).catch(Fl)):(Ly(A,i.targetId),await Ny(A.localStore,i.targetId,!0))}async function cK(n,e){const t=Oe(n),A=t.Tu.get(e),i=t.Iu.get(A.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(A.targetId),W0(t.remoteStore,A.targetId))}async function fK(n,e,t){const A=BK(n);try{const i=await(function(a,u){const f=Oe(a),d=Qt.now(),m=u.reduce(((T,Q)=>T.add(Q.key)),tt());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let Q=Ni(),N=tt();return f.Ns.getEntries(T,m).next((D=>{Q=D,Q.forEach(((O,q)=>{q.isValidDocument()||(N=N.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,Q))).next((D=>{v=D;const O=[];for(const q of u){const W=Sk(q,v.get(q.key).overlayedDocument);W!=null&&O.push(new Zs(q.key,W,EF(W.value.mapValue),gr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,O,u)})).next((D=>{w=D;const O=D.applyToLocalDocumentSet(v,N);return f.documentOverlayCache.saveOverlays(T,D.batchId,O)}))})).then((()=>({batchId:w.batchId,changes:NF(v)})))})(A.localStore,e);A.sharedClientState.addPendingMutation(i.batchId),(function(a,u,f){let d=a.Vu[a.currentUser.toKey()];d||(d=new Kt(et)),d=d.insert(u,f),a.Vu[a.currentUser.toKey()]=d})(A,i.batchId,t),await _c(A,i.changes),await jh(A.remoteStore)}catch(i){const o=tB(i,"Failed to persist write");t.reject(o)}}async function mQ(n,e){const t=Oe(n);try{const A=await T3(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=t.Au.get(o);a&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?ct(a.hu,14607):i.removedDocuments.size>0&&(ct(a.hu,42227),a.hu=!1))})),await _c(t,A,e)}catch(A){await Fl(A)}}function YT(n,e,t){const A=Oe(n);if(A.isPrimaryClient&&t===0||!A.isPrimaryClient&&t===1){const i=[];A.Tu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const f=Oe(a);f.onlineState=u;let d=!1;f.queries.forEach(((m,v)=>{for(const w of v.Sa)w.va(u)&&(d=!0)})),d&&nB(f)})(A.eventManager,e),i.length&&A.Pu.H_(i),A.onlineState=e,A.isPrimaryClient&&A.sharedClientState.setOnlineState(e)}}async function dK(n,e,t){const A=Oe(n);A.sharedClientState.updateQueryState(e,"rejected",t);const i=A.Au.get(e),o=i&&i.key;if(o){let a=new Kt(Fe.comparator);a=a.insert(o,Kn.newNoDocument(o,Pe.min()));const u=tt().add(o),f=new Wh(Pe.min(),new Map,new Kt(et),a,u);await mQ(A,f),A.du=A.du.remove(o),A.Au.delete(e),rB(A)}else await Ny(A.localStore,e,!1).then((()=>Ly(A,e,t))).catch(Fl)}async function hK(n,e){const t=Oe(n),A=e.batch.batchId;try{const i=await _3(t.localStore,e);BQ(t,A,null),yQ(t,A),t.sharedClientState.updateMutationState(A,"acknowledged"),await _c(t,i)}catch(i){await Fl(i)}}async function gK(n,e,t){const A=Oe(n);try{const i=await(function(a,u){const f=Oe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next((v=>(ct(v!==null,37113),m=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(A.localStore,e);BQ(A,e,t),yQ(A,e),A.sharedClientState.updateMutationState(e,"rejected",t),await _c(A,i)}catch(i){await Fl(i)}}function yQ(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function BQ(n,e,t){const A=Oe(n);let i=A.Vu[A.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),A.Vu[A.currentUser.toKey()]=i}}function Ly(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const A of n.Iu.get(e))n.Tu.delete(A),t&&n.Pu.yu(A,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((A=>{n.Ru.containsKey(A)||vQ(n,A)}))}function vQ(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(W0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),rB(n))}function XT(n,e,t){for(const A of t)A instanceof hQ?(n.Ru.addReference(A.key,e),pK(n,A)):A instanceof gQ?(Ce(AB,"Document no longer in limbo: "+A.key),n.Ru.removeReference(A.key,e),n.Ru.containsKey(A.key)||vQ(n,A.key)):Me(19791,{wu:A})}function pK(n,e){const t=e.key,A=t.path.canonicalString();n.du.get(t)||n.Eu.has(A)||(Ce(AB,"New document in limbo: "+t),n.Eu.add(A),rB(n))}function rB(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Fe(Ft.fromString(e)),A=n.fu.next();n.Au.set(A,new iK(t)),n.du=n.du.insert(t,A),iQ(n.remoteStore,new bs(Or(V0(t.path)),A,"TargetPurposeLimboResolution",Kh.ce))}}async function _c(n,e,t){const A=Oe(n),i=[],o=[],a=[];A.Tu.isEmpty()||(A.Tu.forEach(((u,f)=>{a.push(A.pu(f,e,t).then((d=>{var m;if((d||t)&&A.isPrimaryClient){const v=d?!d.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:m.current;A.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){i.push(d);const v=Y0.As(f.targetId,d);o.push(v)}})))})),await Promise.all(a),A.Pu.H_(i),await(async function(f,d){const m=Oe(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>le.forEach(d,(w=>le.forEach(w.Es,(T=>m.persistence.referenceDelegate.addReference(v,w.targetId,T))).next((()=>le.forEach(w.ds,(T=>m.persistence.referenceDelegate.removeReference(v,w.targetId,T)))))))))}catch(v){if(!Ql(v))throw v;Ce(X0,"Failed to update sequence numbers: "+v)}for(const v of d){const w=v.targetId;if(!v.fromCache){const T=m.Ms.get(w),Q=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(Q);m.Ms=m.Ms.insert(w,N)}}})(A.localStore,o))}async function mK(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){Ce(AB,"User change. New user:",e.toKey());const A=await tQ(t.localStore,e);t.currentUser=e,(function(o,a){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ve(ae.CANCELLED,a))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,A.removedBatchIds,A.addedBatchIds),await _c(t,A.Ls)}}function yK(n,e){const t=Oe(n),A=t.Au.get(e);if(A&&A.hu)return tt().add(A.key);{let i=tt();const o=t.Iu.get(e);if(!o)return i;for(const a of o){const u=t.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}function wQ(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dK.bind(null,e),e.Pu.H_=tK.bind(null,e.eventManager),e.Pu.yu=nK.bind(null,e.eventManager),e}function BK(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gK.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return E3(this.persistence,new v3,e.initialUser,this.serializer)}Cu(e){return new eQ(J0.mi,this.serializer)}Du(e){return new Q3}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class vK extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ct(this.persistence.referenceDelegate instanceof uh,46915);const A=this.persistence.referenceDelegate.garbageCollector;return new i3(A,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cA.withCacheSize(this.cacheSizeBytes):cA.DEFAULT;return new eQ((A=>uh.mi(A,t)),this.serializer)}}class Hy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=A=>YT(this.syncEngine,A,1),this.remoteStore.remoteSyncer.handleCredentialChange=mK.bind(null,this.syncEngine),await Z3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eK})()}createDatastore(e){const t=$h(e.databaseInfo.databaseId),A=(function(o){return new D3(o)})(e.databaseInfo);return(function(o,a,u,f){return new P3(o,a,u,f)})(e.authCredentials,e.appCheckCredentials,A,t)}createRemoteStore(e){return(function(A,i,o,a,u){return new O3(A,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>YT(this.syncEngine,t,0)),(function(){return kT.v()?new kT:new R3})())}createSyncEngine(e,t){return(function(i,o,a,u,f,d,m){const v=new sK(i,o,a,u,f,d);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const o=Oe(i);Ce(Wo,"RemoteStore shutting down."),o.Ea.add(5),await Ec(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Hy.provider={build:()=>new Hy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class wK{constructor(e,t,A,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=A,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=N0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(A,(async a=>{Ce(Ys,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(A,(a=>(Ce(Ys,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const A=tB(t,"Failed to shutdown persistence");e.reject(A)}})),e.promise}}async function Rm(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(Ys,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let A=t.initialUser;n.setCredentialChangeListener((async i=>{A.isEqual(i)||(await tQ(e.localStore,i),A=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function WT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CK(n);Ce(Ys,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((A=>GT(e.remoteStore,A))),n.setAppCheckTokenChangeListener(((A,i)=>GT(e.remoteStore,i))),n._onlineComponents=e}async function CK(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(Ys,"Using user provided OfflineComponentProvider");try{await Rm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;pl("Error using user provided cache. Falling back to memory cache: "+t),await Rm(n,new fh)}}else Ce(Ys,"Using default OfflineComponentProvider"),await Rm(n,new vK(void 0));return n._offlineComponents}async function EQ(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(Ys,"Using user provided OnlineComponentProvider"),await WT(n,n._uninitializedComponentsProvider._online)):(Ce(Ys,"Using default OnlineComponentProvider"),await WT(n,new Hy))),n._onlineComponents}function EK(n){return EQ(n).then((e=>e.syncEngine))}async function _Q(n){const e=await EQ(n),t=e.eventManager;return t.onListen=oK.bind(null,e.syncEngine),t.onUnlisten=uK.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aK.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cK.bind(null,e.syncEngine),t}function _K(n,e,t={}){const A=new Ui;return n.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,f,d){const m=new CQ({next:w=>{m.Nu(),a.enqueueAndForget((()=>fQ(o,v)));const T=w.docs.has(u);!T&&w.fromCache?d.reject(new ve(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&f&&f.source==="server"?d.reject(new ve(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new dQ(V0(u.path),m,{includeMetadataChanges:!0,qa:!0});return cQ(o,v)})(await _Q(n),n.asyncQueue,e,t,A))),A.promise}function TK(n,e,t={}){const A=new Ui;return n.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,f,d){const m=new CQ({next:w=>{m.Nu(),a.enqueueAndForget((()=>fQ(o,v))),w.fromCache&&f.source==="server"?d.reject(new ve(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new dQ(u,m,{includeMetadataChanges:!0,qa:!0});return cQ(o,v)})(await _Q(n),n.asyncQueue,e,t,A))),A.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ="firestore.googleapis.com",ZT=!0;class jT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IQ,this.ssl=ZT}else this.host=e.host,this.ssl=e.ssl??ZT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A3)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TQ(e.experimentalLongPollingOptions??{}),(function(A){if(A.timeoutSeconds!==void 0){if(isNaN(A.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (must not be NaN)`);if(A.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (minimum allowed value is 5)`);if(A.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(A,i){return A.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eg{constructor(e,t,A,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=A,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(A){if(!A)return new RO;switch(A.type){case"firstParty":return new DO(A.sessionIndex||"0",A.iamToken||null,A.authTokenFactory||null);case"provider":return A.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const A=$T.get(t);A&&(Ce("ComponentProvider","Removing Datastore"),$T.delete(t),A.terminate())})(this),Promise.resolve()}}function IK(n,e,t,A={}){var d;n=Yr(n,eg);const i=Il(e),o=n._getSettings(),a={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(IU(`https://${u}`),SU("Firestore",!0)),o.host!==IQ&&o.host!==u&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:A};if(!ks(f,a)&&(n._setSettings(f),A.mockUserToken)){let m,v;if(typeof A.mockUserToken=="string")m=A.mockUserToken,v=On.MOCK_USER;else{m=N2(A.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const w=A.mockUserToken.sub||A.mockUserToken.user_id;if(!w)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new On(w)}n._authCredentials=new bO(new cF(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t,A){this.converter=t,this._query=A,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class en{constructor(e,t,A){this.converter=t,this._key=A,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,A){if(Bc(t,en._jsonSchema))return new en(e,A||null,new Fe(Ft.fromString(t.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:cn("string",en._jsonSchemaVersion),referencePath:cn("string")};class Ps extends bl{constructor(e,t,A){super(e,t,V0(A)),this._path=A,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Fe(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function SK(n,e,...t){if(n=tn(n),fF("collection","path",e),n instanceof eg){const A=Ft.fromString(e,...t);return fT(A),new Ps(n,null,A)}{if(!(n instanceof en||n instanceof Ps))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const A=n._path.child(Ft.fromString(e,...t));return fT(A),new Ps(n.firestore,null,A)}}function Tc(n,e,...t){if(n=tn(n),arguments.length===1&&(e=N0.newId()),fF("doc","path",e),n instanceof eg){const A=Ft.fromString(e,...t);return cT(A),new en(n,null,new Fe(A))}{if(!(n instanceof en||n instanceof Ps))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const A=n._path.child(Ft.fromString(e,...t));return cT(A),new en(n.firestore,n instanceof Ps?n.converter:null,new Fe(A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="AsyncQueue";class tI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AQ(this,"async_queue_retry"),this._c=()=>{const A=Qm();A&&Ce(eI,"Visibility state changed to "+A.visibilityState),this.M_.w_()},this.ac=e;const t=Qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ui;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ql(e))throw e;Ce(eI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((A=>{throw this.nc=A,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",nI(A)),A})).then((A=>(this.rc=!1,A))))));return this.ac=t,t}enqueueAfterDelay(e,t,A){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=eB.createAndSchedule(this,e,t,A,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:nI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,A)=>t.targetTimeMs-A.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class xl extends eg{constructor(e,t,A,i){super(e,t,A,i),this.type="firestore",this._queue=new tI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tI(e),this._firestoreClient=void 0,await e}}}function UK(n,e){const t=typeof n=="object"?n:I0(),A=typeof n=="string"?n:Ah,i=ta(t,"firestore").getImmediate({identifier:A});if(!i._initialized){const o=b2("firestore");o&&IK(i,...o)}return i}function iB(n){if(n._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FK(n),n._firestoreClient}function FK(n){var A,i,o;const e=n._freezeSettings(),t=(function(u,f,d,m){return new ZO(u,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,TQ(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,((A=n._app)==null?void 0:A.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new wK(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new YA(xn.fromBase64String(e))}catch(t){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new YA(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:YA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bc(e,YA._jsonSchema))return YA.fromBase64String(e.bytes)}}YA._jsonSchemaVersion="firestore/bytes/1.0",YA._jsonSchema={type:cn("string",YA._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kr._jsonSchemaVersion}}static fromJSON(e){if(Bc(e,Kr._jsonSchema))return new Kr(e.latitude,e.longitude)}}Kr._jsonSchemaVersion="firestore/geoPoint/1.0",Kr._jsonSchema={type:cn("string",Kr._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(A,i){if(A.length!==i.length)return!1;for(let o=0;o<A.length;++o)if(A[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bc(e,Gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Gr(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gr._jsonSchemaVersion="firestore/vectorValue/1.0",Gr._jsonSchema={type:cn("string",Gr._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK=/^__.*__$/;class RK{constructor(e,t,A){this.data=e,this.fieldMask=t,this.fieldTransforms=A}toMutation(e,t){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new wc(e,this.data,t,this.fieldTransforms)}}class SQ{constructor(e,t,A){this.data=e,this.fieldMask=t,this.fieldTransforms=A}toMutation(e,t){return new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UQ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:n})}}class oB{constructor(e,t,A,i,o,a){this.settings=e,this.databaseId=t,this.serializer=A,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oB({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),A=this.Vc({path:t,fc:!1});return A.gc(e),A}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),A=this.Vc({path:t,fc:!1});return A.Rc(),A}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UQ(this.Ac)&&QK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bK{constructor(e,t,A){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=A||$h(e)}Cc(e,t,A,i=!1){return new oB({Ac:e,methodName:t,Dc:A,path:Rn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aB(n){const e=n._freezeSettings(),t=$h(n._databaseId);return new bK(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xK(n,e,t,A,i,o={}){const a=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);lB("Data must be an object, but it was:",a,A);const u=FQ(A,a);let f,d;if(o.merge)f=new SA(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const w=Py(e,v,t);if(!a.contains(w))throw new ve(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);RQ(m,w)||m.push(w)}f=new SA(m),d=a.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=a.fieldTransforms;return new RK(new dA(u),f,d)}class ng extends sB{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ng}}function NK(n,e,t,A){const i=n.Cc(1,e,t);lB("Data must be an object, but it was:",i,A);const o=[],a=dA.empty();$s(A,((f,d)=>{const m=uB(e,f,t);d=tn(d);const v=i.yc(m);if(d instanceof ng)o.push(m);else{const w=Ic(d,v);w!=null&&(o.push(m),a.set(m,w))}}));const u=new SA(o);return new SQ(a,u,i.fieldTransforms)}function DK(n,e,t,A,i,o){const a=n.Cc(1,e,t),u=[Py(e,A,t)],f=[i];if(o.length%2!=0)throw new ve(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(Py(e,o[w])),f.push(o[w+1]);const d=[],m=dA.empty();for(let w=u.length-1;w>=0;--w)if(!RQ(d,u[w])){const T=u[w];let Q=f[w];Q=tn(Q);const N=a.yc(T);if(Q instanceof ng)d.push(T);else{const D=Ic(Q,N);D!=null&&(d.push(T),m.set(T,D))}}const v=new SA(d);return new SQ(m,v,a.fieldTransforms)}function MK(n,e,t,A=!1){return Ic(t,n.Cc(A?4:3,e))}function Ic(n,e){if(QQ(n=tn(n)))return lB("Unsupported field value:",e,n),FQ(n,e);if(n instanceof sB)return(function(A,i){if(!UQ(i.Ac))throw i.Sc(`${A._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${A._methodName}() is not currently supported inside arrays`);const o=A._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(A,i){const o=[];let a=0;for(const u of A){let f=Ic(u,i.wc(a));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),a++}return{arrayValue:{values:o}}})(n,e)}return(function(A,i){if((A=tn(A))===null)return{nullValue:"NULL_VALUE"};if(typeof A=="number")return wk(i.serializer,A);if(typeof A=="boolean")return{booleanValue:A};if(typeof A=="string")return{stringValue:A};if(A instanceof Date){const o=Qt.fromDate(A);return{timestampValue:lh(i.serializer,o)}}if(A instanceof Qt){const o=new Qt(A.seconds,1e3*Math.floor(A.nanoseconds/1e3));return{timestampValue:lh(i.serializer,o)}}if(A instanceof Kr)return{geoPointValue:{latitude:A.latitude,longitude:A.longitude}};if(A instanceof YA)return{bytesValue:zF(i.serializer,A._byteString)};if(A instanceof en){const o=i.databaseId,a=A.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:q0(A.firestore._databaseId||i.databaseId,A._key.path)}}if(A instanceof Gr)return(function(a,u){return{mapValue:{fields:{[wF]:{stringValue:CF},[rh]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return O0(u.serializer,d)}))}}}}}})(A,i);throw i.Sc(`Unsupported field value: ${kh(A)}`)})(n,e)}function FQ(n,e){const t={};return gF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(n,((A,i)=>{const o=Ic(i,e.mc(A));o!=null&&(t[A]=o)})),{mapValue:{fields:t}}}function QQ(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof Kr||n instanceof YA||n instanceof en||n instanceof sB||n instanceof Gr)}function lB(n,e,t){if(!QQ(t)||!dF(t)){const A=kh(t);throw A==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+A)}}function Py(n,e,t){if((e=tn(e))instanceof tg)return e._internalPath;if(typeof e=="string")return uB(n,e);throw dh("Field path arguments must be of type string or ",n,!1,void 0,t)}const LK=new RegExp("[~\\*/\\[\\]]");function uB(n,e,t){if(e.search(LK)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tg(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dh(n,e,t,A,i){const o=A&&!A.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||a)&&(f+=" (found",o&&(f+=` in field ${A}`),a&&(f+=` in document ${i}`),f+=")"),new ve(ae.INVALID_ARGUMENT,u+n+f)}function RQ(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e,t,A,i,o){this._firestore=e,this._userDataWriter=t,this._key=A,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cB("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HK extends bQ{data(){return super.data()}}function cB(n,e){return typeof e=="string"?uB(n,e):e instanceof tg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fB{}class VK extends fB{}function OK(n,e,...t){let A=[];e instanceof fB&&A.push(e),A=A.concat(t),(function(o){const a=o.filter((f=>f instanceof dB)).length,u=o.filter((f=>f instanceof Ag)).length;if(a>1||a>0&&u>0)throw new ve(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(A);for(const i of A)n=i._apply(n);return n}class Ag extends VK{constructor(e,t,A){super(),this._field=e,this._op=t,this._value=A,this.type="where"}static _create(e,t,A){return new Ag(e,t,A)}_apply(e){const t=this._parse(e);return xQ(e._query,t),new bl(e.firestore,e.converter,Uy(e._query,t))}_parse(e){const t=aB(e.firestore);return(function(o,a,u,f,d,m,v){let w;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ve(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){rI(v,m);const Q=[];for(const N of v)Q.push(AI(f,o,N));w={arrayValue:{values:Q}}}else w=AI(f,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||rI(v,m),w=MK(u,a,v,m==="in"||m==="not-in");return un.create(d,m,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function kK(n,e,t){const A=e,i=cB("where",n);return Ag._create(i,A,t)}class dB extends fB{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dB(e,t)}_parse(e){const t=this._queryConstraints.map((A=>A._parse(e))).filter((A=>A.getFilters().length>0));return t.length===1?t[0]:mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const f of u)xQ(a,f),a=Uy(a,f)})(e._query,t),new bl(e.firestore,e.converter,Uy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AI(n,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new ve(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QF(e)&&t.indexOf("/")!==-1)throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const A=e.path.child(Ft.fromString(t));if(!Fe.isDocumentKey(A))throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${A}' is not because it has an odd number of segments (${A.length}).`);return vT(n,new Fe(A))}if(t instanceof en)return vT(n,t._key);throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(t)}.`)}function rI(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xQ(n,e){const t=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ve(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KK{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const A={};return $s(e,((i,o)=>{A[i]=this.convertValue(o,t)})),A}convertVectorValue(e){var A,i,o;const t=(o=(i=(A=e.fields)==null?void 0:A[rh].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>jt(a.doubleValue)));return new Gr(t)}convertGeoPoint(e){return new Kr(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map((A=>this.convertValue(A,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const A=qh(e);return A==null?null:this.convertValue(A,t);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const A=Ft.fromString(e);ct(ZF(A),9688,{name:e});const i=new lc(A.get(1),A.get(3)),o=new Fe(A.popFirst(5));return i.isEqual(t)||xi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(n,e,t){let A;return A=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,A}class Ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Go extends bQ{constructor(e,t,A,i,o,a){super(e,t,A,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const A=this._document.data.field(cB("DocumentSnapshot.get",e));if(A!==null)return this._userDataWriter.convertValue(A,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Go._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Go._jsonSchemaVersion="firestore/documentSnapshot/1.0",Go._jsonSchema={type:cn("string",Go._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class Ld extends Go{data(e={}){return super.data(e)}}class cl{constructor(e,t,A,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ou(i.hasPendingWrites,i.fromCache),this.query=A}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((A=>{e.call(t,new Ld(this._firestore,this._userDataWriter,A.key,A,new Ou(this._snapshot.mutatedKeys.has(A.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const f=new Ld(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ou(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Ld(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ou(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:qK(u.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],A=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),A.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(n){n=Yr(n,en);const e=Yr(n.firestore,xl);return _K(iB(e),n._key).then((t=>WK(e,n,t)))}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:cn("string",cl._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class NQ extends KK{constructor(e){super(),this.firestore=e}convertBytes(e){return new YA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}}function JK(n){n=Yr(n,bl);const e=Yr(n.firestore,xl),t=iB(e),A=new NQ(e);return PK(n._query),TK(t,n._query).then((i=>new cl(e,A,n,i)))}function DQ(n,e,t){n=Yr(n,en);const A=Yr(n.firestore,xl),i=GK(n.converter,e,t);return hB(A,[xK(aB(A),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,gr.none())])}function YK(n,e,t,...A){n=Yr(n,en);const i=Yr(n.firestore,xl),o=aB(i);let a;return a=typeof(e=tn(e))=="string"||e instanceof tg?DK(o,"updateDoc",n._key,e,t,A):NK(o,"updateDoc",n._key,e),hB(i,[a.toMutation(n._key,gr.exists(!0))])}function XK(n){return hB(Yr(n.firestore,xl),[new k0(n._key,gr.none())])}function hB(n,e){return(function(A,i){const o=new Ui;return A.asyncQueue.enqueueAndForget((async()=>fK(await EK(A),i,o))),o.promise})(iB(n),e)}function WK(n,e,t){const A=t.docs.get(e._key),i=new NQ(n);return new Go(n,i,e._key,A,new Ou(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ul=i})(Sl),Jr(new pr("firestore",((A,{instanceIdentifier:i,options:o})=>{const a=A.getProvider("app").getImmediate(),u=new xl(new xO(A.getProvider("auth-internal")),new MO(a,A.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(d.options.projectId,m)})(a,i),a);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),ZA(oT,aT,e),ZA(oT,aT,"esm2020")})();function MQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $K=MQ,LQ=new ea("auth","Firebase",MQ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Ph("@firebase/auth");function ZK(n,...e){hh.logLevel<=je.WARN&&hh.warn(`Auth (${Sl}): ${n}`,...e)}function Hd(n,...e){hh.logLevel<=je.ERROR&&hh.error(`Auth (${Sl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,...e){throw gB(n,...e)}function qr(n,...e){return gB(n,...e)}function HQ(n,e,t){const A={...$K(),[e]:t};return new ea("auth","Firebase",A).create(e,{appName:n.name})}function Fi(n){return HQ(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gB(n,...e){if(typeof n!="string"){const t=e[0],A=[...e.slice(1)];return A[0]&&(A[0].appName=n.name),n._errorFactory.create(t,...A)}return LQ.create(n,...e)}function De(n,e,...t){if(!n)throw gB(e,...t)}function Ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hd(e),new Error(e)}function Di(n,e){n||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function jK(){return iI()==="http:"||iI()==="https:"}function iI(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jK()||UU()||"connection"in navigator)?navigator.onLine:!0}function tG(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=L2()||V2()}get(){return eG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{static initialize(e,t,A){this.fetchImpl=e,t&&(this.headersImpl=t),A&&(this.responseImpl=A)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rG=new Sc(3e4,6e4);function js(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function eo(n,e,t,A,i={}){return VQ(n,i,async()=>{let o={},a={};A&&(e==="GET"?a=A:o={body:JSON.stringify(A)});const u=yc({key:n.config.apiKey,...a}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return P2()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Il(n.emulatorConfig.host)&&(d.credentials="include"),PQ.fetch()(await OQ(n,n.config.apiHost,t,u),d)})}async function VQ(n,e,t){n._canInitEmulator=!1;const A={...nG,...e};try{const i=new sG(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw id(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(n,"credential-already-in-use",a);if(f==="EMAIL_EXISTS")throw id(n,"email-already-in-use",a);if(f==="USER_DISABLED")throw id(n,"user-disabled",a);const m=A[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw HQ(n,m,d);yr(n,m)}}catch(i){if(i instanceof wr)throw i;yr(n,"network-request-failed",{message:String(i)})}}async function Uc(n,e,t,A,i={}){const o=await eo(n,e,t,A,i);return"mfaPendingCredential"in o&&yr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function OQ(n,e,t,A){const i=`${e}${t}?${A}`,o=n,a=o.config.emulator?pB(n.config,i):`${n.config.apiScheme}://${i}`;return AG.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function iG(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,A)=>{this.timer=setTimeout(()=>A(qr(this.auth,"network-request-failed")),rG.get())})}}function id(n,e,t){const A={appName:n.name};t.email&&(A.email=t.email),t.phoneNumber&&(A.phoneNumber=t.phoneNumber);const i=qr(n,e,A);return i.customData._tokenResponse=t,i}function sI(n){return n!==void 0&&n.enterprise!==void 0}class oG{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iG(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aG(n,e){return eo(n,"GET","/v2/recaptchaConfig",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lG(n,e){return eo(n,"POST","/v1/accounts:delete",e)}async function gh(n,e){return eo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uG(n,e=!1){const t=tn(n),A=await t.getIdToken(e),i=mB(A);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:A,authTime:ec(bm(i.auth_time)),issuedAtTime:ec(bm(i.iat)),expirationTime:ec(bm(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function bm(n){return Number(n)*1e3}function mB(n){const[e,t,A]=n.split(".");if(e===void 0||t===void 0||A===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const i=CU(t);return i?JSON.parse(i):(Hd("Failed to decode base64 JWT payload"),null)}catch(i){return Hd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oI(n){const e=mB(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(n,e,t=!1){if(t)return e;try{return await e}catch(A){throw A instanceof wr&&cG(A)&&n.auth.currentUser===n&&await n.auth.signOut(),A}}function cG({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const A=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,A)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){var v;const e=n.auth,t=await n.getIdToken(),A=await dc(n,gh(e,{idToken:t}));De(A==null?void 0:A.users.length,e,"internal-error");const i=A.users[0];n._notifyReloadListener(i);const o=(v=i.providerUserInfo)!=null&&v.length?kQ(i.providerUserInfo):[],a=hG(n.providerData,o),u=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),d=u?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Oy(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function dG(n){const e=tn(n);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hG(n,e){return[...n.filter(A=>!e.some(i=>i.providerId===A.providerId)),...e]}function kQ(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gG(n,e){const t=await VQ(n,{},async()=>{const A=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,a=await OQ(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:A};return n.emulatorConfig&&Il(n.emulatorConfig.host)&&(f.credentials="include"),PQ.fetch()(a,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pG(n,e){return eo(n,"POST","/v2/accounts:revokeToken",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=oI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:A,refreshToken:i,expiresIn:o}=await gG(e,t);this.updateTokensAndExpiration(A,i,Number(o))}updateTokensAndExpiration(e,t,A){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+A*1e3}static fromJSON(e,t){const{refreshToken:A,accessToken:i,expirationTime:o}=t,a=new fl;return A&&(De(typeof A=="string","internal-error",{appName:e}),a.refreshToken=A),i&&(De(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(De(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:t,stsTokenManager:A,...i}){this.providerId="firebase",this.proactiveRefresh=new fG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Oy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await dc(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uG(this,e)}reload(){return dG(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let A=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),A=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),A&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(JA(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await dc(this,lG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const A=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,a=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:T,providerData:Q,stsTokenManager:N}=t;De(v&&N,e,"internal-error");const D=fl.fromJSON(this.name,N);De(typeof v=="string",e,"internal-error"),_s(A,e.name),_s(i,e.name),De(typeof w=="boolean",e,"internal-error"),De(typeof T=="boolean",e,"internal-error"),_s(o,e.name),_s(a,e.name),_s(u,e.name),_s(f,e.name),_s(d,e.name),_s(m,e.name);const O=new fr({uid:v,auth:e,email:i,emailVerified:w,displayName:A,isAnonymous:T,photoURL:a,phoneNumber:o,tenantId:u,stsTokenManager:D,createdAt:d,lastLoginAt:m});return Q&&Array.isArray(Q)&&(O.providerData=Q.map(q=>({...q}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,t,A=!1){const i=new fl;i.updateFromServerResponse(t);const o=new fr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:A});return await ph(o),o}static async _fromGetAccountInfoResponse(e,t,A){const i=t.users[0];De(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?kQ(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new fl;u.updateFromIdToken(A);const f=new fr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Oy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Map;function Si(n){Di(n instanceof Function,"Expected a class definition");let e=aI.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KQ.type="NONE";const lI=KQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n,e,t){return`firebase:${n}:${e}:${t}`}class dl{constructor(e,t,A){this.persistence=e,this.auth=t,this.userKey=A;const{config:i,name:o}=this.auth;this.fullUserKey=Pd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Pd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gh(this.auth,{idToken:e}).catch(()=>{});return t?fr._fromGetAccountInfoResponse(this.auth,t,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,A="authUser"){if(!t.length)return new dl(Si(lI),e,A);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Si(lI);const a=Pd(A,e.config.apiKey,e.name);let u=null;for(const d of t)try{const m=await d._get(a);if(m){let v;if(typeof m=="string"){const w=await gh(e,{idToken:m}).catch(()=>{});if(!w)break;v=await fr._fromGetAccountInfoResponse(e,w,m)}else v=fr._fromJSON(e,m);d!==o&&(u=v),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new dl(o,e,A):(o=f[0],u&&await o._set(a,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new dl(o,e,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JQ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GQ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XQ(e))return"Blackberry";if(WQ(e))return"Webos";if(qQ(e))return"Safari";if((e.includes("chrome/")||zQ(e))&&!e.includes("edge/"))return"Chrome";if(YQ(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,A=n.match(t);if((A==null?void 0:A.length)===2)return A[1]}return"Other"}function GQ(n=qn()){return/firefox\//i.test(n)}function qQ(n=qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zQ(n=qn()){return/crios\//i.test(n)}function JQ(n=qn()){return/iemobile/i.test(n)}function YQ(n=qn()){return/android/i.test(n)}function XQ(n=qn()){return/blackberry/i.test(n)}function WQ(n=qn()){return/webos/i.test(n)}function yB(n=qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mG(n=qn()){var e;return yB(n)&&!!((e=window.navigator)!=null&&e.standalone)}function yG(){return O2()&&document.documentMode===10}function $Q(n=qn()){return yB(n)||YQ(n)||WQ(n)||XQ(n)||/windows phone/i.test(n)||JQ(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(n,e=[]){let t;switch(n){case"Browser":t=uI(qn());break;case"Worker":t=`${uI(qn())}-${n}`;break;default:t=n}const A=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sl}/${A}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const A=o=>new Promise((a,u)=>{try{const f=e(o);a(f)}catch(f){u(f)}});A.onAbort=t,this.queue.push(A);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const A of this.queue)await A(e),A.onAbort&&t.push(A.onAbort)}catch(A){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:A==null?void 0:A.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vG(n,e={}){return eo(n,"GET","/v2/passwordPolicy",js(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=6;class CG{constructor(e){var A;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??wG,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((A=e.allowedNonAlphanumericCharacters)==null?void 0:A.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const A=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;A&&(t.meetsMinPasswordLength=e.length>=A),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let A;for(let i=0;i<e.length;i++)A=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(e,t,A,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,t,A,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=A,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cI(this),this.idTokenSubscription=new cI(this),this.beforeStateQueue=new BG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(async()=>{var A,i,o;if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),(A=this._resolvePersistenceManagerAvailable)==null||A.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gh(this,{idToken:e}),A=await fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(A)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(JA(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let A=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=A==null?void 0:A._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===u)&&(f!=null&&f.user)&&(A=f.user,i=!0)}if(!A)return this.directlySetCurrentUser(null);if(!A._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(A)}catch(a){A=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return A?this.reloadAndSetCurrentUserOrClear(A):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===A._redirectEventId?this.directlySetCurrentUser(A):this.reloadAndSetCurrentUserOrClear(A)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(JA(this.app))return Promise.reject(Fi(this));const t=e?tn(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return JA(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return JA(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vG(this),t=new CG(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ea("auth","Firebase",e())}onAuthStateChanged(e,t,A){return this.registerStateListener(this.authStateSubscription,e,t,A)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,A){return this.registerStateListener(this.idTokenSubscription,e,t,A)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const A=this.onAuthStateChanged(()=>{A(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),A={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(A.tenantId=this.tenantId),await pG(this,A)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const A=await this.getOrInitRedirectPersistenceManager(t);return e===null?A.removeCurrentUser():A.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Si(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,A;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((A=this.redirectUser)==null?void 0:A._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,A,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,A,i);return()=>{a=!0,f()}}else{const f=e.addObserver(t);return()=>{a=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const A=await this._getAppCheckToken();return A&&(e["X-Firebase-AppCheck"]=A),e}async _getAppCheckToken(){var t;if(JA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&ZK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ra(n){return tn(n)}class cI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Y2(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _G(n){rg=n}function jQ(n){return rg.loadJS(n)}function TG(){return rg.recaptchaEnterpriseScript}function IG(){return rg.gapiScript}function SG(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class UG{constructor(){this.enterprise=new FG}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FG{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QG="recaptcha-enterprise",eR="NO_RECAPTCHA";class RG{constructor(e){this.type=QG,this.auth=ra(e)}async verify(e="verify",t=!1){async function A(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{aG(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new oG(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(f=>{u(f)})})}function i(o,a,u){const f=window.grecaptcha;sI(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(eR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UG().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{A(this.auth).then(u=>{if(!t&&sI(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let f=TG();f.length!==0&&(f+=u),jQ(f).then(()=>{i(u,o,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function fI(n,e,t,A=!1,i=!1){const o=new RG(n);let a;if(i)a=eR;else try{a=await o.verify(t)}catch{a=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return A?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ky(n,e,t,A,i){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await fI(n,e,t,t==="getOobCode");return A(n,a)}else return A(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await fI(n,e,t,t==="getOobCode");return A(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(n,e){const t=ta(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(ks(o,e??{}))return i;yr(i,"already-initialized")}return t.initialize({options:e})}function xG(n,e){const t=(e==null?void 0:e.persistence)||[],A=(Array.isArray(t)?t:[t]).map(Si);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(A,e==null?void 0:e.popupRedirectResolver)}function NG(n,e,t){const A=ra(n);De(/^https?:\/\//.test(e),A,"invalid-emulator-scheme");const i=!1,o=tR(e),{host:a,port:u}=DG(e),f=u===null?"":`:${u}`,d={url:`${o}//${a}${f}/`},m=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!A._canInitEmulator){De(A.config.emulator&&A.emulatorConfig,A,"emulator-config-failed"),De(ks(d,A.config.emulator)&&ks(m,A.emulatorConfig),A,"emulator-config-failed");return}A.config.emulator=d,A.emulatorConfig=m,A.settings.appVerificationDisabledForTesting=!0,Il(a)?(IU(`${o}//${a}${f}`),SU("Auth",!0)):MG()}function tR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DG(n){const e=tR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const A=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(A);if(i){const o=i[1];return{host:o,port:dI(A.substr(o.length+1))}}else{const[o,a]=A.split(":");return{host:o,port:dI(a)}}}function dI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MG(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function LG(n,e){return eo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HG(n,e){return Uc(n,"POST","/v1/accounts:signInWithPassword",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PG(n,e){return Uc(n,"POST","/v1/accounts:signInWithEmailLink",js(n,e))}async function VG(n,e){return Uc(n,"POST","/v1/accounts:signInWithEmailLink",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends BB{constructor(e,t,A,i=null){super("password",A),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new hc(e,t,"password")}static _fromEmailAndCode(e,t,A=null){return new hc(e,t,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,t,"signInWithPassword",HG);case"emailLink":return PG(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const A={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,A,"signUpPassword",LG);case"emailLink":return VG(e,{idToken:t,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e){return Uc(n,"POST","/v1/accounts:signInWithIdp",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG="http://localhost";class $o extends BB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:A,signInMethod:i,...o}=t;if(!A||!i)return null;const a=new $o(A,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return hl(e,t)}_linkToIdToken(e,t){const A=this.buildRequest();return A.idToken=t,hl(e,A)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hl(e,t)}buildRequest(){const e={requestUri:OG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KG(n){const e=Mu(Lu(n)).link,t=e?Mu(Lu(e)).deep_link_id:null,A=Mu(Lu(n)).deep_link_id;return(A?Mu(Lu(A)).link:null)||A||t||e||n}class vB{constructor(e){const t=Mu(Lu(e)),A=t.apiKey??null,i=t.oobCode??null,o=kG(t.mode??null);De(A&&i&&o,"argument-error"),this.apiKey=A,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=KG(e);try{return new vB(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,t){return hc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const A=vB.parseLink(t);return De(A,"argument-error"),hc._fromEmailAndCode(e,A.code,A.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends nR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Fc{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $o._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:A}=e;if(!t&&!A)return null;try{return Fs.credential(t,A)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Fc{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Fc{constructor(){super("twitter.com")}static credential(e,t){return $o._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:A}=e;if(!t||!A)return null;try{return Rs.credential(t,A)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GG(n,e){return Uc(n,"POST","/v1/accounts:signUp",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,A,i=!1){const o=await fr._fromIdTokenResponse(e,A,i),a=hI(A);return new Zo({user:o,providerId:a,_tokenResponse:A,operationType:t})}static async _forOperation(e,t,A){await e._updateTokensIfNecessary(A,!0);const i=hI(A);return new Zo({user:e,providerId:i,_tokenResponse:A,operationType:t})}}function hI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends wr{constructor(e,t,A,i){super(t.code,t.message),this.operationType=A,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(e,t,A,i){return new mh(e,t,A,i)}}function AR(n,e,t,A){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,o,e,A):o})}async function qG(n,e,t=!1){const A=await dc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zo._forOperation(n,"link",A)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zG(n,e,t=!1){const{auth:A}=n;if(JA(A.app))return Promise.reject(Fi(A));const i="reauthenticate";try{const o=await dc(n,AR(A,i,e,n),t);De(o.idToken,A,"internal-error");const a=mB(o.idToken);De(a,A,"internal-error");const{sub:u}=a;return De(n.uid===u,A,"user-mismatch"),Zo._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yr(A,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(n,e,t=!1){if(JA(n.app))return Promise.reject(Fi(n));const A="signIn",i=await AR(n,A,e),o=await Zo._fromIdTokenResponse(n,A,i);return t||await n._updateCurrentUser(o.user),o}async function JG(n,e){return rR(ra(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(n){const e=ra(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YG(n,e,t){if(JA(n.app))return Promise.reject(Fi(n));const A=ra(n),a=await ky(A,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GG).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&iR(n),f}),u=await Zo._fromIdTokenResponse(A,"signIn",a);return await A._updateCurrentUser(u.user),u}function XG(n,e,t){return JA(n.app)?Promise.reject(Fi(n)):JG(tn(n),Nl.credential(e,t)).catch(async A=>{throw A.code==="auth/password-does-not-meet-requirements"&&iR(n),A})}function WG(n,e,t,A){return tn(n).onIdTokenChanged(e,t,A)}function $G(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function ZG(n,e,t,A){return tn(n).onAuthStateChanged(e,t,A)}function jG(n){return tn(n).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=1e3,t5=10;class oR extends sR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$Q(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const A=this.storage.getItem(t),i=this.localCache[t];A!==i&&e(t,i,A)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,f)=>{this.notifyListeners(a,f)});return}const A=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(A);!t&&this.localCache[A]===a||this.notifyListeners(A,a)},o=this.storage.getItem(A);yG()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,t5):i()}notifyListeners(e,t){this.localCache[e]=t;const A=this.listeners[e];if(A)for(const i of Array.from(A))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:A}),!0)})},e5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oR.type="LOCAL";const n5=oR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR extends sR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aR.type="SESSION";const lR=aR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const A=new ig(e);return this.receivers.push(A),A}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:A,eventType:i,data:o}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:A,eventType:i});const u=Array.from(a).map(async d=>d(t.origin,o)),f=await A5(u);t.ports[0].postMessage({status:"done",eventId:A,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(n="",e=10){let t="";for(let A=0;A<e;A++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,A=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,f)=>{const d=wB("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},A);a={messageChannel:i,onMessage(v){const w=v;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function i5(n){zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function s5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function a5(){return uR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebaseLocalStorageDb",l5=1,Bh="firebaseLocalStorage",fR="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sg(n,e){return n.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function u5(){const n=indexedDB.deleteDatabase(cR);return new Qc(n).toPromise()}function Ky(){const n=indexedDB.open(cR,l5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const A=n.result;try{A.createObjectStore(Bh,{keyPath:fR})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const A=n.result;A.objectStoreNames.contains(Bh)?e(A):(A.close(),await u5(),e(await Ky()))})})}async function gI(n,e,t){const A=sg(n,!0).put({[fR]:e,value:t});return new Qc(A).toPromise()}async function c5(n,e){const t=sg(n,!1).get(e),A=await new Qc(t).toPromise();return A===void 0?null:A.value}function pI(n,e){const t=sg(n,!0).delete(e);return new Qc(t).toPromise()}const f5=800,d5=3;class dR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ky(),this.db)}async _withRetries(e){let t=0;for(;;)try{const A=await this._openDb();return await e(A)}catch(A){if(t++>d5)throw A;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(a5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,A;if(this.activeServiceWorker=await s5(),!this.activeServiceWorker)return;this.sender=new r5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(A=e[0])!=null&&A.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ky();return await gI(e,yh,"1"),await pI(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(A=>gI(A,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(A=>c5(A,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=sg(i,!1).getAll();return new Qc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],A=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)A.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!A.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const A=this.listeners[e];if(A)for(const i of Array.from(A))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dR.type="LOCAL";const h5=dR;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(n,e){return e?Si(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB extends BB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function p5(n){return rR(n.auth,new CB(n),n.bypassAuthState)}function m5(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),zG(t,new CB(n),n.bypassAuthState)}async function y5(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),qG(t,new CB(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t,A,i,o=!1){this.auth=e,this.resolver=A,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(A){this.reject(A)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:A,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const f={auth:this.auth,requestUri:t,sessionId:A,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p5;case"linkViaPopup":case"linkViaRedirect":return y5;case"reauthViaPopup":case"reauthViaRedirect":return m5;default:yr(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new Sc(2e3,1e4);class il extends hR{constructor(e,t,A,i,o){super(e,t,i,o),this.provider=A,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=wB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,A;if((A=(t=this.authWindow)==null?void 0:t.window)!=null&&A.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B5.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="pendingRedirect",Vd=new Map;class w5 extends hR{constructor(e,t,A=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,A),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const A=await C5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(A)}catch(t){e=()=>Promise.reject(t)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C5(n,e){const t=T5(e),A=_5(n);if(!await A._isAvailable())return!1;const i=await A._get(t)==="true";return await A._remove(t),i}function E5(n,e){Vd.set(n._key(),e)}function _5(n){return Si(n._redirectPersistence)}function T5(n){return Pd(v5,n.config.apiKey,n.name)}async function I5(n,e,t=!1){if(JA(n.app))return Promise.reject(Fi(n));const A=ra(n),i=g5(A,e),a=await new w5(A,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await A._persistUserIfCurrent(a.user),await A._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=600*1e3;class U5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(e,A)&&(t=!0,this.sendToConsumer(e,A),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var A;if(e.error&&!gR(e)){const i=((A=e.error.code)==null?void 0:A.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const A=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&A}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mI(e))}saveEventToCache(e){this.cachedEventUids.add(mI(e)),this.lastProcessedEventTime=Date.now()}}function mI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(n,e={}){return eo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b5=/^https?/;async function x5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Q5(n);for(const t of e)try{if(N5(t))return}catch{}yr(n,"unauthorized-domain")}function N5(n){const e=Vy(),{protocol:t,hostname:A}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&A===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===A}if(!b5.test(t))return!1;if(R5.test(n))return A===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(A)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Sc(3e4,6e4);function yI(){const n=zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function M5(n){return new Promise((e,t)=>{var i,o,a;function A(){yI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yI(),t(qr(n,"network-request-failed"))},timeout:D5.get()})}if((o=(i=zr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=zr().gapi)!=null&&a.load)A();else{const u=SG("iframefcb");return zr()[u]=()=>{gapi.load?A():t(qr(n,"network-request-failed"))},jQ(`${IG()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw Od=null,e})}let Od=null;function L5(n){return Od=Od||M5(n),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new Sc(5e3,15e3),P5="__/auth/iframe",V5="emulator/auth/iframe",O5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K5(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pB(e,V5):`https://${n.config.authDomain}/${P5}`,A={apiKey:e.apiKey,appName:n.name,v:Sl},i=k5.get(n.config.apiHost);i&&(A.eid=i);const o=n._getFrameworks();return o.length&&(A.fw=o.join(",")),`${t}?${yc(A).slice(1)}`}async function G5(n){const e=await L5(n),t=zr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:K5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O5,dontclear:!0},A=>new Promise(async(i,o)=>{await A.restyle({setHideOnLeave:!1});const a=qr(n,"network-request-failed"),u=zr().setTimeout(()=>{o(a)},H5.get());function f(){zr().clearTimeout(u),i(A)}A.ping(f).then(f,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z5=500,J5=600,Y5="_blank",X5="http://localhost";class BI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W5(n,e,t,A=z5,i=J5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-A)/2,0).toString();let u="";const f={...q5,width:A.toString(),height:i.toString(),top:o,left:a},d=qn().toLowerCase();t&&(u=zQ(d)?Y5:t),GQ(d)&&(e=e||X5,f.scrollbars="yes");const m=Object.entries(f).reduce((w,[T,Q])=>`${w}${T}=${Q},`,"");if(mG(d)&&u!=="_self")return $5(e||"",u),new BI(null);const v=window.open(e||"",u,m);De(v,n,"popup-blocked");try{v.focus()}catch{}return new BI(v)}function $5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(A)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="__/auth/handler",j5="emulator/auth/handler",e6=encodeURIComponent("fac");async function vI(n,e,t,A,i,o){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:A,v:Sl,eventId:i};if(e instanceof nR){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",J2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))a[m]=v}if(e instanceof Fc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),d=f?`#${e6}=${encodeURIComponent(f)}`:"";return`${t6(n)}?${yc(u).slice(1)}${d}`}function t6({config:n}){return n.emulator?pB(n,j5):`https://${n.authDomain}/${Z5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class n6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lR,this._completeRedirectFn=I5,this._overrideRedirectResult=E5}async _openPopup(e,t,A,i){var a;Di((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await vI(e,t,A,Vy(),i);return W5(e,o,wB())}async _openRedirect(e,t,A,i){await this._originValidation(e);const o=await vI(e,t,A,Vy(),i);return i5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}const A=this.initAndGetManager(e);return this.eventManagers[t]={promise:A},A.catch(()=>{delete this.eventManagers[t]}),A}async initAndGetManager(e){const t=await G5(e),A=new U5(e);return t.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:A.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:A},this.iframes[e._key()]=t,A}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xm,{type:xm},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[xm];o!==void 0&&t(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=x5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $Q()||qQ()||yB()}}const A6=n6;var wI="@firebase/auth",CI="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(A=>{e((A==null?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s6(n){Jr(new pr("auth",(e,{options:t})=>{const A=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=A.options;De(a&&!a.includes(":"),"invalid-api-key",{appName:A.name});const f={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZQ(n)},d=new EG(A,i,o,f);return xG(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,A)=>{e.getProvider("auth-internal").initialize()})),Jr(new pr("auth-internal",e=>{const t=ra(e.getProvider("auth").getImmediate());return(A=>new r6(A))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ZA(wI,CI,i6(n)),ZA(wI,CI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=300,a6=TU("authIdTokenMaxAge")||o6;let EI=null;const l6=n=>async e=>{const t=e&&await e.getIdTokenResult(),A=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(A&&A>a6)return;const i=t==null?void 0:t.token;EI!==i&&(EI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function u6(n=I0()){const e=ta(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bG(n,{popupRedirectResolver:A6,persistence:[h5,n5,lR]}),A=TU("authTokenSyncURL");if(A&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(A,location.origin);if(location.origin===o.origin){const a=l6(o.toString());$G(t,a,()=>a(t.currentUser)),WG(t,u=>a(u))}}const i=EU("auth");return i&&NG(t,`http://${i}`),t}function c6(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}_G({loadJS(n){return new Promise((e,t)=>{const A=document.createElement("script");A.setAttribute("src",n),A.onload=e,A.onerror=i=>{const o=qr("internal-error");o.customData=i,t(o)},A.type="text/javascript",A.charset="UTF-8",c6().appendChild(A)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s6("Browser");const _I={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var TI={};const Mo=n=>typeof import.meta<"u"&&_I&&_I[n]||typeof process<"u"&&TI&&TI[n]||"",Gy={apiKey:Mo("VITE_FIREBASE_API_KEY")||"AIzaSyBxTwrBjVNESSzx1oboJXZpjPLOfAmbGJ0",authDomain:Mo("VITE_FIREBASE_AUTH_DOMAIN")||"my-trip-57036.firebaseapp.com",projectId:Mo("VITE_FIREBASE_PROJECT_ID")||"my-trip-57036",storageBucket:Mo("VITE_FIREBASE_STORAGE_BUCKET")||"my-trip-57036.firebasestorage.app",messagingSenderId:Mo("VITE_FIREBASE_MESSAGING_SENDER_ID")||"671607347102",appId:Mo("VITE_FIREBASE_APP_ID")||"1:671607347102:web:e3754fa41d10b2f758288f",measurementId:Mo("VITE_FIREBASE_MEASUREMENT_ID")||"G-K0WX69E0M8"},f6=Gy.projectId&&Gy.apiKey;let sd=null,d6=null,to=null,Br=null,EB=!1;if(f6)try{sd=NU(Gy),to=UK(sd),Br=u6(sd),EB=!0,console.log("Firebase initialized successfully");try{typeof window<"u"&&(d6=IO(sd))}catch(n){console.warn(" Firebase Analytics failed to initialize. This is likely due to API Key domain restrictions. The app will continue to function.",n)}}catch(n){console.error("Firebase initialization critical error:",n)}else console.warn(" Firebase configuration is missing or invalid."),console.warn("Please check firebaseConfig.ts");const og="orders",pR="users",Pi=()=>!EB||!Br||!to?(console.warn("Firebase not initialized. Action skipped."),!1):!0,h6=async(n,e)=>{if(!Pi())throw new Error("Cloud service unavailable");return(await YG(Br,n,e)).user},g6=async(n,e)=>{if(!Pi())throw new Error("Cloud service unavailable");return(await XG(Br,n,e)).user},II=async()=>{Pi()&&await jG(Br)},p6=n=>!EB||!Br?(n(null),()=>{}):ZG(Br,n),m6=async n=>{if(!Pi())return;const e=Br.currentUser;if(e)try{const t=Tc(to,pR,e.uid);await DQ(t,{apiKey:n},{merge:!0})}catch(t){console.error("Error saving user preferences: ",t)}},y6=async()=>{if(!Pi())return{};const n=Br.currentUser;if(!n)return{};try{const e=Tc(to,pR,n.uid),t=await zK(e);if(t.exists())return t.data()}catch(e){console.error("Error fetching user preferences: ",e)}return{}},B6=async n=>{if(!Pi())return;const e=Br.currentUser;if(e)try{await DQ(Tc(to,og,n.id),{...n,userId:e.uid,createdAt:Qt.now()})}catch(t){console.error("Error adding document: ",t)}},v6=async n=>{if(Pi())try{const e=Tc(to,og,n.id);await YK(e,{restaurant_name:n.restaurant_name,restaurant_address:n.restaurant_address})}catch(e){console.error("Error updating document: ",e)}},w6=async()=>{if(!Pi())return[];const n=Br.currentUser;if(!n)return[];try{const e=OK(SK(to,og),kK("userId","==",n.uid)),t=await JK(e),A=[];return t.forEach(i=>{const o=i.data(),{userId:a,createdAt:u,...f}=o;A.push(f)}),A.sort((i,o)=>(o.id||"").localeCompare(i.id||""))}catch(e){return console.error("Error fetching documents: ",e),[]}},C6=async n=>{if(Pi())try{await XK(Tc(to,og,n))}catch(e){console.error("Error deleting document: ",e)}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qy=function(n,e){return qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,A){t.__proto__=A}||function(t,A){for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&(t[i]=A[i])},qy(n,e)};function Cr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zy=function(){return zy=Object.assign||function(e){for(var t,A=1,i=arguments.length;A<i;A++){t=arguments[A];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zy.apply(this,arguments)};function jn(n,e,t,A){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function u(m){try{d(A.next(m))}catch(v){a(v)}}function f(m){try{d(A.throw(m))}catch(v){a(v)}}function d(m){m.done?o(m.value):i(m.value).then(u,f)}d((A=A.apply(n,[])).next())})}function Vn(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},A,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(d){return function(m){return f([d,m])}}function f(d){if(A)throw new TypeError("Generator is already executing.");for(;t;)try{if(A=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(m){d=[6,m],i=0}finally{A=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function od(n,e,t){if(arguments.length===2)for(var A=0,i=e.length,o;A<i;A++)(o||!(A in e))&&(o||(o=Array.prototype.slice.call(e,0,A)),o[A]=e[A]);return n.concat(o||e)}var Mi=(function(){function n(e,t,A,i){this.left=e,this.top=t,this.width=A,this.height=i}return n.prototype.add=function(e,t,A,i){return new n(this.left+e,this.top+t,this.width+A,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var A=Array.from(t).find(function(i){return i.width!==0});return A?new n(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),ag=function(n,e){return Mi.fromClientRect(n,e.getBoundingClientRect())},E6=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var A=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Mi(0,0,A,i)},lg=function(n){for(var e=[],t=0,A=n.length;t<A;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<A){var o=n.charCodeAt(t++);(o&64512)===56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Zt=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var A=[],i=-1,o="";++i<t;){var a=n[i];a<=65535?A.push(a):(a-=65536,A.push((a>>10)+55296,a%1024+56320)),(i+1===t||A.length>16384)&&(o+=String.fromCharCode.apply(String,A),A.length=0)}return o},SI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ad=0;ad<SI.length;ad++)_6[SI.charCodeAt(ad)]=ad;var UI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ku=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ld=0;ld<UI.length;ld++)ku[UI.charCodeAt(ld)]=ld;var T6=function(n){var e=n.length*.75,t=n.length,A,i=0,o,a,u,f;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(d)?d:new Uint8Array(d);for(A=0;A<t;A+=4)o=ku[n.charCodeAt(A)],a=ku[n.charCodeAt(A+1)],u=ku[n.charCodeAt(A+2)],f=ku[n.charCodeAt(A+3)],m[i++]=o<<2|a>>4,m[i++]=(a&15)<<4|u>>2,m[i++]=(u&3)<<6|f&63;return d},I6=function(n){for(var e=n.length,t=[],A=0;A<e;A+=2)t.push(n[A+1]<<8|n[A]);return t},S6=function(n){for(var e=n.length,t=[],A=0;A<e;A+=4)t.push(n[A+3]<<24|n[A+2]<<16|n[A+1]<<8|n[A]);return t},qo=5,_B=11,Nm=2,U6=_B-qo,mR=65536>>qo,F6=1<<qo,Dm=F6-1,Q6=1024>>qo,R6=mR+Q6,b6=R6,x6=32,N6=b6+x6,D6=65536>>_B,M6=1<<U6,L6=M6-1,FI=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},H6=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},P6=function(n,e){var t=T6(n),A=Array.isArray(t)?S6(t):new Uint32Array(t),i=Array.isArray(t)?I6(t):new Uint16Array(t),o=24,a=FI(i,o/2,A[4]/2),u=A[5]===2?FI(i,(o+A[4])/2):H6(A,Math.ceil((o+A[4])/4));return new V6(A[0],A[1],A[2],A[3],a,u)},V6=(function(){function n(e,t,A,i,o,a){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=i,this.index=o,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>qo],t=(t<<Nm)+(e&Dm),this.data[t];if(e<=65535)return t=this.index[mR+(e-55296>>qo)],t=(t<<Nm)+(e&Dm),this.data[t];if(e<this.highStart)return t=N6-D6+(e>>_B),t=this.index[t],t+=e>>qo&L6,t=this.index[t],t=(t<<Nm)+(e&Dm),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),QI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ud=0;ud<QI.length;ud++)O6[QI.charCodeAt(ud)]=ud;var k6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",RI=50,K6=1,yR=2,BR=3,G6=4,q6=5,bI=7,vR=8,xI=9,xs=10,Jy=11,NI=12,Yy=13,z6=14,Ku=15,Xy=16,cd=17,Ru=18,J6=19,DI=20,Wy=21,bu=22,Mm=23,Ga=24,IA=25,Gu=26,qu=27,qa=28,Y6=29,Vo=30,X6=31,fd=32,dd=33,$y=34,Zy=35,jy=36,gc=37,e0=38,kd=39,Kd=40,Lm=41,wR=42,W6=43,$6=[9001,65288],CR="!",Ze="",hd="",t0=P6(k6),_i=[Vo,jy],n0=[K6,yR,BR,q6],ER=[xs,vR],MI=[qu,Gu],Z6=n0.concat(ER),LI=[e0,kd,Kd,$y,Zy],j6=[Ku,Yy],e9=function(n,e){e===void 0&&(e="strict");var t=[],A=[],i=[];return n.forEach(function(o,a){var u=t0.get(o);if(u>RI?(i.push(!0),u-=RI):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return A.push(a),t.push(Xy);if(u===G6||u===Jy){if(a===0)return A.push(a),t.push(Vo);var f=t[a-1];return Z6.indexOf(f)===-1?(A.push(A[a-1]),t.push(f)):(A.push(a),t.push(Vo))}if(A.push(a),u===X6)return t.push(e==="strict"?Wy:gc);if(u===wR||u===Y6)return t.push(Vo);if(u===W6)return o>=131072&&o<=196605||o>=196608&&o<=262141?t.push(gc):t.push(Vo);t.push(u)}),[A,t,i]},Hm=function(n,e,t,A){var i=A[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var o=t;o<=A.length;){o++;var a=A[o];if(a===e)return!0;if(a!==xs)break}if(i===xs)for(var o=t;o>0;){o--;var u=A[o];if(Array.isArray(n)?n.indexOf(u)!==-1:n===u)for(var f=t;f<=A.length;){f++;var a=A[f];if(a===e)return!0;if(a!==xs)break}if(u!==xs)break}return!1},HI=function(n,e){for(var t=n;t>=0;){var A=e[t];if(A===xs)t--;else return A}return 0},t9=function(n,e,t,A,i){if(t[A]===0)return Ze;var o=A-1;if(Array.isArray(i)&&i[o]===!0)return Ze;var a=o-1,u=o+1,f=e[o],d=a>=0?e[a]:0,m=e[u];if(f===yR&&m===BR)return Ze;if(n0.indexOf(f)!==-1)return CR;if(n0.indexOf(m)!==-1||ER.indexOf(m)!==-1)return Ze;if(HI(o,e)===vR)return hd;if(t0.get(n[o])===Jy||(f===fd||f===dd)&&t0.get(n[u])===Jy||f===bI||m===bI||f===xI||[xs,Yy,Ku].indexOf(f)===-1&&m===xI||[cd,Ru,J6,Ga,qa].indexOf(m)!==-1||HI(o,e)===bu||Hm(Mm,bu,o,e)||Hm([cd,Ru],Wy,o,e)||Hm(NI,NI,o,e))return Ze;if(f===xs)return hd;if(f===Mm||m===Mm)return Ze;if(m===Xy||f===Xy)return hd;if([Yy,Ku,Wy].indexOf(m)!==-1||f===z6||d===jy&&j6.indexOf(f)!==-1||f===qa&&m===jy||m===DI||_i.indexOf(m)!==-1&&f===IA||_i.indexOf(f)!==-1&&m===IA||f===qu&&[gc,fd,dd].indexOf(m)!==-1||[gc,fd,dd].indexOf(f)!==-1&&m===Gu||_i.indexOf(f)!==-1&&MI.indexOf(m)!==-1||MI.indexOf(f)!==-1&&_i.indexOf(m)!==-1||[qu,Gu].indexOf(f)!==-1&&(m===IA||[bu,Ku].indexOf(m)!==-1&&e[u+1]===IA)||[bu,Ku].indexOf(f)!==-1&&m===IA||f===IA&&[IA,qa,Ga].indexOf(m)!==-1)return Ze;if([IA,qa,Ga,cd,Ru].indexOf(m)!==-1)for(var v=o;v>=0;){var w=e[v];if(w===IA)return Ze;if([qa,Ga].indexOf(w)!==-1)v--;else break}if([qu,Gu].indexOf(m)!==-1)for(var v=[cd,Ru].indexOf(f)!==-1?a:o;v>=0;){var w=e[v];if(w===IA)return Ze;if([qa,Ga].indexOf(w)!==-1)v--;else break}if(e0===f&&[e0,kd,$y,Zy].indexOf(m)!==-1||[kd,$y].indexOf(f)!==-1&&[kd,Kd].indexOf(m)!==-1||[Kd,Zy].indexOf(f)!==-1&&m===Kd||LI.indexOf(f)!==-1&&[DI,Gu].indexOf(m)!==-1||LI.indexOf(m)!==-1&&f===qu||_i.indexOf(f)!==-1&&_i.indexOf(m)!==-1||f===Ga&&_i.indexOf(m)!==-1||_i.concat(IA).indexOf(f)!==-1&&m===bu&&$6.indexOf(n[u])===-1||_i.concat(IA).indexOf(m)!==-1&&f===Ru)return Ze;if(f===Lm&&m===Lm){for(var T=t[o],Q=1;T>0&&(T--,e[T]===Lm);)Q++;if(Q%2!==0)return Ze}return f===fd&&m===dd?Ze:hd},n9=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=e9(n,e.lineBreak),A=t[0],i=t[1],o=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(u){return[IA,Vo,wR].indexOf(u)!==-1?gc:u}));var a=e.wordBreak==="keep-all"?o.map(function(u,f){return u&&n[f]>=19968&&n[f]<=40959}):void 0;return[A,i,a]},A9=(function(){function n(e,t,A,i){this.codePoints=e,this.required=t===CR,this.start=A,this.end=i}return n.prototype.slice=function(){return Zt.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),r9=function(n,e){var t=lg(n),A=n9(t,e),i=A[0],o=A[1],a=A[2],u=t.length,f=0,d=0;return{next:function(){if(d>=u)return{done:!0,value:null};for(var m=Ze;d<u&&(m=t9(t,o,i,++d,a))===Ze;);if(m!==Ze||d===u){var v=new A9(t,m,f,d);return f=d,{value:v,done:!1}}return{done:!0,value:null}}}},i9=1,s9=2,Rc=4,PI=8,vh=10,VI=47,tc=92,o9=9,a9=32,gd=34,xu=61,l9=35,u9=36,c9=37,pd=39,md=40,Nu=41,f9=95,fA=45,d9=33,h9=60,g9=62,p9=64,m9=91,y9=93,B9=61,v9=123,yd=63,w9=125,OI=124,C9=126,E9=128,kI=65533,Pm=42,Ko=43,_9=44,T9=58,I9=59,pc=46,S9=0,U9=8,F9=11,Q9=14,R9=31,b9=127,Pr=-1,_R=48,TR=97,IR=101,x9=102,N9=117,D9=122,SR=65,UR=69,FR=70,M9=85,L9=90,kn=function(n){return n>=_R&&n<=57},H9=function(n){return n>=55296&&n<=57343},za=function(n){return kn(n)||n>=SR&&n<=FR||n>=TR&&n<=x9},P9=function(n){return n>=TR&&n<=D9},V9=function(n){return n>=SR&&n<=L9},O9=function(n){return P9(n)||V9(n)},k9=function(n){return n>=E9},Bd=function(n){return n===vh||n===o9||n===a9},wh=function(n){return O9(n)||k9(n)||n===f9},KI=function(n){return wh(n)||kn(n)||n===fA},K9=function(n){return n>=S9&&n<=U9||n===F9||n>=Q9&&n<=R9||n===b9},Ss=function(n,e){return n!==tc?!1:e!==vh},vd=function(n,e,t){return n===fA?wh(e)||Ss(e,t):wh(n)?!0:!!(n===tc&&Ss(n,e))},Vm=function(n,e,t){return n===Ko||n===fA?kn(e)?!0:e===pc&&kn(t):kn(n===pc?e:n)},G9=function(n){var e=0,t=1;(n[e]===Ko||n[e]===fA)&&(n[e]===fA&&(t=-1),e++);for(var A=[];kn(n[e]);)A.push(n[e++]);var i=A.length?parseInt(Zt.apply(void 0,A),10):0;n[e]===pc&&e++;for(var o=[];kn(n[e]);)o.push(n[e++]);var a=o.length,u=a?parseInt(Zt.apply(void 0,o),10):0;(n[e]===UR||n[e]===IR)&&e++;var f=1;(n[e]===Ko||n[e]===fA)&&(n[e]===fA&&(f=-1),e++);for(var d=[];kn(n[e]);)d.push(n[e++]);var m=d.length?parseInt(Zt.apply(void 0,d),10):0;return t*(i+u*Math.pow(10,-a))*Math.pow(10,f*m)},q9={type:2},z9={type:3},J9={type:4},Y9={type:13},X9={type:8},W9={type:21},$9={type:9},Z9={type:10},j9={type:11},e8={type:12},t8={type:14},wd={type:23},n8={type:1},A8={type:25},r8={type:24},i8={type:26},s8={type:27},o8={type:28},a8={type:29},l8={type:31},A0={type:32},QR=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(lg(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==A0;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case gd:return this.consumeStringToken(gd);case l9:var t=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);if(KI(t)||Ss(A,i)){var o=vd(t,A,i)?s9:i9,a=this.consumeName();return{type:5,value:a,flags:o}}break;case u9:if(this.peekCodePoint(0)===xu)return this.consumeCodePoint(),Y9;break;case pd:return this.consumeStringToken(pd);case md:return q9;case Nu:return z9;case Pm:if(this.peekCodePoint(0)===xu)return this.consumeCodePoint(),t8;break;case Ko:if(Vm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _9:return J9;case fA:var u=e,f=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Vm(u,f,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(vd(u,f,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(f===fA&&d===g9)return this.consumeCodePoint(),this.consumeCodePoint(),r8;break;case pc:if(Vm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case VI:if(this.peekCodePoint(0)===Pm)for(this.consumeCodePoint();;){var m=this.consumeCodePoint();if(m===Pm&&(m=this.consumeCodePoint(),m===VI))return this.consumeToken();if(m===Pr)return this.consumeToken()}break;case T9:return i8;case I9:return s8;case h9:if(this.peekCodePoint(0)===d9&&this.peekCodePoint(1)===fA&&this.peekCodePoint(2)===fA)return this.consumeCodePoint(),this.consumeCodePoint(),A8;break;case p9:var v=this.peekCodePoint(0),w=this.peekCodePoint(1),T=this.peekCodePoint(2);if(vd(v,w,T)){var a=this.consumeName();return{type:7,value:a}}break;case m9:return o8;case tc:if(Ss(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case y9:return a8;case B9:if(this.peekCodePoint(0)===xu)return this.consumeCodePoint(),X9;break;case v9:return j9;case w9:return e8;case N9:case M9:var Q=this.peekCodePoint(0),N=this.peekCodePoint(1);return Q===Ko&&(za(N)||N===yd)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case OI:if(this.peekCodePoint(0)===xu)return this.consumeCodePoint(),$9;if(this.peekCodePoint(0)===OI)return this.consumeCodePoint(),W9;break;case C9:if(this.peekCodePoint(0)===xu)return this.consumeCodePoint(),Z9;break;case Pr:return A0}return Bd(e)?(this.consumeWhiteSpace(),l8):kn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):wh(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Zt(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();za(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var A=!1;t===yd&&e.length<6;)e.push(t),t=this.consumeCodePoint(),A=!0;if(A){var i=parseInt(Zt.apply(void 0,e.map(function(f){return f===yd?_R:f})),16),o=parseInt(Zt.apply(void 0,e.map(function(f){return f===yd?FR:f})),16);return{type:30,start:i,end:o}}var a=parseInt(Zt.apply(void 0,e),16);if(this.peekCodePoint(0)===fA&&za(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var u=[];za(t)&&u.length<6;)u.push(t),t=this.consumeCodePoint();var o=parseInt(Zt.apply(void 0,u),16);return{type:30,start:a,end:o}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===md?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===md?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Pr)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===pd||t===gd){var A=this.consumeStringToken(this.consumeCodePoint());return A.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Pr||this.peekCodePoint(0)===Nu)?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),wd)}for(;;){var i=this.consumeCodePoint();if(i===Pr||i===Nu)return{type:22,value:Zt.apply(void 0,e)};if(Bd(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Pr||this.peekCodePoint(0)===Nu?(this.consumeCodePoint(),{type:22,value:Zt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),wd);if(i===gd||i===pd||i===md||K9(i))return this.consumeBadUrlRemnants(),wd;if(i===tc)if(Ss(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),wd;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;Bd(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Nu||e===Pr)return;Ss(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,A="";e>0;){var i=Math.min(t,e);A+=Zt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),A},n.prototype.consumeStringToken=function(e){var t="",A=0;do{var i=this._value[A];if(i===Pr||i===void 0||i===e)return t+=this.consumeStringSlice(A),{type:0,value:t};if(i===vh)return this._value.splice(0,A),n8;if(i===tc){var o=this._value[A+1];o!==Pr&&o!==void 0&&(o===vh?(t+=this.consumeStringSlice(A),A=-1,this._value.shift()):Ss(i,o)&&(t+=this.consumeStringSlice(A),t+=Zt(this.consumeEscapedCodePoint()),A=-1))}A++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=Rc,A=this.peekCodePoint(0);for((A===Ko||A===fA)&&e.push(this.consumeCodePoint());kn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(A===pc&&kn(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=PI;kn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0),i=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((A===UR||A===IR)&&((i===Ko||i===fA)&&kn(o)||kn(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=PI;kn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[G9(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],A=e[1],i=this.peekCodePoint(0),o=this.peekCodePoint(1),a=this.peekCodePoint(2);if(vd(i,o,a)){var u=this.consumeName();return{type:15,number:t,flags:A,unit:u}}return i===c9?(this.consumeCodePoint(),{type:16,number:t,flags:A}):{type:17,number:t,flags:A}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(za(e)){for(var t=Zt(e);za(this.peekCodePoint(0))&&t.length<6;)t+=Zt(this.consumeCodePoint());Bd(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(t,16);return A===0||H9(A)||A>1114111?kI:A}return e===Pr?kI:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(KI(t))e+=Zt(t);else if(Ss(t,this.peekCodePoint(0)))e+=Zt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),RR=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new QR;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},A=this.consumeToken();;){if(A.type===32||c8(A,e))return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue()),A=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var A=this.consumeToken();if(A.type===32||A.type===3)return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?A0:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),bc=function(n){return n.type===15},Dl=function(n){return n.type===17},wt=function(n){return n.type===20},u8=function(n){return n.type===0},r0=function(n,e){return wt(n)&&n.value===e},bR=function(n){return n.type!==31},Cl=function(n){return n.type!==31&&n.type!==4},Wr=function(n){var e=[],t=[];return n.forEach(function(A){if(A.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}A.type!==31&&t.push(A)}),t.length&&e.push(t),e},c8=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Xs=function(n){return n.type===17||n.type===15},ln=function(n){return n.type===16||Xs(n)},xR=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},bn={type:17,number:0,flags:Rc},TB={type:16,number:50,flags:Rc},Ns={type:16,number:100,flags:Rc},zu=function(n,e,t){var A=n[0],i=n[1];return[Rt(A,e),Rt(typeof i<"u"?i:A,t)]},Rt=function(n,e){if(n.type===16)return n.number/100*e;if(bc(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},NR="deg",DR="grad",MR="rad",LR="turn",ug={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case NR:return Math.PI*e.number/180;case DR:return Math.PI/200*e.number;case MR:return e.number;case LR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},HR=function(n){return n.type===15&&(n.unit===NR||n.unit===DR||n.unit===MR||n.unit===LR)},PR=function(n){var e=n.filter(wt).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[bn,bn];case"to top":case"bottom":return XA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[bn,Ns];case"to right":case"left":return XA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ns,Ns];case"to bottom":case"top":return XA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ns,bn];case"to left":case"right":return XA(270)}return 0},XA=function(n){return Math.PI*n/180},Vs={name:"color",parse:function(n,e){if(e.type===18){var t=f8[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var A=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3);return Ds(parseInt(A+A,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(e.value.length===4){var A=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3),a=e.value.substring(3,4);return Ds(parseInt(A+A,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(e.value.length===6){var A=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6);return Ds(parseInt(A,16),parseInt(i,16),parseInt(o,16),1)}if(e.value.length===8){var A=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6),a=e.value.substring(6,8);return Ds(parseInt(A,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}}if(e.type===20){var u=Qi[e.value.toUpperCase()];if(typeof u<"u")return u}return Qi.TRANSPARENT}},Os=function(n){return(255&n)===0},Bn=function(n){var e=255&n,t=255&n>>8,A=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+A+","+t+","+e/255+")":"rgb("+i+","+A+","+t+")"},Ds=function(n,e,t,A){return(n<<24|e<<16|t<<8|Math.round(A*255)<<0)>>>0},GI=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},qI=function(n,e){var t=e.filter(Cl);if(t.length===3){var A=t.map(GI),i=A[0],o=A[1],a=A[2];return Ds(i,o,a,1)}if(t.length===4){var u=t.map(GI),i=u[0],o=u[1],a=u[2],f=u[3];return Ds(i,o,a,f)}return 0};function Om(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var zI=function(n,e){var t=e.filter(Cl),A=t[0],i=t[1],o=t[2],a=t[3],u=(A.type===17?XA(A.number):ug.parse(n,A))/(Math.PI*2),f=ln(i)?i.number/100:0,d=ln(o)?o.number/100:0,m=typeof a<"u"&&ln(a)?Rt(a,1):1;if(f===0)return Ds(d*255,d*255,d*255,1);var v=d<=.5?d*(f+1):d+f-d*f,w=d*2-v,T=Om(w,v,u+1/3),Q=Om(w,v,u),N=Om(w,v,u-1/3);return Ds(T*255,Q*255,N*255,m)},f8={hsl:zI,hsla:zI,rgb:qI,rgba:qI},nc=function(n,e){return Vs.parse(n,RR.create(e).parseComponentValue())},Qi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},d8={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(wt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},h8={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cg=function(n,e){var t=Vs.parse(n,e[0]),A=e[1];return A&&ln(A)?{color:t,stop:A}:{color:t,stop:null}},JI=function(n,e){var t=n[0],A=n[n.length-1];t.stop===null&&(t.stop=bn),A.stop===null&&(A.stop=Ns);for(var i=[],o=0,a=0;a<n.length;a++){var u=n[a].stop;if(u!==null){var f=Rt(u,e);f>o?i.push(f):i.push(o),o=f}else i.push(null)}for(var d=null,a=0;a<i.length;a++){var m=i[a];if(m===null)d===null&&(d=a);else if(d!==null){for(var v=a-d,w=i[d-1],T=(m-w)/(v+1),Q=1;Q<=v;Q++)i[d+Q-1]=T*Q;d=null}}return n.map(function(N,D){var O=N.color;return{color:O,stop:Math.max(Math.min(1,i[D]/e),0)}})},g8=function(n,e,t){var A=e/2,i=t/2,o=Rt(n[0],e)-A,a=i-Rt(n[1],t);return(Math.atan2(a,o)+Math.PI*2)%(Math.PI*2)},p8=function(n,e,t){var A=typeof n=="number"?n:g8(n,e,t),i=Math.abs(e*Math.sin(A))+Math.abs(t*Math.cos(A)),o=e/2,a=t/2,u=i/2,f=Math.sin(A-Math.PI/2)*u,d=Math.cos(A-Math.PI/2)*u;return[i,o-d,o+d,a-f,a+f]},cr=function(n,e){return Math.sqrt(n*n+e*e)},YI=function(n,e,t,A,i){var o=[[0,0],[0,e],[n,0],[n,e]];return o.reduce(function(a,u){var f=u[0],d=u[1],m=cr(t-f,A-d);return(i?m<a.optimumDistance:m>a.optimumDistance)?{optimumCorner:u,optimumDistance:m}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},m8=function(n,e,t,A,i){var o=0,a=0;switch(n.size){case 0:n.shape===0?o=a=Math.min(Math.abs(e),Math.abs(e-A),Math.abs(t),Math.abs(t-i)):n.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-A)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)o=a=Math.min(cr(e,t),cr(e,t-i),cr(e-A,t),cr(e-A,t-i));else if(n.shape===1){var u=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-A)),f=YI(A,i,e,t,!0),d=f[0],m=f[1];o=cr(d-e,(m-t)/u),a=u*o}break;case 1:n.shape===0?o=a=Math.max(Math.abs(e),Math.abs(e-A),Math.abs(t),Math.abs(t-i)):n.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-A)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)o=a=Math.max(cr(e,t),cr(e,t-i),cr(e-A,t),cr(e-A,t-i));else if(n.shape===1){var u=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-A)),v=YI(A,i,e,t,!1),d=v[0],m=v[1];o=cr(d-e,(m-t)/u),a=u*o}break}return Array.isArray(n.size)&&(o=Rt(n.size[0],A),a=n.size.length===2?Rt(n.size[1],i):o),[o,a]},y8=function(n,e){var t=XA(180),A=[];return Wr(e).forEach(function(i,o){if(o===0){var a=i[0];if(a.type===20&&a.value==="to"){t=PR(i);return}else if(HR(a)){t=ug.parse(n,a);return}}var u=cg(n,i);A.push(u)}),{angle:t,stops:A,type:1}},Cd=function(n,e){var t=XA(180),A=[];return Wr(e).forEach(function(i,o){if(o===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=PR(i);return}else if(HR(a)){t=(ug.parse(n,a)+XA(270))%XA(360);return}}var u=cg(n,i);A.push(u)}),{angle:t,stops:A,type:1}},B8=function(n,e){var t=XA(180),A=[],i=1,o=0,a=3,u=[];return Wr(e).forEach(function(f,d){var m=f[0];if(d===0){if(wt(m)&&m.value==="linear"){i=1;return}else if(wt(m)&&m.value==="radial"){i=2;return}}if(m.type===18){if(m.name==="from"){var v=Vs.parse(n,m.values[0]);A.push({stop:bn,color:v})}else if(m.name==="to"){var v=Vs.parse(n,m.values[0]);A.push({stop:Ns,color:v})}else if(m.name==="color-stop"){var w=m.values.filter(Cl);if(w.length===2){var v=Vs.parse(n,w[1]),T=w[0];Dl(T)&&A.push({stop:{type:16,number:T.number*100,flags:T.flags},color:v})}}}}),i===1?{angle:(t+XA(180))%XA(360),stops:A,type:i}:{size:a,shape:o,stops:A,position:u,type:i}},VR="closest-side",OR="farthest-side",kR="closest-corner",KR="farthest-corner",GR="circle",qR="ellipse",zR="cover",JR="contain",v8=function(n,e){var t=0,A=3,i=[],o=[];return Wr(e).forEach(function(a,u){var f=!0;if(u===0){var d=!1;f=a.reduce(function(v,w){if(d)if(wt(w))switch(w.value){case"center":return o.push(TB),v;case"top":case"left":return o.push(bn),v;case"right":case"bottom":return o.push(Ns),v}else(ln(w)||Xs(w))&&o.push(w);else if(wt(w))switch(w.value){case GR:return t=0,!1;case qR:return t=1,!1;case"at":return d=!0,!1;case VR:return A=0,!1;case zR:case OR:return A=1,!1;case JR:case kR:return A=2,!1;case KR:return A=3,!1}else if(Xs(w)||ln(w))return Array.isArray(A)||(A=[]),A.push(w),!1;return v},f)}if(f){var m=cg(n,a);i.push(m)}}),{size:A,shape:t,stops:i,position:o,type:2}},Ed=function(n,e){var t=0,A=3,i=[],o=[];return Wr(e).forEach(function(a,u){var f=!0;if(u===0?f=a.reduce(function(m,v){if(wt(v))switch(v.value){case"center":return o.push(TB),!1;case"top":case"left":return o.push(bn),!1;case"right":case"bottom":return o.push(Ns),!1}else if(ln(v)||Xs(v))return o.push(v),!1;return m},f):u===1&&(f=a.reduce(function(m,v){if(wt(v))switch(v.value){case GR:return t=0,!1;case qR:return t=1,!1;case JR:case VR:return A=0,!1;case OR:return A=1,!1;case kR:return A=2,!1;case zR:case KR:return A=3,!1}else if(Xs(v)||ln(v))return Array.isArray(A)||(A=[]),A.push(v),!1;return m},f)),f){var d=cg(n,a);i.push(d)}}),{size:A,shape:t,stops:i,position:o,type:2}},w8=function(n){return n.type===1},C8=function(n){return n.type===2},IB={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var A=YR[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return A(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function E8(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!YR[n.name])}var YR={"linear-gradient":y8,"-moz-linear-gradient":Cd,"-ms-linear-gradient":Cd,"-o-linear-gradient":Cd,"-webkit-linear-gradient":Cd,"radial-gradient":v8,"-moz-radial-gradient":Ed,"-ms-radial-gradient":Ed,"-o-radial-gradient":Ed,"-webkit-radial-gradient":Ed,"-webkit-gradient":B8},_8={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(A){return Cl(A)&&E8(A)}).map(function(A){return IB.parse(n,A)})}},T8={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(wt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},I8={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return Wr(e).map(function(t){return t.filter(ln)}).map(xR)}},S8={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return Wr(e).map(function(t){return t.filter(wt).map(function(A){return A.value}).join(" ")}).map(U8)}},U8=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},gl;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(gl||(gl={}));var F8={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return Wr(e).map(function(t){return t.filter(Q8)})}},Q8=function(n){return wt(n)||ln(n)},fg=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},R8=fg("top"),b8=fg("right"),x8=fg("bottom"),N8=fg("left"),dg=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return xR(t.filter(ln))}}},D8=dg("top-left"),M8=dg("top-right"),L8=dg("bottom-right"),H8=dg("bottom-left"),hg=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},P8=hg("top"),V8=hg("right"),O8=hg("bottom"),k8=hg("left"),gg=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return bc(t)?t.number:0}}},K8=gg("top"),G8=gg("right"),q8=gg("bottom"),z8=gg("left"),J8={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Y8={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},X8={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(wt).reduce(function(t,A){return t|W8(A.value)},0)}},W8=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},$8={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Z8={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Ch;(function(n){n.NORMAL="normal",n.STRICT="strict"})(Ch||(Ch={}));var j8={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return Ch.STRICT;case"normal":default:return Ch.NORMAL}}},eq={name:"line-height",initialValue:"normal",prefix:!1,type:4},XI=function(n,e){return wt(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:ln(n)?Rt(n,e):e},tq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:IB.parse(n,e)}},nq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},i0={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},pg=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Aq=pg("top"),rq=pg("right"),iq=pg("bottom"),sq=pg("left"),oq={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(wt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},aq={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},mg=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lq=mg("top"),uq=mg("right"),cq=mg("bottom"),fq=mg("left"),dq={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},hq={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},gq={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&r0(e[0],"none")?[]:Wr(e).map(function(t){for(var A={color:Qi.TRANSPARENT,offsetX:bn,offsetY:bn,blur:bn},i=0,o=0;o<t.length;o++){var a=t[o];Xs(a)?(i===0?A.offsetX=a:i===1?A.offsetY=a:A.blur=a,i++):A.color=Vs.parse(n,a)}return A})}},pq={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mq={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=vq[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},yq=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Bq=function(n){var e=n.filter(function(f){return f.type===17}).map(function(f){return f.number}),t=e[0],A=e[1];e[2],e[3];var i=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],u=e[13];return e[14],e[15],e.length===16?[t,A,i,o,a,u]:null},vq={matrix:yq,matrix3d:Bq},WI={type:16,number:50,flags:Rc},wq=[WI,WI],Cq={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(ln);return t.length!==2?wq:[t[0],t[1]]}},Eq={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ac;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Ac||(Ac={}));var _q={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Ac.BREAK_ALL;case"keep-all":return Ac.KEEP_ALL;case"normal":default:return Ac.NORMAL}}},Tq={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(Dl(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},XR={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Iq={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return Dl(e)?e.number:1}},Sq={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Uq={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(wt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Fq={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],A=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:A.push(t.join(" ")),t.length=0;break}}),t.length&&A.push(t.join(" ")),A.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Qq={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Rq={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(Dl(e))return e.number;if(wt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},bq={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(wt).map(function(t){return t.value})}},xq={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},gn=function(n,e){return(n&e)!==0},Nq={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Dq={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var A=[],i=e.filter(bR),o=0;o<i.length;o++){var a=i[o],u=i[o+1];if(a.type===20){var f=u&&Dl(u)?u.number:1;A.push({counter:a.value,increment:f})}}return A}},Mq={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],A=e.filter(bR),i=0;i<A.length;i++){var o=A[i],a=A[i+1];if(wt(o)&&o.value!=="none"){var u=a&&Dl(a)?a.number:0;t.push({counter:o.value,reset:u})}}return t}},Lq={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(bc).map(function(t){return XR.parse(n,t)})}},Hq={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var A=[],i=e.filter(u8);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var a=i[o].value,u=i[o+1].value;A.push({open:a,close:u})}return A}},$I=function(n,e,t){if(!n)return"";var A=n[Math.min(e,n.length-1)];return A?t?A.open:A.close:""},Pq={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&r0(e[0],"none")?[]:Wr(e).map(function(t){for(var A={color:255,offsetX:bn,offsetY:bn,blur:bn,spread:bn,inset:!1},i=0,o=0;o<t.length;o++){var a=t[o];r0(a,"inset")?A.inset=!0:Xs(a)?(i===0?A.offsetX=a:i===1?A.offsetY=a:i===2?A.blur=a:A.spread=a,i++):A.color=Vs.parse(n,a)}return A})}},Vq={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],A=[];return e.filter(wt).forEach(function(i){switch(i.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2);break}}),t.forEach(function(i){A.indexOf(i)===-1&&A.push(i)}),A}},Oq={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},kq={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return bc(e)?e.number:0}},Kq=(function(){function n(e,t){var A,i;this.animationDuration=we(e,Lq,t.animationDuration),this.backgroundClip=we(e,d8,t.backgroundClip),this.backgroundColor=we(e,h8,t.backgroundColor),this.backgroundImage=we(e,_8,t.backgroundImage),this.backgroundOrigin=we(e,T8,t.backgroundOrigin),this.backgroundPosition=we(e,I8,t.backgroundPosition),this.backgroundRepeat=we(e,S8,t.backgroundRepeat),this.backgroundSize=we(e,F8,t.backgroundSize),this.borderTopColor=we(e,R8,t.borderTopColor),this.borderRightColor=we(e,b8,t.borderRightColor),this.borderBottomColor=we(e,x8,t.borderBottomColor),this.borderLeftColor=we(e,N8,t.borderLeftColor),this.borderTopLeftRadius=we(e,D8,t.borderTopLeftRadius),this.borderTopRightRadius=we(e,M8,t.borderTopRightRadius),this.borderBottomRightRadius=we(e,L8,t.borderBottomRightRadius),this.borderBottomLeftRadius=we(e,H8,t.borderBottomLeftRadius),this.borderTopStyle=we(e,P8,t.borderTopStyle),this.borderRightStyle=we(e,V8,t.borderRightStyle),this.borderBottomStyle=we(e,O8,t.borderBottomStyle),this.borderLeftStyle=we(e,k8,t.borderLeftStyle),this.borderTopWidth=we(e,K8,t.borderTopWidth),this.borderRightWidth=we(e,G8,t.borderRightWidth),this.borderBottomWidth=we(e,q8,t.borderBottomWidth),this.borderLeftWidth=we(e,z8,t.borderLeftWidth),this.boxShadow=we(e,Pq,t.boxShadow),this.color=we(e,J8,t.color),this.direction=we(e,Y8,t.direction),this.display=we(e,X8,t.display),this.float=we(e,$8,t.cssFloat),this.fontFamily=we(e,Fq,t.fontFamily),this.fontSize=we(e,Qq,t.fontSize),this.fontStyle=we(e,xq,t.fontStyle),this.fontVariant=we(e,bq,t.fontVariant),this.fontWeight=we(e,Rq,t.fontWeight),this.letterSpacing=we(e,Z8,t.letterSpacing),this.lineBreak=we(e,j8,t.lineBreak),this.lineHeight=we(e,eq,t.lineHeight),this.listStyleImage=we(e,tq,t.listStyleImage),this.listStylePosition=we(e,nq,t.listStylePosition),this.listStyleType=we(e,i0,t.listStyleType),this.marginTop=we(e,Aq,t.marginTop),this.marginRight=we(e,rq,t.marginRight),this.marginBottom=we(e,iq,t.marginBottom),this.marginLeft=we(e,sq,t.marginLeft),this.opacity=we(e,Iq,t.opacity);var o=we(e,oq,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=we(e,aq,t.overflowWrap),this.paddingTop=we(e,lq,t.paddingTop),this.paddingRight=we(e,uq,t.paddingRight),this.paddingBottom=we(e,cq,t.paddingBottom),this.paddingLeft=we(e,fq,t.paddingLeft),this.paintOrder=we(e,Vq,t.paintOrder),this.position=we(e,hq,t.position),this.textAlign=we(e,dq,t.textAlign),this.textDecorationColor=we(e,Sq,(A=t.textDecorationColor)!==null&&A!==void 0?A:t.color),this.textDecorationLine=we(e,Uq,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=we(e,gq,t.textShadow),this.textTransform=we(e,pq,t.textTransform),this.transform=we(e,mq,t.transform),this.transformOrigin=we(e,Cq,t.transformOrigin),this.visibility=we(e,Eq,t.visibility),this.webkitTextStrokeColor=we(e,Oq,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=we(e,kq,t.webkitTextStrokeWidth),this.wordBreak=we(e,_q,t.wordBreak),this.zIndex=we(e,Tq,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Os(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return gn(this.display,4)||gn(this.display,33554432)||gn(this.display,268435456)||gn(this.display,536870912)||gn(this.display,67108864)||gn(this.display,134217728)},n})(),Gq=(function(){function n(e,t){this.content=we(e,Nq,t.content),this.quotes=we(e,Hq,t.quotes)}return n})(),ZI=(function(){function n(e,t){this.counterIncrement=we(e,Dq,t.counterIncrement),this.counterReset=we(e,Mq,t.counterReset)}return n})(),we=function(n,e,t){var A=new QR,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;A.write(i);var o=new RR(A.read());switch(e.type){case 2:var a=o.parseComponentValue();return e.parse(n,wt(a)?a.value:e.initialValue);case 0:return e.parse(n,o.parseComponentValue());case 1:return e.parse(n,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return ug.parse(n,o.parseComponentValue());case"color":return Vs.parse(n,o.parseComponentValue());case"image":return IB.parse(n,o.parseComponentValue());case"length":var u=o.parseComponentValue();return Xs(u)?u:bn;case"length-percentage":var f=o.parseComponentValue();return ln(f)?f:bn;case"time":return XR.parse(n,o.parseComponentValue())}break}},qq="data-html2canvas-debug",zq=function(n){var e=n.getAttribute(qq);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},s0=function(n,e){var t=zq(n);return t===1||e===t},$r=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,s0(t,3))debugger;this.styles=new Kq(e,window.getComputedStyle(t,null)),l0(t)&&(this.styles.animationDuration.some(function(A){return A>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=ag(this.context,t),s0(t,4)&&(this.flags|=16)}return n})(),Jq="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",jI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ju=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _d=0;_d<jI.length;_d++)Ju[jI.charCodeAt(_d)]=_d;var Yq=function(n){var e=n.length*.75,t=n.length,A,i=0,o,a,u,f;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(d)?d:new Uint8Array(d);for(A=0;A<t;A+=4)o=Ju[n.charCodeAt(A)],a=Ju[n.charCodeAt(A+1)],u=Ju[n.charCodeAt(A+2)],f=Ju[n.charCodeAt(A+3)],m[i++]=o<<2|a>>4,m[i++]=(a&15)<<4|u>>2,m[i++]=(u&3)<<6|f&63;return d},Xq=function(n){for(var e=n.length,t=[],A=0;A<e;A+=2)t.push(n[A+1]<<8|n[A]);return t},Wq=function(n){for(var e=n.length,t=[],A=0;A<e;A+=4)t.push(n[A+3]<<24|n[A+2]<<16|n[A+1]<<8|n[A]);return t},zo=5,SB=11,km=2,$q=SB-zo,WR=65536>>zo,Zq=1<<zo,Km=Zq-1,jq=1024>>zo,ez=WR+jq,tz=ez,nz=32,Az=tz+nz,rz=65536>>SB,iz=1<<$q,sz=iz-1,eS=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},oz=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},az=function(n,e){var t=Yq(n),A=Array.isArray(t)?Wq(t):new Uint32Array(t),i=Array.isArray(t)?Xq(t):new Uint16Array(t),o=24,a=eS(i,o/2,A[4]/2),u=A[5]===2?eS(i,(o+A[4])/2):oz(A,Math.ceil((o+A[4])/4));return new lz(A[0],A[1],A[2],A[3],a,u)},lz=(function(){function n(e,t,A,i,o,a){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=i,this.index=o,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>zo],t=(t<<km)+(e&Km),this.data[t];if(e<=65535)return t=this.index[WR+(e-55296>>zo)],t=(t<<km)+(e&Km),this.data[t];if(e<this.highStart)return t=Az-rz+(e>>SB),t=this.index[t],t+=e>>zo&sz,t=this.index[t],t=(t<<km)+(e&Km),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),tS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Td=0;Td<tS.length;Td++)uz[tS.charCodeAt(Td)]=Td;var cz=1,Gm=2,qm=3,nS=4,AS=5,fz=7,rS=8,zm=9,Jm=10,iS=11,sS=12,oS=13,aS=14,Ym=15,dz=function(n){for(var e=[],t=0,A=n.length;t<A;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<A){var o=n.charCodeAt(t++);(o&64512)===56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},hz=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var A=[],i=-1,o="";++i<t;){var a=n[i];a<=65535?A.push(a):(a-=65536,A.push((a>>10)+55296,a%1024+56320)),(i+1===t||A.length>16384)&&(o+=String.fromCharCode.apply(String,A),A.length=0)}return o},gz=az(Jq),qA="",Xm="",pz=function(n){return gz.get(n)},mz=function(n,e,t){var A=t-2,i=e[A],o=e[t-1],a=e[t];if(o===Gm&&a===qm)return qA;if(o===Gm||o===qm||o===nS||a===Gm||a===qm||a===nS)return Xm;if(o===rS&&[rS,zm,iS,sS].indexOf(a)!==-1||(o===iS||o===zm)&&(a===zm||a===Jm)||(o===sS||o===Jm)&&a===Jm||a===oS||a===AS||a===fz||o===cz)return qA;if(o===oS&&a===aS){for(;i===AS;)i=e[--A];if(i===aS)return qA}if(o===Ym&&a===Ym){for(var u=0;i===Ym;)u++,i=e[--A];if(u%2===0)return qA}return Xm},yz=function(n){var e=dz(n),t=e.length,A=0,i=0,o=e.map(pz);return{next:function(){if(A>=t)return{done:!0,value:null};for(var a=qA;A<t&&(a=mz(e,o,++A))===qA;);if(a!==qA||A===t){var u=hz.apply(null,e.slice(i,A));return i=A,{value:u,done:!1}}return{done:!0,value:null}}}},Bz=function(n){for(var e=yz(n),t=[],A;!(A=e.next()).done;)A.value&&t.push(A.value.slice());return t},vz=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var A=n.createElement("boundtest");A.style.height=e+"px",A.style.display="block",n.body.appendChild(A),t.selectNode(A);var i=t.getBoundingClientRect(),o=Math.round(i.height);if(n.body.removeChild(A),o===e)return!0}}return!1},wz=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var A=e.firstChild,i=lg(A.data).map(function(f){return Zt(f)}),o=0,a={},u=i.every(function(f,d){t.setStart(A,o),t.setEnd(A,o+f.length);var m=t.getBoundingClientRect();o+=f.length;var v=m.x>a.x||m.y>a.y;return a=m,d===0?!0:v});return n.body.removeChild(e),u},Cz=function(){return typeof new Image().crossOrigin<"u"},Ez=function(){return typeof new XMLHttpRequest().responseType=="string"},_z=function(n){var e=new Image,t=n.createElement("canvas"),A=t.getContext("2d");if(!A)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},lS=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},Tz=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var A=e.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,t,t);var i=new Image,o=e.toDataURL();i.src=o;var a=o0(t,t,0,0,i);return A.fillStyle="red",A.fillRect(0,0,t,t),uS(a).then(function(u){A.drawImage(u,0,0);var f=A.getImageData(0,0,t,t).data;A.fillStyle="red",A.fillRect(0,0,t,t);var d=n.createElement("div");return d.style.backgroundImage="url("+o+")",d.style.height=t+"px",lS(f)?uS(o0(t,t,0,0,d)):Promise.reject(!1)}).then(function(u){return A.drawImage(u,0,0),lS(A.getImageData(0,0,t,t).data)}).catch(function(){return!1})},o0=function(n,e,t,A,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),u=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),u.setAttributeNS(null,"width","100%"),u.setAttributeNS(null,"height","100%"),u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",A.toString()),u.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(u),u.appendChild(i),a},uS=function(n){return new Promise(function(e,t){var A=new Image;A.onload=function(){return e(A)},A.onerror=t,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Fn={get SUPPORT_RANGE_BOUNDS(){var n=vz(document);return Object.defineProperty(Fn,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Fn.SUPPORT_RANGE_BOUNDS&&wz(document);return Object.defineProperty(Fn,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=_z(document);return Object.defineProperty(Fn,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?Tz(document):Promise.resolve(!1);return Object.defineProperty(Fn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=Cz();return Object.defineProperty(Fn,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=Ez();return Object.defineProperty(Fn,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fn,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},rc=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),Iz=function(n,e,t,A){var i=Fz(e,t),o=[],a=0;return i.forEach(function(u){if(t.textDecorationLine.length||u.trim().length>0)if(Fn.SUPPORT_RANGE_BOUNDS){var f=cS(A,a,u.length).getClientRects();if(f.length>1){var d=UB(u),m=0;d.forEach(function(w){o.push(new rc(w,Mi.fromDOMRectList(n,cS(A,m+a,w.length).getClientRects()))),m+=w.length})}else o.push(new rc(u,Mi.fromDOMRectList(n,f)))}else{var v=A.splitText(u.length);o.push(new rc(u,Sz(n,A))),A=v}else Fn.SUPPORT_RANGE_BOUNDS||(A=A.splitText(u.length));a+=u.length}),o},Sz=function(n,e){var t=e.ownerDocument;if(t){var A=t.createElement("html2canvaswrapper");A.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(A,e);var o=ag(n,A);return A.firstChild&&i.replaceChild(A.firstChild,A),o}}return Mi.EMPTY},cS=function(n,e,t){var A=n.ownerDocument;if(!A)throw new Error("Node has no owner document");var i=A.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},UB=function(n){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return Bz(n)},Uz=function(n,e){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(A){return A.segment})}return Rz(n,e)},Fz=function(n,e){return e.letterSpacing!==0?UB(n):Uz(n,e)},Qz=[32,160,4961,65792,65793,4153,4241],Rz=function(n,e){for(var t=r9(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),A=[],i,o=function(){if(i.value){var a=i.value.slice(),u=lg(a),f="";u.forEach(function(d){Qz.indexOf(d)===-1?f+=Zt(d):(f.length&&A.push(f),A.push(Zt(d)),f="")}),f.length&&A.push(f)}};!(i=t.next()).done;)o();return A},bz=(function(){function n(e,t,A){this.text=xz(t.data,A.textTransform),this.textBounds=Iz(e,this.text,A,t)}return n})(),xz=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Nz,Dz);case 2:return n.toUpperCase();default:return n}},Nz=/(^|\s|:|-|\(|\))([a-z])/g,Dz=function(n,e,t){return n.length>0?e+t.toUpperCase():n},$R=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.src=A.currentSrc||A.src,i.intrinsicWidth=A.naturalWidth,i.intrinsicHeight=A.naturalHeight,i.context.cache.addImage(i.src),i}return e})($r),ZR=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.canvas=A,i.intrinsicWidth=A.width,i.intrinsicHeight=A.height,i}return e})($r),jR=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this,o=new XMLSerializer,a=ag(t,A);return A.setAttribute("width",a.width+"px"),A.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(A)),i.intrinsicWidth=A.width.baseVal.value,i.intrinsicHeight=A.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})($r),eb=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.value=A.value,i}return e})($r),a0=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.start=A.start,i.reversed=typeof A.reversed=="boolean"&&A.reversed===!0,i}return e})($r),Mz=[{type:15,flags:0,unit:"px",number:3}],Lz=[{type:16,flags:0,number:50}],Hz=function(n){return n.width>n.height?new Mi(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Mi(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Pz=function(n){var e=n.type===Vz?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},Eh="checkbox",_h="radio",Vz="password",fS=707406591,FB=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;switch(i.type=A.type.toLowerCase(),i.checked=A.checked,i.value=Pz(A),(i.type===Eh||i.type===_h)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Hz(i.bounds)),i.type){case Eh:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Mz;break;case _h:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Lz;break}return i}return e})($r),tb=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this,o=A.options[A.selectedIndex||0];return i.value=o&&o.text||"",i}return e})($r),nb=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.value=A.value,i}return e})($r),Ab=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;i.src=A.src,i.width=parseInt(A.width,10)||0,i.height=parseInt(A.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){i.tree=ib(t,A.contentWindow.document.documentElement);var o=A.contentWindow.document.documentElement?nc(t,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):Qi.TRANSPARENT,a=A.contentWindow.document.body?nc(t,getComputedStyle(A.contentWindow.document.body).backgroundColor):Qi.TRANSPARENT;i.backgroundColor=Os(o)?Os(a)?i.styles.backgroundColor:a:o}}catch{}return i}return e})($r),Oz=["OL","UL","MENU"],Gd=function(n,e,t,A){for(var i=e.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,sb(i)&&i.data.trim().length>0)t.textNodes.push(new bz(n,i,t.styles));else if(sl(i))if(ub(i)&&i.assignedNodes)i.assignedNodes().forEach(function(u){return Gd(n,u,t,A)});else{var a=rb(n,i);a.styles.isVisible()&&(kz(i,a,A)?a.flags|=4:Kz(a.styles)&&(a.flags|=2),Oz.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?Gd(n,i.shadowRoot,a,A):!Th(i)&&!ob(i)&&!Ih(i)&&Gd(n,i,a,A))}},rb=function(n,e){return u0(e)?new $R(n,e):ab(e)?new ZR(n,e):ob(e)?new jR(n,e):Gz(e)?new eb(n,e):qz(e)?new a0(n,e):zz(e)?new FB(n,e):Ih(e)?new tb(n,e):Th(e)?new nb(n,e):lb(e)?new Ab(n,e):new $r(n,e)},ib=function(n,e){var t=rb(n,e);return t.flags|=4,Gd(n,e,t,t),t},kz=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||QB(n)&&t.styles.isTransparent()},Kz=function(n){return n.isPositioned()||n.isFloating()},sb=function(n){return n.nodeType===Node.TEXT_NODE},sl=function(n){return n.nodeType===Node.ELEMENT_NODE},l0=function(n){return sl(n)&&typeof n.style<"u"&&!qd(n)},qd=function(n){return typeof n.className=="object"},Gz=function(n){return n.tagName==="LI"},qz=function(n){return n.tagName==="OL"},zz=function(n){return n.tagName==="INPUT"},Jz=function(n){return n.tagName==="HTML"},ob=function(n){return n.tagName==="svg"},QB=function(n){return n.tagName==="BODY"},ab=function(n){return n.tagName==="CANVAS"},dS=function(n){return n.tagName==="VIDEO"},u0=function(n){return n.tagName==="IMG"},lb=function(n){return n.tagName==="IFRAME"},hS=function(n){return n.tagName==="STYLE"},Yz=function(n){return n.tagName==="SCRIPT"},Th=function(n){return n.tagName==="TEXTAREA"},Ih=function(n){return n.tagName==="SELECT"},ub=function(n){return n.tagName==="SLOT"},gS=function(n){return n.tagName.indexOf("-")>0},Xz=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(A){return t.counters[A].pop()})},n.prototype.parse=function(e){var t=this,A=e.counterIncrement,i=e.counterReset,o=!0;A!==null&&A.forEach(function(u){var f=t.counters[u.counter];f&&u.increment!==0&&(o=!1,f.length||f.push(1),f[Math.max(0,f.length-1)]+=u.increment)});var a=[];return o&&i.forEach(function(u){var f=t.counters[u.counter];a.push(u.counter),f||(f=t.counters[u.counter]=[]),f.push(u.reset)}),a},n})(),pS={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mS={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wz={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$z={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ja=function(n,e,t,A,i,o){return n<e||n>t?mc(n,i,o.length>0):A.integers.reduce(function(a,u,f){for(;n>=u;)n-=u,a+=A.values[f];return a},"")+o},cb=function(n,e,t,A){var i="";do t||n--,i=A(n)+i,n/=e;while(n*e>=e);return i},$t=function(n,e,t,A,i){var o=t-e+1;return(n<0?"-":"")+(cb(Math.abs(n),o,A,function(a){return Zt(Math.floor(a%o)+e)})+i)},Lo=function(n,e,t){t===void 0&&(t=". ");var A=e.length;return cb(Math.abs(n),A,!1,function(i){return e[Math.floor(i%A)]})+t},tl=1,Ts=2,Is=4,Yu=8,Ti=function(n,e,t,A,i,o){if(n<-9999||n>9999)return mc(n,4,i.length>0);var a=Math.abs(n),u=i;if(a===0)return e[0]+u;for(var f=0;a>0&&f<=4;f++){var d=a%10;d===0&&gn(o,tl)&&u!==""?u=e[d]+u:d>1||d===1&&f===0||d===1&&f===1&&gn(o,Ts)||d===1&&f===1&&gn(o,Is)&&n>100||d===1&&f>1&&gn(o,Yu)?u=e[d]+(f>0?t[f-1]:"")+u:d===1&&f>0&&(u=t[f-1]+u),a=Math.floor(a/10)}return(n<0?A:"")+u},yS="",BS="",vS="",Wm="",mc=function(n,e,t){var A=t?". ":"",i=t?"":"",o=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var u=$t(n,48,57,!0,A);return u.length<4?"0"+u:u;case 4:return Lo(n,"",i);case 6:return Ja(n,1,3999,pS,3,A).toLowerCase();case 7:return Ja(n,1,3999,pS,3,A);case 8:return $t(n,945,969,!1,A);case 9:return $t(n,97,122,!1,A);case 10:return $t(n,65,90,!1,A);case 11:return $t(n,1632,1641,!0,A);case 12:case 49:return Ja(n,1,9999,mS,3,A);case 35:return Ja(n,1,9999,mS,3,A).toLowerCase();case 13:return $t(n,2534,2543,!0,A);case 14:case 30:return $t(n,6112,6121,!0,A);case 15:return Lo(n,"",i);case 16:return Lo(n,"",i);case 17:case 48:return Ti(n,"",yS,"",i,Ts|Is|Yu);case 47:return Ti(n,"",BS,"",i,tl|Ts|Is|Yu);case 42:return Ti(n,"",yS,"",i,Ts|Is|Yu);case 41:return Ti(n,"",BS,"",i,tl|Ts|Is|Yu);case 26:return Ti(n,"","",vS,i,0);case 25:return Ti(n,"","",vS,i,tl|Ts|Is);case 31:return Ti(n,"","",Wm,o,tl|Ts|Is);case 33:return Ti(n,"","",Wm,o,0);case 32:return Ti(n,"","",Wm,o,tl|Ts|Is);case 18:return $t(n,2406,2415,!0,A);case 20:return Ja(n,1,19999,$z,3,A);case 21:return $t(n,2790,2799,!0,A);case 22:return $t(n,2662,2671,!0,A);case 22:return Ja(n,1,10999,Wz,3,A);case 23:return Lo(n,"");case 24:return Lo(n,"");case 27:return $t(n,3302,3311,!0,A);case 28:return Lo(n,"",i);case 29:return Lo(n,"",i);case 34:return $t(n,3792,3801,!0,A);case 37:return $t(n,6160,6169,!0,A);case 38:return $t(n,4160,4169,!0,A);case 39:return $t(n,2918,2927,!0,A);case 40:return $t(n,1776,1785,!0,A);case 43:return $t(n,3046,3055,!0,A);case 44:return $t(n,3174,3183,!0,A);case 45:return $t(n,3664,3673,!0,A);case 46:return $t(n,3872,3881,!0,A);case 3:default:return $t(n,48,57,!0,A)}},fb="data-html2canvas-ignore",wS=(function(){function n(e,t,A){if(this.context=e,this.options=A,this.scrolledElements=[],this.referenceElement=t,this.counters=new Xz,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var A=this,i=Zz(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,u=i.contentWindow,f=u.document,d=t7(i).then(function(){return jn(A,void 0,void 0,function(){var m,v;return Vn(this,function(w){switch(w.label){case 0:return this.scrolledElements.forEach(i7),u&&(u.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(u.scrollY!==t.top||u.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-t.left,u.scrollY-t.top,0,0))),m=this.options.onclone,v=this.clonedReferenceElement,typeof v>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:f.fonts&&f.fonts.ready?[4,f.fonts.ready]:[3,2];case 1:w.sent(),w.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,e7(f)]:[3,4];case 3:w.sent(),w.label=4;case 4:return typeof m=="function"?[2,Promise.resolve().then(function(){return m(f,v)}).then(function(){return i})]:[2,i]}})})});return f.open(),f.write(A7(document.doctype)+"<html></html>"),r7(this.referenceElement.ownerDocument,o,a),f.replaceChild(f.adoptNode(this.documentElement),f.documentElement),f.close(),d},n.prototype.createElementClone=function(e){if(s0(e,2))debugger;if(ab(e))return this.createCanvasClone(e);if(dS(e))return this.createVideoClone(e);if(hS(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return u0(t)&&(u0(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),gS(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return $m(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var A=[].slice.call(t.cssRules,0).reduce(function(o,a){return a&&typeof a.cssText=="string"?o+a.cssText:o},""),i=e.cloneNode(!1);return i.textContent=A,i}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var A=e.ownerDocument.createElement("img");try{return A.src=e.toDataURL(),A}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var o=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&o)a.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var u=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(u){var f=u.getContextAttributes();(f==null?void 0:f.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var A=t.getContext("2d");try{return A&&(A.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||A.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,A){(!sl(t)||!Yz(t)&&!t.hasAttribute(fb)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!sl(t)||!hS(t))&&e.appendChild(this.cloneNode(t,A))},n.prototype.cloneChildNodes=function(e,t,A){for(var i=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(sl(o)&&ub(o)&&typeof o.assignedNodes=="function"){var a=o.assignedNodes();a.length&&a.forEach(function(u){return i.appendChildNode(t,u,A)})}else this.appendChildNode(t,o,A)},n.prototype.cloneNode=function(e,t){if(sb(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var A=e.ownerDocument.defaultView;if(A&&sl(e)&&(l0(e)||qd(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var o=A.getComputedStyle(e),a=A.getComputedStyle(e,":before"),u=A.getComputedStyle(e,":after");this.referenceElement===e&&l0(i)&&(this.clonedReferenceElement=i),QB(i)&&a7(i);var f=this.counters.parse(new ZI(this.context,o)),d=this.resolvePseudoContent(e,i,a,ic.BEFORE);gS(e)&&(t=!0),dS(e)||this.cloneChildNodes(e,i,t),d&&i.insertBefore(d,i.firstChild);var m=this.resolvePseudoContent(e,i,u,ic.AFTER);return m&&i.appendChild(m),this.counters.pop(f),(o&&(this.options.copyStyles||qd(e))&&!lb(e)||t)&&$m(o,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Th(e)||Ih(e))&&(Th(i)||Ih(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,A,i){var o=this;if(A){var a=A.content,u=t.ownerDocument;if(!(!u||!a||a==="none"||a==="-moz-alt-content"||A.display==="none")){this.counters.parse(new ZI(this.context,A));var f=new Gq(this.context,A),d=u.createElement("html2canvaspseudoelement");$m(A,d),f.content.forEach(function(v){if(v.type===0)d.appendChild(u.createTextNode(v.value));else if(v.type===22){var w=u.createElement("img");w.src=v.value,w.style.opacity="1",d.appendChild(w)}else if(v.type===18){if(v.name==="attr"){var T=v.values.filter(wt);T.length&&d.appendChild(u.createTextNode(e.getAttribute(T[0].value)||""))}else if(v.name==="counter"){var Q=v.values.filter(Cl),N=Q[0],D=Q[1];if(N&&wt(N)){var O=o.counters.getCounterValue(N.value),q=D&&wt(D)?i0.parse(o.context,D.value):3;d.appendChild(u.createTextNode(mc(O,q,!1)))}}else if(v.name==="counters"){var W=v.values.filter(Cl),N=W[0],ne=W[1],D=W[2];if(N&&wt(N)){var ie=o.counters.getCounterValues(N.value),Z=D&&wt(D)?i0.parse(o.context,D.value):3,b=ne&&ne.type===0?ne.value:"",R=ie.map(function(L){return mc(L,Z,!1)}).join(b);d.appendChild(u.createTextNode(R))}}}else if(v.type===20)switch(v.value){case"open-quote":d.appendChild(u.createTextNode($I(f.quotes,o.quoteDepth++,!0)));break;case"close-quote":d.appendChild(u.createTextNode($I(f.quotes,--o.quoteDepth,!1)));break;default:d.appendChild(u.createTextNode(v.value))}}),d.className=c0+" "+f0;var m=i===ic.BEFORE?" "+c0:" "+f0;return qd(t)?t.className.baseValue+=m:t.className+=m,d}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),ic;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(ic||(ic={}));var Zz=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(fb,"true"),n.body.appendChild(t),t},jz=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},e7=function(n){return Promise.all([].slice.call(n.images,0).map(jz))},t7=function(n){return new Promise(function(e,t){var A=n.contentWindow;if(!A)return t("No window assigned for iframe");var i=A.document;A.onload=n.onload=function(){A.onload=n.onload=null;var o=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(o),e(n))},50)}})},n7=["all","d","content"],$m=function(n,e){for(var t=n.length-1;t>=0;t--){var A=n.item(t);n7.indexOf(A)===-1&&e.style.setProperty(A,n.getPropertyValue(A))}return e},A7=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},r7=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},i7=function(n){var e=n[0],t=n[1],A=n[2];e.scrollLeft=t,e.scrollTop=A},s7=":before",o7=":after",c0="___html2canvas___pseudoelement_before",f0="___html2canvas___pseudoelement_after",CS=`{
    content: "" !important;
    display: none !important;
}`,a7=function(n){l7(n,"."+c0+s7+CS+`
         .`+f0+o7+CS)},l7=function(n,e){var t=n.ownerDocument;if(t){var A=t.createElement("style");A.textContent=e,n.appendChild(A)}},db=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),u7=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(jm(e)||h7(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return jn(this,void 0,void 0,function(){var t,A,i,o,a=this;return Vn(this,function(u){switch(u.label){case 0:return t=db.isSameOrigin(e),A=!Zm(e)&&this._options.useCORS===!0&&Fn.SUPPORT_CORS_IMAGES&&!t,i=!Zm(e)&&!t&&!jm(e)&&typeof this._options.proxy=="string"&&Fn.SUPPORT_CORS_XHR&&!A,!t&&this._options.allowTaint===!1&&!Zm(e)&&!jm(e)&&!i&&!A?[2]:(o=e,i?[4,this.proxy(o)]:[3,2]);case 1:o=u.sent(),u.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(f,d){var m=new Image;m.onload=function(){return f(m)},m.onerror=d,(g7(o)||A)&&(m.crossOrigin="anonymous"),m.src=o,m.complete===!0&&setTimeout(function(){return f(m)},500),a._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,u.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(o,a){var u=Fn.SUPPORT_RESPONSE_TYPE?"blob":"text",f=new XMLHttpRequest;f.onload=function(){if(f.status===200)if(u==="text")o(f.response);else{var v=new FileReader;v.addEventListener("load",function(){return o(v.result)},!1),v.addEventListener("error",function(w){return a(w)},!1),v.readAsDataURL(f.response)}else a("Failed to proxy resource "+i+" with status code "+f.status)},f.onerror=a;var d=A.indexOf("?")>-1?"&":"?";if(f.open("GET",""+A+d+"url="+encodeURIComponent(e)+"&responseType="+u),u!=="text"&&f instanceof XMLHttpRequest&&(f.responseType=u),t._options.imageTimeout){var m=t._options.imageTimeout;f.timeout=m,f.ontimeout=function(){return a("Timed out ("+m+"ms) proxying "+i)}}f.send()})},n})(),c7=/^data:image\/svg\+xml/i,f7=/^data:image\/.*;base64,/i,d7=/^data:image\/.*/i,h7=function(n){return Fn.SUPPORT_SVG_DRAWING||!p7(n)},Zm=function(n){return d7.test(n)},g7=function(n){return f7.test(n)},jm=function(n){return n.substr(0,4)==="blob"},p7=function(n){return n.substr(-3).toLowerCase()==="svg"||c7.test(n)},Be=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),Ya=function(n,e,t){return new Be(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},Id=(function(){function n(e,t,A,i){this.type=1,this.start=e,this.startControl=t,this.endControl=A,this.end=i}return n.prototype.subdivide=function(e,t){var A=Ya(this.start,this.startControl,e),i=Ya(this.startControl,this.endControl,e),o=Ya(this.endControl,this.end,e),a=Ya(A,i,e),u=Ya(i,o,e),f=Ya(a,u,e);return t?new n(this.start,A,a,f):new n(f,u,o,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),zA=function(n){return n.type===1},m7=(function(){function n(e){var t=e.styles,A=e.bounds,i=zu(t.borderTopLeftRadius,A.width,A.height),o=i[0],a=i[1],u=zu(t.borderTopRightRadius,A.width,A.height),f=u[0],d=u[1],m=zu(t.borderBottomRightRadius,A.width,A.height),v=m[0],w=m[1],T=zu(t.borderBottomLeftRadius,A.width,A.height),Q=T[0],N=T[1],D=[];D.push((o+f)/A.width),D.push((Q+v)/A.width),D.push((a+N)/A.height),D.push((d+w)/A.height);var O=Math.max.apply(Math,D);O>1&&(o/=O,a/=O,f/=O,d/=O,v/=O,w/=O,Q/=O,N/=O);var q=A.width-f,W=A.height-w,ne=A.width-v,ie=A.height-N,Z=t.borderTopWidth,b=t.borderRightWidth,R=t.borderBottomWidth,U=t.borderLeftWidth,M=Rt(t.paddingTop,e.bounds.width),L=Rt(t.paddingRight,e.bounds.width),k=Rt(t.paddingBottom,e.bounds.width),x=Rt(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||a>0?Vt(A.left+U/3,A.top+Z/3,o-U/3,a-Z/3,ut.TOP_LEFT):new Be(A.left+U/3,A.top+Z/3),this.topRightBorderDoubleOuterBox=o>0||a>0?Vt(A.left+q,A.top+Z/3,f-b/3,d-Z/3,ut.TOP_RIGHT):new Be(A.left+A.width-b/3,A.top+Z/3),this.bottomRightBorderDoubleOuterBox=v>0||w>0?Vt(A.left+ne,A.top+W,v-b/3,w-R/3,ut.BOTTOM_RIGHT):new Be(A.left+A.width-b/3,A.top+A.height-R/3),this.bottomLeftBorderDoubleOuterBox=Q>0||N>0?Vt(A.left+U/3,A.top+ie,Q-U/3,N-R/3,ut.BOTTOM_LEFT):new Be(A.left+U/3,A.top+A.height-R/3),this.topLeftBorderDoubleInnerBox=o>0||a>0?Vt(A.left+U*2/3,A.top+Z*2/3,o-U*2/3,a-Z*2/3,ut.TOP_LEFT):new Be(A.left+U*2/3,A.top+Z*2/3),this.topRightBorderDoubleInnerBox=o>0||a>0?Vt(A.left+q,A.top+Z*2/3,f-b*2/3,d-Z*2/3,ut.TOP_RIGHT):new Be(A.left+A.width-b*2/3,A.top+Z*2/3),this.bottomRightBorderDoubleInnerBox=v>0||w>0?Vt(A.left+ne,A.top+W,v-b*2/3,w-R*2/3,ut.BOTTOM_RIGHT):new Be(A.left+A.width-b*2/3,A.top+A.height-R*2/3),this.bottomLeftBorderDoubleInnerBox=Q>0||N>0?Vt(A.left+U*2/3,A.top+ie,Q-U*2/3,N-R*2/3,ut.BOTTOM_LEFT):new Be(A.left+U*2/3,A.top+A.height-R*2/3),this.topLeftBorderStroke=o>0||a>0?Vt(A.left+U/2,A.top+Z/2,o-U/2,a-Z/2,ut.TOP_LEFT):new Be(A.left+U/2,A.top+Z/2),this.topRightBorderStroke=o>0||a>0?Vt(A.left+q,A.top+Z/2,f-b/2,d-Z/2,ut.TOP_RIGHT):new Be(A.left+A.width-b/2,A.top+Z/2),this.bottomRightBorderStroke=v>0||w>0?Vt(A.left+ne,A.top+W,v-b/2,w-R/2,ut.BOTTOM_RIGHT):new Be(A.left+A.width-b/2,A.top+A.height-R/2),this.bottomLeftBorderStroke=Q>0||N>0?Vt(A.left+U/2,A.top+ie,Q-U/2,N-R/2,ut.BOTTOM_LEFT):new Be(A.left+U/2,A.top+A.height-R/2),this.topLeftBorderBox=o>0||a>0?Vt(A.left,A.top,o,a,ut.TOP_LEFT):new Be(A.left,A.top),this.topRightBorderBox=f>0||d>0?Vt(A.left+q,A.top,f,d,ut.TOP_RIGHT):new Be(A.left+A.width,A.top),this.bottomRightBorderBox=v>0||w>0?Vt(A.left+ne,A.top+W,v,w,ut.BOTTOM_RIGHT):new Be(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=Q>0||N>0?Vt(A.left,A.top+ie,Q,N,ut.BOTTOM_LEFT):new Be(A.left,A.top+A.height),this.topLeftPaddingBox=o>0||a>0?Vt(A.left+U,A.top+Z,Math.max(0,o-U),Math.max(0,a-Z),ut.TOP_LEFT):new Be(A.left+U,A.top+Z),this.topRightPaddingBox=f>0||d>0?Vt(A.left+Math.min(q,A.width-b),A.top+Z,q>A.width+b?0:Math.max(0,f-b),Math.max(0,d-Z),ut.TOP_RIGHT):new Be(A.left+A.width-b,A.top+Z),this.bottomRightPaddingBox=v>0||w>0?Vt(A.left+Math.min(ne,A.width-U),A.top+Math.min(W,A.height-R),Math.max(0,v-b),Math.max(0,w-R),ut.BOTTOM_RIGHT):new Be(A.left+A.width-b,A.top+A.height-R),this.bottomLeftPaddingBox=Q>0||N>0?Vt(A.left+U,A.top+Math.min(ie,A.height-R),Math.max(0,Q-U),Math.max(0,N-R),ut.BOTTOM_LEFT):new Be(A.left+U,A.top+A.height-R),this.topLeftContentBox=o>0||a>0?Vt(A.left+U+x,A.top+Z+M,Math.max(0,o-(U+x)),Math.max(0,a-(Z+M)),ut.TOP_LEFT):new Be(A.left+U+x,A.top+Z+M),this.topRightContentBox=f>0||d>0?Vt(A.left+Math.min(q,A.width+U+x),A.top+Z+M,q>A.width+U+x?0:f-U+x,d-(Z+M),ut.TOP_RIGHT):new Be(A.left+A.width-(b+L),A.top+Z+M),this.bottomRightContentBox=v>0||w>0?Vt(A.left+Math.min(ne,A.width-(U+x)),A.top+Math.min(W,A.height+Z+M),Math.max(0,v-(b+L)),w-(R+k),ut.BOTTOM_RIGHT):new Be(A.left+A.width-(b+L),A.top+A.height-(R+k)),this.bottomLeftContentBox=Q>0||N>0?Vt(A.left+U+x,A.top+ie,Math.max(0,Q-(U+x)),N-(R+k),ut.BOTTOM_LEFT):new Be(A.left+U+x,A.top+A.height-(R+k))}return n})(),ut;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ut||(ut={}));var Vt=function(n,e,t,A,i){var o=4*((Math.sqrt(2)-1)/3),a=t*o,u=A*o,f=n+t,d=e+A;switch(i){case ut.TOP_LEFT:return new Id(new Be(n,d),new Be(n,d-u),new Be(f-a,e),new Be(f,e));case ut.TOP_RIGHT:return new Id(new Be(n,e),new Be(n+a,e),new Be(f,d-u),new Be(f,d));case ut.BOTTOM_RIGHT:return new Id(new Be(f,e),new Be(f,e+u),new Be(n+a,d),new Be(n,d));case ut.BOTTOM_LEFT:default:return new Id(new Be(f,d),new Be(f-a,d),new Be(n,e+u),new Be(n,e))}},Sh=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},y7=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},Uh=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},B7=(function(){function n(e,t,A){this.offsetX=e,this.offsetY=t,this.matrix=A,this.type=0,this.target=6}return n})(),Sd=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),v7=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),w7=function(n){return n.type===0},hb=function(n){return n.type===1},C7=function(n){return n.type===2},ES=function(n,e){return n.length===e.length?n.some(function(t,A){return t===e[A]}):!1},E7=function(n,e,t,A,i){return n.map(function(o,a){switch(a){case 0:return o.add(e,t);case 1:return o.add(e+A,t);case 2:return o.add(e+A,t+i);case 3:return o.add(e,t+i)}return o})},gb=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),pb=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new m7(this.container),this.container.styles.opacity<1&&this.effects.push(new v7(this.container.styles.opacity)),this.container.styles.transform!==null){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new B7(A,i,o))}if(this.container.styles.overflowX!==0){var a=Sh(this.curves),u=Uh(this.curves);ES(a,u)?this.effects.push(new Sd(a,6)):(this.effects.push(new Sd(a,2)),this.effects.push(new Sd(u,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,A=this.parent,i=this.effects.slice(0);A;){var o=A.effects.filter(function(f){return!hb(f)});if(t||A.container.styles.position!==0||!A.parent){if(i.unshift.apply(i,o),t=[2,3].indexOf(A.container.styles.position)===-1,A.container.styles.overflowX!==0){var a=Sh(A.curves),u=Uh(A.curves);ES(a,u)||i.unshift(new Sd(u,6))}}else i.unshift.apply(i,o);A=A.parent}return i.filter(function(f){return gn(f.target,e)})},n})(),d0=function(n,e,t,A){n.container.elements.forEach(function(i){var o=gn(i.flags,4),a=gn(i.flags,2),u=new pb(i,n);gn(i.styles.display,2048)&&A.push(u);var f=gn(i.flags,8)?[]:A;if(o||a){var d=o||i.styles.isPositioned()?t:e,m=new gb(u);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var v=i.styles.zIndex.order;if(v<0){var w=0;d.negativeZIndex.some(function(Q,N){return v>Q.element.container.styles.zIndex.order?(w=N,!1):w>0}),d.negativeZIndex.splice(w,0,m)}else if(v>0){var T=0;d.positiveZIndex.some(function(Q,N){return v>=Q.element.container.styles.zIndex.order?(T=N+1,!1):T>0}),d.positiveZIndex.splice(T,0,m)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(m)}else i.styles.isFloating()?d.nonPositionedFloats.push(m):d.nonPositionedInlineLevel.push(m);d0(u,m,o?m:t,f)}else i.styles.isInlineLevel()?e.inlineLevel.push(u):e.nonInlineLevel.push(u),d0(u,e,t,f);gn(i.flags,8)&&mb(i,f)})},mb=function(n,e){for(var t=n instanceof a0?n.start:1,A=n instanceof a0?n.reversed:!1,i=0;i<e.length;i++){var o=e[i];o.container instanceof eb&&typeof o.container.value=="number"&&o.container.value!==0&&(t=o.container.value),o.listValue=mc(t,o.container.styles.listStyleType,!0),t+=A?-1:1}},_7=function(n){var e=new pb(n,null),t=new gb(e),A=[];return d0(e,t,t,A),mb(e.container,A),t},_S=function(n,e){switch(e){case 0:return WA(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return WA(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return WA(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return WA(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},T7=function(n,e){switch(e){case 0:return WA(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return WA(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return WA(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return WA(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},I7=function(n,e){switch(e){case 0:return WA(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return WA(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return WA(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return WA(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},S7=function(n,e){switch(e){case 0:return Ud(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return Ud(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return Ud(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return Ud(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},Ud=function(n,e){var t=[];return zA(n)?t.push(n.subdivide(.5,!1)):t.push(n),zA(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},WA=function(n,e,t,A){var i=[];return zA(n)?i.push(n.subdivide(.5,!1)):i.push(n),zA(t)?i.push(t.subdivide(.5,!0)):i.push(t),zA(A)?i.push(A.subdivide(.5,!0).reverse()):i.push(A),zA(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},yb=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Fh=function(n){var e=n.styles,t=n.bounds,A=Rt(e.paddingLeft,t.width),i=Rt(e.paddingRight,t.width),o=Rt(e.paddingTop,t.width),a=Rt(e.paddingBottom,t.width);return t.add(A+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+A+i),-(e.borderTopWidth+e.borderBottomWidth+o+a))},U7=function(n,e){return n===0?e.bounds:n===2?Fh(e):yb(e)},F7=function(n,e){return n===0?e.bounds:n===2?Fh(e):yb(e)},ey=function(n,e,t){var A=U7(nl(n.styles.backgroundOrigin,e),n),i=F7(nl(n.styles.backgroundClip,e),n),o=Q7(nl(n.styles.backgroundSize,e),t,A),a=o[0],u=o[1],f=zu(nl(n.styles.backgroundPosition,e),A.width-a,A.height-u),d=R7(nl(n.styles.backgroundRepeat,e),f,o,A,i),m=Math.round(A.left+f[0]),v=Math.round(A.top+f[1]);return[d,m,v,a,u]},Xa=function(n){return wt(n)&&n.value===gl.AUTO},Fd=function(n){return typeof n=="number"},Q7=function(n,e,t){var A=e[0],i=e[1],o=e[2],a=n[0],u=n[1];if(!a)return[0,0];if(ln(a)&&u&&ln(u))return[Rt(a,t.width),Rt(u,t.height)];var f=Fd(o);if(wt(a)&&(a.value===gl.CONTAIN||a.value===gl.COVER)){if(Fd(o)){var d=t.width/t.height;return d<o!=(a.value===gl.COVER)?[t.width,t.width/o]:[t.height*o,t.height]}return[t.width,t.height]}var m=Fd(A),v=Fd(i),w=m||v;if(Xa(a)&&(!u||Xa(u))){if(m&&v)return[A,i];if(!f&&!w)return[t.width,t.height];if(w&&f){var T=m?A:i*o,Q=v?i:A/o;return[T,Q]}var N=m?A:t.width,D=v?i:t.height;return[N,D]}if(f){var O=0,q=0;return ln(a)?O=Rt(a,t.width):ln(u)&&(q=Rt(u,t.height)),Xa(a)?O=q*o:(!u||Xa(u))&&(q=O/o),[O,q]}var W=null,ne=null;if(ln(a)?W=Rt(a,t.width):u&&ln(u)&&(ne=Rt(u,t.height)),W!==null&&(!u||Xa(u))&&(ne=m&&v?W/A*i:t.height),ne!==null&&Xa(a)&&(W=m&&v?ne/i*A:t.width),W!==null&&ne!==null)return[W,ne];throw new Error("Unable to calculate background-size for element")},nl=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},R7=function(n,e,t,A,i){var o=e[0],a=e[1],u=t[0],f=t[1];switch(n){case 2:return[new Be(Math.round(A.left),Math.round(A.top+a)),new Be(Math.round(A.left+A.width),Math.round(A.top+a)),new Be(Math.round(A.left+A.width),Math.round(f+A.top+a)),new Be(Math.round(A.left),Math.round(f+A.top+a))];case 3:return[new Be(Math.round(A.left+o),Math.round(A.top)),new Be(Math.round(A.left+o+u),Math.round(A.top)),new Be(Math.round(A.left+o+u),Math.round(A.height+A.top)),new Be(Math.round(A.left+o),Math.round(A.height+A.top))];case 1:return[new Be(Math.round(A.left+o),Math.round(A.top+a)),new Be(Math.round(A.left+o+u),Math.round(A.top+a)),new Be(Math.round(A.left+o+u),Math.round(A.top+a+f)),new Be(Math.round(A.left+o),Math.round(A.top+a+f))];default:return[new Be(Math.round(i.left),Math.round(i.top)),new Be(Math.round(i.left+i.width),Math.round(i.top)),new Be(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Be(Math.round(i.left),Math.round(i.height+i.top))]}},b7="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",TS="Hidden Text",x7=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var A=this._document.createElement("div"),i=this._document.createElement("img"),o=this._document.createElement("span"),a=this._document.body;A.style.visibility="hidden",A.style.fontFamily=e,A.style.fontSize=t,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",a.appendChild(A),i.src=b7,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(TS)),A.appendChild(o),A.appendChild(i);var u=i.offsetTop-o.offsetTop+2;A.removeChild(o),A.appendChild(this._document.createTextNode(TS)),A.style.lineHeight="normal",i.style.verticalAlign="super";var f=i.offsetTop-A.offsetTop+2;return a.removeChild(A),{baseline:u,middle:f}},n.prototype.getMetrics=function(e,t){var A=e+" "+t;return typeof this._data[A]>"u"&&(this._data[A]=this.parseMetrics(e,t)),this._data[A]},n})(),Bb=(function(){function n(e,t){this.context=e,this.options=t}return n})(),N7=1e4,D7=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i._activeEffects=[],i.canvas=A.canvas?A.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),A.canvas||(i.canvas.width=Math.floor(A.width*A.scale),i.canvas.height=Math.floor(A.height*A.scale),i.canvas.style.width=A.width+"px",i.canvas.style.height=A.height+"px"),i.fontMetrics=new x7(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-A.x,-A.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),i}return e.prototype.applyEffects=function(t){for(var A=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return A.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),C7(t)&&(this.ctx.globalAlpha=t.opacity),w7(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),hb(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return jn(this,void 0,void 0,function(){var A;return Vn(this,function(i){switch(i.label){case 0:return A=t.element.container.styles,A.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return jn(this,void 0,void 0,function(){return Vn(this,function(A){switch(A.label){case 0:if(gn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return A.sent(),[4,this.renderNodeContent(t)];case 2:A.sent(),A.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,A,i){var o=this;if(A===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=UB(t.text);a.reduce(function(u,f){return o.ctx.fillText(f,u,t.bounds.top+i),u+o.ctx.measureText(f).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var A=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=V7(t.fontFamily).join(", "),o=bc(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,A,t.fontWeight,o,i].join(" "),i,o]},e.prototype.renderTextNode=function(t,A){return jn(this,void 0,void 0,function(){var i,o,a,u,f,d,m,v,w=this;return Vn(this,function(T){return i=this.createFontStyle(A),o=i[0],a=i[1],u=i[2],this.ctx.font=o,this.ctx.direction=A.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",f=this.fontMetrics.getMetrics(a,u),d=f.baseline,m=f.middle,v=A.paintOrder,t.textBounds.forEach(function(Q){v.forEach(function(N){switch(N){case 0:w.ctx.fillStyle=Bn(A.color),w.renderTextWithLetterSpacing(Q,A.letterSpacing,d);var D=A.textShadow;D.length&&Q.text.trim().length&&(D.slice(0).reverse().forEach(function(O){w.ctx.shadowColor=Bn(O.color),w.ctx.shadowOffsetX=O.offsetX.number*w.options.scale,w.ctx.shadowOffsetY=O.offsetY.number*w.options.scale,w.ctx.shadowBlur=O.blur.number,w.renderTextWithLetterSpacing(Q,A.letterSpacing,d)}),w.ctx.shadowColor="",w.ctx.shadowOffsetX=0,w.ctx.shadowOffsetY=0,w.ctx.shadowBlur=0),A.textDecorationLine.length&&(w.ctx.fillStyle=Bn(A.textDecorationColor||A.color),A.textDecorationLine.forEach(function(O){switch(O){case 1:w.ctx.fillRect(Q.bounds.left,Math.round(Q.bounds.top+d),Q.bounds.width,1);break;case 2:w.ctx.fillRect(Q.bounds.left,Math.round(Q.bounds.top),Q.bounds.width,1);break;case 3:w.ctx.fillRect(Q.bounds.left,Math.ceil(Q.bounds.top+m),Q.bounds.width,1);break}}));break;case 1:A.webkitTextStrokeWidth&&Q.text.trim().length&&(w.ctx.strokeStyle=Bn(A.webkitTextStrokeColor),w.ctx.lineWidth=A.webkitTextStrokeWidth,w.ctx.lineJoin=window.chrome?"miter":"round",w.ctx.strokeText(Q.text,Q.bounds.left,Q.bounds.top+d)),w.ctx.strokeStyle="",w.ctx.lineWidth=0,w.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,A,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var o=Fh(t),a=Uh(A);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return jn(this,void 0,void 0,function(){var A,i,o,a,u,f,q,q,d,m,v,w,ne,T,Q,ie,N,D,O,q,W,ne,ie;return Vn(this,function(Z){switch(Z.label){case 0:this.applyEffects(t.getEffects(4)),A=t.container,i=t.curves,o=A.styles,a=0,u=A.textNodes,Z.label=1;case 1:return a<u.length?(f=u[a],[4,this.renderTextNode(f,o)]):[3,4];case 2:Z.sent(),Z.label=3;case 3:return a++,[3,1];case 4:if(!(A instanceof $R))return[3,8];Z.label=5;case 5:return Z.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return q=Z.sent(),this.renderReplacedElement(A,i,q),[3,8];case 7:return Z.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof ZR&&this.renderReplacedElement(A,i,A.canvas),!(A instanceof jR))return[3,12];Z.label=9;case 9:return Z.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return q=Z.sent(),this.renderReplacedElement(A,i,q),[3,12];case 11:return Z.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof Ab&&A.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}),[4,d.render(A.tree)]):[3,14];case 13:m=Z.sent(),A.width&&A.height&&this.ctx.drawImage(m,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),Z.label=14;case 14:if(A instanceof FB&&(v=Math.min(A.bounds.width,A.bounds.height),A.type===Eh?A.checked&&(this.ctx.save(),this.path([new Be(A.bounds.left+v*.39363,A.bounds.top+v*.79),new Be(A.bounds.left+v*.16,A.bounds.top+v*.5549),new Be(A.bounds.left+v*.27347,A.bounds.top+v*.44071),new Be(A.bounds.left+v*.39694,A.bounds.top+v*.5649),new Be(A.bounds.left+v*.72983,A.bounds.top+v*.23),new Be(A.bounds.left+v*.84,A.bounds.top+v*.34085),new Be(A.bounds.left+v*.39363,A.bounds.top+v*.79)]),this.ctx.fillStyle=Bn(fS),this.ctx.fill(),this.ctx.restore()):A.type===_h&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+v/2,A.bounds.top+v/2,v/4,0,Math.PI*2,!0),this.ctx.fillStyle=Bn(fS),this.ctx.fill(),this.ctx.restore())),M7(A)&&A.value.length){switch(w=this.createFontStyle(o),ne=w[0],T=w[1],Q=this.fontMetrics.getMetrics(ne,T).baseline,this.ctx.font=ne,this.ctx.fillStyle=Bn(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=H7(A.styles.textAlign),ie=Fh(A),N=0,A.styles.textAlign){case 1:N+=ie.width/2;break;case 2:N+=ie.width;break}D=ie.add(N,0,0,-ie.height/2+1),this.ctx.save(),this.path([new Be(ie.left,ie.top),new Be(ie.left+ie.width,ie.top),new Be(ie.left+ie.width,ie.top+ie.height),new Be(ie.left,ie.top+ie.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new rc(A.value,D),o.letterSpacing,Q),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!gn(A.styles.display,2048))return[3,20];if(A.styles.listStyleImage===null)return[3,19];if(O=A.styles.listStyleImage,O.type!==0)return[3,18];q=void 0,W=O.url,Z.label=15;case 15:return Z.trys.push([15,17,,18]),[4,this.context.cache.match(W)];case 16:return q=Z.sent(),this.ctx.drawImage(q,A.bounds.left-(q.width+10),A.bounds.top),[3,18];case 17:return Z.sent(),this.context.logger.error("Error loading list-style-image "+W),[3,18];case 18:return[3,20];case 19:t.listValue&&A.styles.listStyleType!==-1&&(ne=this.createFontStyle(o)[0],this.ctx.font=ne,this.ctx.fillStyle=Bn(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ie=new Mi(A.bounds.left,A.bounds.top+Rt(A.styles.paddingTop,A.bounds.width),A.bounds.width,XI(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new rc(t.listValue,ie),o.letterSpacing,XI(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Z.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return jn(this,void 0,void 0,function(){var A,i,O,o,a,O,u,f,O,d,m,O,v,w,O,T,Q,O,N,D,O;return Vn(this,function(q){switch(q.label){case 0:if(gn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:q.sent(),A=0,i=t.negativeZIndex,q.label=2;case 2:return A<i.length?(O=i[A],[4,this.renderStack(O)]):[3,5];case 3:q.sent(),q.label=4;case 4:return A++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:q.sent(),o=0,a=t.nonInlineLevel,q.label=7;case 7:return o<a.length?(O=a[o],[4,this.renderNode(O)]):[3,10];case 8:q.sent(),q.label=9;case 9:return o++,[3,7];case 10:u=0,f=t.nonPositionedFloats,q.label=11;case 11:return u<f.length?(O=f[u],[4,this.renderStack(O)]):[3,14];case 12:q.sent(),q.label=13;case 13:return u++,[3,11];case 14:d=0,m=t.nonPositionedInlineLevel,q.label=15;case 15:return d<m.length?(O=m[d],[4,this.renderStack(O)]):[3,18];case 16:q.sent(),q.label=17;case 17:return d++,[3,15];case 18:v=0,w=t.inlineLevel,q.label=19;case 19:return v<w.length?(O=w[v],[4,this.renderNode(O)]):[3,22];case 20:q.sent(),q.label=21;case 21:return v++,[3,19];case 22:T=0,Q=t.zeroOrAutoZIndexOrTransformedOrOpacity,q.label=23;case 23:return T<Q.length?(O=Q[T],[4,this.renderStack(O)]):[3,26];case 24:q.sent(),q.label=25;case 25:return T++,[3,23];case 26:N=0,D=t.positiveZIndex,q.label=27;case 27:return N<D.length?(O=D[N],[4,this.renderStack(O)]):[3,30];case 28:q.sent(),q.label=29;case 29:return N++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var A=this;t.forEach(function(i,o){var a=zA(i)?i.start:i;o===0?A.ctx.moveTo(a.x,a.y):A.ctx.lineTo(a.x,a.y),zA(i)&&A.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,A,i,o){this.path(t),this.ctx.fillStyle=A,this.ctx.translate(i,o),this.ctx.fill(),this.ctx.translate(-i,-o)},e.prototype.resizeImage=function(t,A,i){var o;if(t.width===A&&t.height===i)return t;var a=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,u=a.createElement("canvas");u.width=Math.max(1,A),u.height=Math.max(1,i);var f=u.getContext("2d");return f.drawImage(t,0,0,t.width,t.height,0,0,A,i),u},e.prototype.renderBackgroundImage=function(t){return jn(this,void 0,void 0,function(){var A,i,o,a,u,f;return Vn(this,function(d){switch(d.label){case 0:A=t.styles.backgroundImage.length-1,i=function(m){var v,w,T,M,K,ue,x,Te,R,Q,M,K,ue,x,Te,N,D,O,q,W,ne,ie,Z,b,R,U,M,L,k,x,Te,Xe,K,ue,me,Le,qe,P,j,fe,pe,Ie;return Vn(this,function(Qe){switch(Qe.label){case 0:if(m.type!==0)return[3,5];v=void 0,w=m.url,Qe.label=1;case 1:return Qe.trys.push([1,3,,4]),[4,o.context.cache.match(w)];case 2:return v=Qe.sent(),[3,4];case 3:return Qe.sent(),o.context.logger.error("Error loading background-image "+w),[3,4];case 4:return v&&(T=ey(t,A,[v.width,v.height,v.width/v.height]),M=T[0],K=T[1],ue=T[2],x=T[3],Te=T[4],R=o.ctx.createPattern(o.resizeImage(v,x,Te),"repeat"),o.renderRepeat(M,R,K,ue)),[3,6];case 5:w8(m)?(Q=ey(t,A,[null,null,null]),M=Q[0],K=Q[1],ue=Q[2],x=Q[3],Te=Q[4],N=p8(m.angle,x,Te),D=N[0],O=N[1],q=N[2],W=N[3],ne=N[4],ie=document.createElement("canvas"),ie.width=x,ie.height=Te,Z=ie.getContext("2d"),b=Z.createLinearGradient(O,W,q,ne),JI(m.stops,D).forEach(function(ke){return b.addColorStop(ke.stop,Bn(ke.color))}),Z.fillStyle=b,Z.fillRect(0,0,x,Te),x>0&&Te>0&&(R=o.ctx.createPattern(ie,"repeat"),o.renderRepeat(M,R,K,ue))):C8(m)&&(U=ey(t,A,[null,null,null]),M=U[0],L=U[1],k=U[2],x=U[3],Te=U[4],Xe=m.position.length===0?[TB]:m.position,K=Rt(Xe[0],x),ue=Rt(Xe[Xe.length-1],Te),me=m8(m,K,ue,x,Te),Le=me[0],qe=me[1],Le>0&&qe>0&&(P=o.ctx.createRadialGradient(L+K,k+ue,0,L+K,k+ue,Le),JI(m.stops,Le*2).forEach(function(ke){return P.addColorStop(ke.stop,Bn(ke.color))}),o.path(M),o.ctx.fillStyle=P,Le!==qe?(j=t.bounds.left+.5*t.bounds.width,fe=t.bounds.top+.5*t.bounds.height,pe=qe/Le,Ie=1/pe,o.ctx.save(),o.ctx.translate(j,fe),o.ctx.transform(1,0,0,pe,0,0),o.ctx.translate(-j,-fe),o.ctx.fillRect(L,Ie*(k-fe)+fe,x,Te*Ie),o.ctx.restore()):o.ctx.fill())),Qe.label=6;case 6:return A--,[2]}})},o=this,a=0,u=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return a<u.length?(f=u[a],[5,i(f)]):[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,A,i){return jn(this,void 0,void 0,function(){return Vn(this,function(o){return this.path(_S(i,A)),this.ctx.fillStyle=Bn(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,A,i,o){return jn(this,void 0,void 0,function(){var a,u;return Vn(this,function(f){switch(f.label){case 0:return A<3?[4,this.renderSolidBorder(t,i,o)]:[3,2];case 1:return f.sent(),[2];case 2:return a=T7(o,i),this.path(a),this.ctx.fillStyle=Bn(t),this.ctx.fill(),u=I7(o,i),this.path(u),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return jn(this,void 0,void 0,function(){var A,i,o,a,u,f,d,m,v=this;return Vn(this,function(w){switch(w.label){case 0:return this.applyEffects(t.getEffects(2)),A=t.container.styles,i=!Os(A.backgroundColor)||A.backgroundImage.length,o=[{style:A.borderTopStyle,color:A.borderTopColor,width:A.borderTopWidth},{style:A.borderRightStyle,color:A.borderRightColor,width:A.borderRightWidth},{style:A.borderBottomStyle,color:A.borderBottomColor,width:A.borderBottomWidth},{style:A.borderLeftStyle,color:A.borderLeftColor,width:A.borderLeftWidth}],a=L7(nl(A.backgroundClip,0),t.curves),i||A.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Os(A.backgroundColor)||(this.ctx.fillStyle=Bn(A.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:w.sent(),this.ctx.restore(),A.boxShadow.slice(0).reverse().forEach(function(T){v.ctx.save();var Q=Sh(t.curves),N=T.inset?0:N7,D=E7(Q,-N+(T.inset?1:-1)*T.spread.number,(T.inset?1:-1)*T.spread.number,T.spread.number*(T.inset?-2:2),T.spread.number*(T.inset?-2:2));T.inset?(v.path(Q),v.ctx.clip(),v.mask(D)):(v.mask(Q),v.ctx.clip(),v.path(D)),v.ctx.shadowOffsetX=T.offsetX.number+N,v.ctx.shadowOffsetY=T.offsetY.number,v.ctx.shadowColor=Bn(T.color),v.ctx.shadowBlur=T.blur.number,v.ctx.fillStyle=T.inset?Bn(T.color):"rgba(0,0,0,1)",v.ctx.fill(),v.ctx.restore()}),w.label=2;case 2:u=0,f=0,d=o,w.label=3;case 3:return f<d.length?(m=d[f],m.style!==0&&!Os(m.color)&&m.width>0?m.style!==2?[3,5]:[4,this.renderDashedDottedBorder(m.color,m.width,u,t.curves,2)]:[3,11]):[3,13];case 4:return w.sent(),[3,11];case 5:return m.style!==3?[3,7]:[4,this.renderDashedDottedBorder(m.color,m.width,u,t.curves,3)];case 6:return w.sent(),[3,11];case 7:return m.style!==4?[3,9]:[4,this.renderDoubleBorder(m.color,m.width,u,t.curves)];case 8:return w.sent(),[3,11];case 9:return[4,this.renderSolidBorder(m.color,u,t.curves)];case 10:w.sent(),w.label=11;case 11:u++,w.label=12;case 12:return f++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,A,i,o,a){return jn(this,void 0,void 0,function(){var u,f,d,m,v,w,T,Q,N,D,O,q,W,ne,ie,Z,ie,Z;return Vn(this,function(b){return this.ctx.save(),u=S7(o,i),f=_S(o,i),a===2&&(this.path(f),this.ctx.clip()),zA(f[0])?(d=f[0].start.x,m=f[0].start.y):(d=f[0].x,m=f[0].y),zA(f[1])?(v=f[1].end.x,w=f[1].end.y):(v=f[1].x,w=f[1].y),i===0||i===2?T=Math.abs(d-v):T=Math.abs(m-w),this.ctx.beginPath(),a===3?this.formatPath(u):this.formatPath(f.slice(0,2)),Q=A<3?A*3:A*2,N=A<3?A*2:A,a===3&&(Q=A,N=A),D=!0,T<=Q*2?D=!1:T<=Q*2+N?(O=T/(2*Q+N),Q*=O,N*=O):(q=Math.floor((T+N)/(Q+N)),W=(T-q*Q)/(q-1),ne=(T-(q+1)*Q)/q,N=ne<=0||Math.abs(N-W)<Math.abs(N-ne)?W:ne),D&&(a===3?this.ctx.setLineDash([0,Q+N]):this.ctx.setLineDash([Q,N])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=A):this.ctx.lineWidth=A*2+1.1,this.ctx.strokeStyle=Bn(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(zA(f[0])&&(ie=f[3],Z=f[0],this.ctx.beginPath(),this.formatPath([new Be(ie.end.x,ie.end.y),new Be(Z.start.x,Z.start.y)]),this.ctx.stroke()),zA(f[1])&&(ie=f[1],Z=f[2],this.ctx.beginPath(),this.formatPath([new Be(ie.end.x,ie.end.y),new Be(Z.start.x,Z.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return jn(this,void 0,void 0,function(){var A;return Vn(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Bn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),A=_7(t),[4,this.renderStack(A)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(Bb),M7=function(n){return n instanceof nb||n instanceof tb?!0:n instanceof FB&&n.type!==_h&&n.type!==Eh},L7=function(n,e){switch(n){case 0:return Sh(e);case 2:return y7(e);case 1:default:return Uh(e)}},H7=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},P7=["-apple-system","system-ui"],V7=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return P7.indexOf(e)===-1}):n},O7=(function(n){Cr(e,n);function e(t,A){var i=n.call(this,t,A)||this;return i.canvas=A.canvas?A.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=A,i.canvas.width=Math.floor(A.width*A.scale),i.canvas.height=Math.floor(A.height*A.scale),i.canvas.style.width=A.width+"px",i.canvas.style.height=A.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-A.x,-A.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),i}return e.prototype.render=function(t){return jn(this,void 0,void 0,function(){var A,i;return Vn(this,function(o){switch(o.label){case 0:return A=o0(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,k7(A)];case 1:return i=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Bn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(Bb),k7=function(n){return new Promise(function(e,t){var A=new Image;A.onload=function(){e(A)},A.onerror=t,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},K7=(function(){function n(e){var t=e.id,A=e.enabled;this.id=t,this.enabled=A,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,od([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,od([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,od([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,od([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),G7=(function(){function n(e,t){var A;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new K7({id:this.instanceName,enabled:e.logging}),this.cache=(A=e.cache)!==null&&A!==void 0?A:new u7(this,e)}return n.instanceCount=1,n})(),q7=function(n,e){return e===void 0&&(e={}),z7(n,e)};typeof window<"u"&&db.setContext(window);var z7=function(n,e){return jn(void 0,void 0,void 0,function(){var t,A,i,o,a,u,f,d,m,v,w,T,Q,N,D,O,q,W,ne,ie,b,Z,b,R,U,M,L,k,x,Te,Xe,K,ue,me,Le,qe,P,j,fe,pe;return Vn(this,function(Ie){switch(Ie.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(A=t.defaultView,!A)throw new Error("Document is not attached to a Window");return i={allowTaint:(R=e.allowTaint)!==null&&R!==void 0?R:!1,imageTimeout:(U=e.imageTimeout)!==null&&U!==void 0?U:15e3,proxy:e.proxy,useCORS:(M=e.useCORS)!==null&&M!==void 0?M:!1},o=zy({logging:(L=e.logging)!==null&&L!==void 0?L:!0,cache:e.cache},i),a={windowWidth:(k=e.windowWidth)!==null&&k!==void 0?k:A.innerWidth,windowHeight:(x=e.windowHeight)!==null&&x!==void 0?x:A.innerHeight,scrollX:(Te=e.scrollX)!==null&&Te!==void 0?Te:A.pageXOffset,scrollY:(Xe=e.scrollY)!==null&&Xe!==void 0?Xe:A.pageYOffset},u=new Mi(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),f=new G7(o,u),d=(K=e.foreignObjectRendering)!==null&&K!==void 0?K:!1,m={allowTaint:(ue=e.allowTaint)!==null&&ue!==void 0?ue:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},f.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),v=new wS(f,n,m),w=v.clonedReferenceElement,w?[4,v.toIFrame(t,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return T=Ie.sent(),Q=QB(w)||Jz(w)?E6(w.ownerDocument):ag(f,w),N=Q.width,D=Q.height,O=Q.left,q=Q.top,W=J7(f,w,e.backgroundColor),ne={canvas:e.canvas,backgroundColor:W,scale:(Le=(me=e.scale)!==null&&me!==void 0?me:A.devicePixelRatio)!==null&&Le!==void 0?Le:1,x:((qe=e.x)!==null&&qe!==void 0?qe:0)+O,y:((P=e.y)!==null&&P!==void 0?P:0)+q,width:(j=e.width)!==null&&j!==void 0?j:Math.ceil(N),height:(fe=e.height)!==null&&fe!==void 0?fe:Math.ceil(D)},d?(f.logger.debug("Document cloned, using foreign object rendering"),b=new O7(f,ne),[4,b.render(w)]):[3,3];case 2:return ie=Ie.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+O+","+q+" with size "+N+"x"+D+" using computed rendering"),f.logger.debug("Starting DOM parsing"),Z=ib(f,w),W===Z.styles.backgroundColor&&(Z.styles.backgroundColor=Qi.TRANSPARENT),f.logger.debug("Starting renderer for element at "+ne.x+","+ne.y+" with size "+ne.width+"x"+ne.height),b=new D7(f,ne),[4,b.render(Z)];case 4:ie=Ie.sent(),Ie.label=5;case 5:return(!((pe=e.removeContainer)!==null&&pe!==void 0)||pe)&&(wS.destroy(T)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,ie]}})})},J7=function(n,e,t){var A=e.ownerDocument,i=A.documentElement?nc(n,getComputedStyle(A.documentElement).backgroundColor):Qi.TRANSPARENT,o=A.body?nc(n,getComputedStyle(A.body).backgroundColor):Qi.TRANSPARENT,a=typeof t=="string"?nc(n,t):t===null?Qi.TRANSPARENT:4294967295;return e===A.documentElement?Os(i)?Os(o)?a:o:i:a};const IS=["","","","","","","","","","","","","","","","","","","",""],Y7=()=>{const[n,e]=Ne.useState(Re.LANDING),[t,A]=Ne.useState("FLAVOR"),[i,o]=Ne.useState("zh"),[a,u]=Ne.useState("Traditional Chinese"),[f,d]=Ne.useState(!1),[m,v]=Ne.useState(null),[w,T]=Ne.useState(!0),[Q,N]=Ne.useState("login"),[D,O]=Ne.useState(""),[q,W]=Ne.useState(""),[ne,ie]=Ne.useState(""),[Z,b]=Ne.useState(!1),[R,U]=Ne.useState(!1),[M,L]=Ne.useState(!1),[k,x]=Ne.useState(!1),[Te,Xe]=Ne.useState([]),[K,ue]=Ne.useState(null),[me,Le]=Ne.useState([]),[qe,P]=Ne.useState([]),[j,fe]=Ne.useState(null),[pe,Ie]=Ne.useState(null),[Qe,ke]=Ne.useState(""),[Ot,ft]=Ne.useState(""),[Er,er]=Ne.useState(!1),[nA,Vi]=Ne.useState(null),[zn,Zr]=Ne.useState(""),[Jn,jr]=Ne.useState(""),[ei,kt]=Ne.useState(!1),[It,tr]=Ne.useState(!1),[xc,Oi]=Ne.useState(""),[mn,ti]=Ne.useState(0),[ki,_r]=Ne.useState(0),[hA,Ml]=Ne.useState({}),[AA,nr]=Ne.useState(""),[no,gA]=Ne.useState(""),[gt,rA]=Ne.useState(!0),[Dt,ia]=Ne.useState(""),[Ki,Ao]=Ne.useState(""),Yn=Ne.useRef(null),Tr=Ne.useRef(null),Mt=Ne.useRef({}),iA=Ne.useRef(null),Nn=Ne.useRef({text:"",count:0}),Ae=a1[i],sa=[Ae.loadingFlavor,Ae.loadingFlavor1,Ae.loadingFlavor2,Ae.loadingFlavor3,Ae.loadingFlavor4,Ae.loadingFlavor5],ro=[Ae.loadingWord,Ae.loadingWord1,Ae.loadingWord2,Ae.loadingWord3,Ae.loadingWord4,Ae.loadingWord5];Ne.useEffect(()=>{window.PublicKeyCredential&&window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(de=>L(de)).catch(de=>console.error(de)),localStorage.getItem("flavorpal_biometric_enabled")==="true"&&U(!0)},[]),Ne.useEffect(()=>{if([Re.LOADING,Re.CHECKOUT,Re.RECEIPT].includes(n)){ia(IS[Math.floor(Math.random()*IS.length)]);const J=t==="FLAVOR"?Ae.flavorFacts:Ae.wordFacts;Array.isArray(J)?Ao(J[Math.floor(Math.random()*J.length)]):Ao(J)}},[n,t,Ae.flavorFacts,Ae.wordFacts]),Ne.useEffect(()=>{window.speechSynthesis.cancel(),Nn.current={text:"",count:0}},[n]),Ne.useEffect(()=>{const J=localStorage.getItem("flavorpal_saved_email");J&&(O(J),b(!0));const de=p6(async he=>{if(v(he),he){T(!1),localStorage.getItem("flavorpal_biometric_enabled")==="true"&&x(!0);const Se=await w6();P(Se);const xe=localStorage.getItem("flavorpal_api_key");xe&&nr(xe);const bt=await y6();bt.apiKey?(nr(bt.apiKey),localStorage.setItem("flavorpal_api_key",bt.apiKey)):xe||(nr(""),d(!0))}else T(!0),x(!1),P([]),nr("")});return()=>de()},[]);const FA=async()=>{if(!m)return;const J=new Uint8Array(32);window.crypto.getRandomValues(J);const de=new TextEncoder().encode(m.uid),he={challenge:J,rp:{name:"FlavorPal",id:window.location.hostname},user:{id:de,name:m.email||"User",displayName:m.email||"User"},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4,attestation:"none"};try{await navigator.credentials.create({publicKey:he})&&(U(!0),localStorage.setItem("flavorpal_biometric_enabled","true"),alert(Ae.biometricSetupSuccess))}catch(ce){console.error("Biometric Setup Error",ce),U(!1),localStorage.removeItem("flavorpal_biometric_enabled"),alert(Ae.biometricSetupFailed)}},ni=()=>{U(!1),localStorage.removeItem("flavorpal_biometric_enabled")},Ll=async()=>{const J=new Uint8Array(32);window.crypto.getRandomValues(J);const de={challenge:J,timeout:6e4,userVerification:"required"};try{await navigator.credentials.get({publicKey:de})&&x(!1)}catch(he){console.error("Unlock failed",he)}},Ai=async J=>{J.preventDefault(),ie("");try{Q==="login"?(await g6(D,q),Z?localStorage.setItem("flavorpal_saved_email",D):localStorage.removeItem("flavorpal_saved_email")):await h6(D,q)}catch(de){console.error(de),ie(Ae.authError+(de.message?` (${de.message})`:""))}},io=async()=>{await II(),localStorage.removeItem("flavorpal_api_key"),d(!1),x(!1)};Ne.useEffect(()=>{const J=localStorage.getItem("flavorpal_ui_lang"),de=localStorage.getItem("flavorpal_target_lang");(J==="en"||J==="zh")&&o(J),de&&u(de)},[]);const so=async()=>{const J=no.trim();J&&(localStorage.setItem("flavorpal_api_key",J),nr(J),await m6(J)),localStorage.setItem("flavorpal_ui_lang",i),localStorage.setItem("flavorpal_target_lang",a),d(!1)};Ne.useEffect(()=>{if(n===Re.LOADING){const J=t==="FLAVOR"?sa:ro,de=setInterval(()=>{ti(he=>(he+1)%J.length)},2e3);return()=>clearInterval(de)}},[n,t]);const ri=async()=>{var de;if(Te.length===0)return;if(!AA){d(!0);return}e(Re.LOADING),_r(0);const J=setInterval(()=>{_r(he=>{if(he>=90)return he;const ce=Math.max(1,(90-he)/10);return he+Math.random()*ce})},200);try{if(t==="FLAVOR"){const he=await B2(Te,AA,a);clearInterval(J),_r(100),Qe.trim()?he.restaurant_name=Qe.trim():he.restaurant_name="",Ot.trim()?he.restaurant_address=Ot.trim():Qe.trim()||(he.restaurant_address=""),ue(he);const ce=Array.from(new Set(he.items.map(xe=>xe.currency_original))),Se={};for(const xe of ce)Se[xe]=await C2(xe);Ml(Se),setTimeout(()=>{e(Re.MENU)},500)}else{const he=await v2(Te,AA,a);clearInterval(J),_r(100),Vi(he),setTimeout(()=>{e(Re.WORDPAL_RESULT)},500)}}catch(he){clearInterval(J),console.error("AI Analysis failed:",he),alert(Ae.failedAnalyze),((de=he==null?void 0:he.message)!=null&&de.includes("403")||he!=null&&he.toString().includes("API key"))&&(nr(""),d(!0)),e(t==="FLAVOR"?Re.UPLOAD:Re.WORDPAL_UPLOAD)}},Ar=async()=>{if(!(!zn.trim()||It)){if(!AA){d(!0);return}tr(!0);try{const J=await w2(zn,AA);jr(J.translated_text),Oi(J.detected_language)}catch(J){console.error(J),alert(Ae.failedAnalyze)}finally{tr(!1)}}},oa=J=>{Le(de=>de.find(ce=>ce.id===J.name_original)?de.map(ce=>ce.id===J.name_original?{...ce,quantity:ce.quantity+1}:ce):[...de,{...J,id:J.name_original,quantity:1}])},pA=J=>{Le(de=>{const he=de.find(ce=>ce.id===J.name_original);return he&&he.quantity>1?de.map(ce=>ce.id===J.name_original?{...ce,quantity:ce.quantity-1}:ce):de.filter(ce=>ce.id!==J.name_original)})},mA=async()=>{var ce;if(!K)return;const J=me.reduce((Se,xe)=>Se+xe.price_original*xe.quantity,0),de=me.reduce((Se,xe)=>Se+xe.price_original*xe.quantity*(hA[xe.currency_original]||1),0),he={id:Math.random().toString(36).substr(2,9),date:new Date().toLocaleDateString(),restaurant_name:K.restaurant_name,restaurant_address:K.restaurant_address,items:[...me],total_original:J,currency_original:((ce=me[0])==null?void 0:ce.currency_original)||"HKD",total_hkd:de,detected_language:K.detected_language};P(Se=>[he,...Se]),B6(he),Le([]),Xe([]),ke(""),ft(""),e(Re.HOME)},Lt=async(J,de)=>{if(n===Re.CHECKOUT&&K)ue({...K,[J]:de});else if(n===Re.RECEIPT&&j){const he={...j,[J]:de};fe(he),P(ce=>ce.map(Se=>Se.id===he.id?he:Se)),await v6(he)}},nn=async J=>{Ie(J)},QA=async()=>{if(!pe)return;const J=pe;P(de=>de.filter(he=>he.id!==J)),C6(J),Ie(null)},Gi=async()=>{if(iA.current)try{const de=(await q7(iA.current,{backgroundColor:"#0f172a",scale:3,useCORS:!0,onclone:ce=>{const Se=ce.getElementById("receipt-container");if(Se){Se.style.display="block",Se.style.padding="40px";const xe=ce.getElementById("receipt-total");xe&&(xe.style.marginTop="40px",xe.style.paddingTop="20px",xe.style.borderTop="2px solid #1e293b");const bt=ce.getElementById("receipt-inputs");bt&&(bt.style.marginTop="40px",bt.style.padding="20px",bt.style.background="rgba(15, 23, 42, 0.5)",bt.style.borderRadius="16px"),Se.querySelectorAll("input").forEach(St=>{const pt=ce.createElement("p");if(pt.textContent=St.value||St.placeholder,pt.style.fontSize=St.classList.contains("text-xs")?"14px":"20px",pt.style.fontWeight="bold",pt.style.color="#e2e8f0",pt.style.textAlign="center",pt.style.margin="8px 0",pt.style.width="100%",pt.style.lineHeight="1.4",pt.style.border="none",pt.style.background="transparent",St.parentNode)if(St.parentElement&&St.parentElement.classList.contains("relative")){const fn=St.parentElement.querySelector("button");fn&&(fn.style.display="none"),St.parentElement.appendChild(pt),St.style.display="none"}else St.parentNode.replaceChild(pt,St)})}}})).toDataURL("image/png"),he=document.createElement("a");he.href=de,he.download=`FlavorPal-Receipt-${new Date().toISOString().slice(0,10)}.png`,document.body.appendChild(he),he.click(),document.body.removeChild(he),setTimeout(()=>alert(Ae.savedToGallery),500)}catch(J){console.error("Failed to save receipt",J)}},Hl=J=>{fe(J),e(Re.RECEIPT)},aa=J=>new Promise((de,he)=>{const ce=new FileReader;ce.readAsDataURL(J),ce.onload=Se=>{var bt;const xe=new Image;xe.src=(bt=Se.target)==null?void 0:bt.result,xe.onload=()=>{const Ct=document.createElement("canvas"),St=1024,pt=1024;let fn=xe.width,dn=xe.height;fn>dn?fn>St&&(dn*=St/fn,fn=St):dn>pt&&(fn*=pt/dn,dn=pt),Ct.width=fn,Ct.height=dn;const Ut=Ct.getContext("2d");Ut==null||Ut.drawImage(xe,0,0,fn,dn),de(Ct.toDataURL("image/jpeg",.8))},xe.onerror=Ct=>he(Ct)},ce.onerror=Se=>he(Se)}),Ir=async J=>{const de=J.target.files;if(de&&de.length>0){const he=Array.from(de);try{const ce=he.map(xe=>aa(xe)),Se=await Promise.all(ce);Xe(xe=>[...xe,...Se].slice(0,2)),n===Re.HOME?e(Re.UPLOAD):n===Re.WORDPAL_HOME&&e(Re.WORDPAL_UPLOAD)}catch(ce){console.error("Error processing images:",ce),alert(Ae.failedAnalyze)}}},yA=()=>{if(!AA){alert(Ae.enterKey),d(!0);return}er(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async J=>{const{latitude:de,longitude:he}=J.coords;try{const ce=await E2(de,he,AA);ft(ce),n===Re.CHECKOUT&&K?ue({...K,restaurant_address:ce}):n===Re.RECEIPT&&j&&Lt("restaurant_address",ce)}catch(ce){console.error("Reverse geocoding failed",ce);const Se=`${de.toFixed(5)}, ${he.toFixed(5)}`;ft(Se),alert(Ae.locateError+" (AI Error)")}finally{er(!1)}},J=>{alert(Ae.locateError),console.error(J),er(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0}):(alert("Geolocation is not supported by this browser."),er(!1))},qi=J=>{if(Mt.current[J]){const he=Mt.current[J];if(he){const ce=he.getBoundingClientRect().top+window.pageYOffset+-140;window.scrollTo({top:ce,behavior:"smooth"})}}},Dn=(J,de)=>{if(window.speechSynthesis.speaking&&Nn.current.text===J){window.speechSynthesis.cancel(),Nn.current={text:"",count:0};return}window.speechSynthesis.cancel();const he=new SpeechSynthesisUtterance(J);if(de)he.lang=de;else if(t==="PORTABLE"&&Jn){const ce=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf]/.test(Jn);he.lang=ce?"ja-JP":"zh-TW"}else K!=null&&K.detected_language&&(he.lang=K.detected_language);he.rate=1,Nn.current={text:J,count:1},he.onend=()=>{Nn.current={text:"",count:0}},window.speechSynthesis.speak(he)},Cn=J=>({JPY:"",USD:"$",HKD:"HK$",TWD:"NT$",CNY:"",EUR:"",GBP:"",KRW:"",THB:""})[J]||J,En=J=>{A(J),Xe([]),J==="FLAVOR"?e(Re.HOME):J==="WORD"?e(Re.WORDPAL_HOME):J==="PORTABLE"&&(e(Re.PORTABLE_TRANSLATOR),Zr(""),jr(""),kt(!1),Oi(""))},RA=()=>{var J;return I.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-8 bg-slate-950 text-white",children:[I.jsx("div",{className:"mb-8 p-6 bg-slate-900 rounded-full border border-slate-800 shadow-[0_0_50px_rgba(13,148,136,0.1)]",children:I.jsx("div",{className:"scale-150 text-teal-500",children:I.jsx(_t.FaceId,{})})}),I.jsxs("h2",{className:"text-2xl font-bold mb-2 tracking-tight",children:[Ae.welcome," ",(J=m==null?void 0:m.email)==null?void 0:J.split("@")[0]]}),I.jsx("p",{className:"text-slate-400 text-sm mb-10",children:Ae.biometricLogin}),I.jsxs("button",{onClick:Ll,className:"w-full max-w-xs bg-teal-600 hover:bg-teal-500 text-white font-bold py-4 rounded-2xl shadow-lg transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(_t.FaceId,{}),I.jsx("span",{children:Ae.unlock})]}),I.jsx("button",{onClick:()=>II(),className:"mt-8 text-slate-500 text-sm hover:text-white transition-colors",children:Ae.logout})]})},Gt=()=>pe?I.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-3xl p-8 max-w-sm w-full shadow-2xl text-center",children:[I.jsx("div",{className:"text-5xl mb-4",children:""}),I.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:Ae.deleteHistoryConfirm}),I.jsx("p",{className:"text-slate-400 text-sm mb-8 leading-relaxed",children:i==="zh"?"":"This action cannot be undone."}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{onClick:()=>Ie(null),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold py-3 rounded-2xl transition-all",children:Ae.cancel}),I.jsx("button",{onClick:QA,className:"flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-2xl transition-all shadow-lg",children:i==="zh"?"":"Delete"})]})]})}):null,oo=()=>w?I.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:I.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:[I.jsxs("div",{className:"text-center mb-6",children:[I.jsx("div",{className:"text-5xl mb-2",children:""}),I.jsx("h2",{className:"text-2xl font-bold text-white",children:Q==="login"?Ae.login:Ae.signup}),I.jsx("p",{className:"text-slate-400 text-sm mt-2",children:Ae.loginPrompt})]}),I.jsxs("form",{onSubmit:Ai,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:Ae.email}),I.jsx("input",{type:"email",name:"email",autoComplete:"username",value:D,onChange:J=>O(J.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-teal-500 outline-none",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:Ae.password}),I.jsx("input",{type:"password",name:"password",autoComplete:Q==="login"?"current-password":"new-password",value:q,onChange:J=>W(J.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-teal-500 outline-none",required:!0,minLength:6})]}),Q==="login"&&I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("input",{type:"checkbox",id:"rememberMe",checked:Z,onChange:J=>b(J.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-slate-950 text-teal-600 focus:ring-teal-500 accent-teal-600 cursor-pointer"}),I.jsx("label",{htmlFor:"rememberMe",className:"text-sm text-slate-400 select-none cursor-pointer",children:Ae.rememberMe})]}),ne&&I.jsx("div",{className:"text-red-400 text-xs bg-red-900/20 p-2 rounded-lg border border-red-500/20",children:ne}),I.jsx("button",{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg mt-2",children:Q==="login"?Ae.login:Ae.signup})]}),I.jsx("div",{className:"mt-6 text-center text-sm text-slate-400",children:I.jsxs("p",{children:[Q==="login"?Ae.noAccount:Ae.hasAccount," ",I.jsx("button",{onClick:()=>{N(Q==="login"?"signup":"login"),ie("")},className:"text-teal-400 font-bold hover:underline",children:Q==="login"?Ae.signup:Ae.login})]})})]})}):null,ao=()=>I.jsx(Ei,{title:"",actions:I.jsx("button",{onClick:()=>d(!0),className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-300",title:Ae.settings,children:I.jsx(_t.Settings,{})}),children:I.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] gap-6 py-8",children:[oo(),f&&I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-3xl p-6 max-w-sm w-full shadow-2xl overflow-y-auto max-h-[90vh]",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[I.jsx(_t.Settings,{})," ",Ae.settings]}),AA&&I.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-white",children:""})]}),I.jsxs("div",{className:"mb-6 bg-slate-950 p-4 rounded-xl border border-slate-800",children:[I.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1",children:Ae.loggedInAs}),I.jsx("p",{className:"text-white text-sm font-medium truncate mb-3",children:m==null?void 0:m.email}),I.jsxs("button",{onClick:io,className:"w-full flex items-center justify-center gap-2 bg-slate-800 hover:bg-red-900/30 text-slate-300 hover:text-red-400 text-xs py-2 rounded-lg transition-colors border border-slate-700 hover:border-red-500/30",children:[I.jsx(_t.Logout,{})," ",Ae.logout]})]}),M&&I.jsx("div",{className:"mb-6",children:I.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-950 rounded-xl border border-slate-800",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx(_t.FaceId,{}),I.jsx("span",{className:"text-sm font-medium text-slate-200",children:Ae.enableBiometric})]}),I.jsxs("div",{className:"relative inline-block w-12 h-6 align-middle select-none transition duration-200 ease-in",children:[I.jsx("input",{type:"checkbox",name:"biometric",id:"biometric-toggle",className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer transition-transform duration-200 ease-in-out",style:{transform:R?"translateX(100%)":"translateX(0)",borderColor:R?"#0d9488":"#334155"},checked:R,onChange:J=>J.target.checked?FA():ni()}),I.jsx("label",{htmlFor:"biometric-toggle",className:`toggle-label block overflow-hidden h-6 rounded-full cursor-pointer ${R?"bg-teal-600":"bg-slate-700"}`})]})]})}),I.jsxs("div",{className:"mb-6",children:[I.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:Ae.uiLanguage}),I.jsxs("div",{className:"flex bg-slate-950 rounded-xl p-1 border border-slate-800",children:[I.jsx("button",{onClick:()=>o("zh"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${i==="zh"?"bg-slate-800 text-white shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:""}),I.jsx("button",{onClick:()=>o("en"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${i==="en"?"bg-slate-800 text-white shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:"English"})]})]}),I.jsxs("div",{className:"mb-6 pt-6 border-t border-slate-800",children:[I.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:Ae.apiKey}),I.jsxs("p",{className:"text-slate-500 text-xs mb-3 leading-relaxed",children:[Ae.apiKeyDesc," ",I.jsx("br",{}),I.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-teal-400 underline hover:text-teal-300",children:Ae.getKey})]}),I.jsx("input",{type:"password",value:no,onChange:J=>gA(J.target.value),placeholder:AA?"****************":Ae.apiKeyPlaceholder,className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white mb-2 focus:border-teal-500 outline-none placeholder:text-slate-600"})]}),I.jsx("button",{onClick:so,className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg",children:Ae.save})]})}),I.jsxs("div",{className:"text-center space-y-2 mb-4",children:[I.jsx("h1",{className:"text-4xl font-black text-white tracking-tight",children:Ae.appTitle}),I.jsx("p",{className:"text-slate-400",children:Ae.chooseTool})]}),I.jsxs("button",{onClick:()=>En("FLAVOR"),className:"w-full bg-slate-900 hover:bg-slate-800 border border-slate-700 hover:border-teal-500/50 p-6 rounded-3xl transition-all group relative overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/0 via-teal-500/5 to-teal-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-6xl mb-4 group-hover:scale-110 transition-transform duration-300 scale-x-[-1] inline-block",children:""}),I.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-1",children:Ae.flavorPal}),I.jsx("p",{className:"text-slate-500 text-xs",children:Ae.flavorPalDesc})]})]}),I.jsxs("button",{onClick:()=>En("WORD"),className:"w-full bg-slate-900 hover:bg-slate-800 border border-slate-700 hover:border-indigo-500/50 p-6 rounded-3xl transition-all group relative overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/0 via-indigo-500/5 to-indigo-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-6xl mb-4 group-hover:scale-110 transition-transform duration-300",children:""}),I.jsx("h2",{className:"text-2xl font-bold text-indigo-400 mb-1",children:Ae.wordPal}),I.jsx("p",{className:"text-slate-500 text-xs",children:Ae.wordPalDesc})]})]}),I.jsxs("button",{onClick:()=>En("PORTABLE"),className:"w-full bg-slate-900 hover:bg-slate-800 border border-slate-700 hover:border-purple-500/50 p-6 rounded-3xl transition-all group relative overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/0 via-purple-500/5 to-purple-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-6xl mb-4 group-hover:scale-110 transition-transform duration-300",children:""}),I.jsx("h2",{className:"text-2xl font-bold text-purple-400 mb-1",children:Ae.portablePal}),I.jsx("p",{className:"text-slate-500 text-xs",children:Ae.portablePalDesc})]})]})]})}),bA=()=>I.jsx(Ei,{title:Ae.portablePal,onBack:()=>e(Re.LANDING),children:I.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] gap-4 py-4 relative",children:[I.jsx("div",{className:`flex-1 flex flex-col relative transition-transform duration-500 ${ei?"rotate-180":""}`,children:I.jsxs("div",{className:"flex-1 bg-gradient-to-br from-indigo-600 to-purple-700 rounded-[2.5rem] p-8 flex flex-col items-center justify-center text-center shadow-xl border border-white/10 overflow-hidden relative",children:[!Jn&&!It&&I.jsxs("div",{className:"flex flex-col items-center gap-4 text-white/40",children:[I.jsx(_t.Translate,{}),I.jsx("p",{className:"text-lg font-medium",children:Ae.translationPlaceholder})]}),It&&I.jsxs("div",{className:"flex flex-col items-center gap-4",children:[I.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin"}),I.jsx("p",{className:"text-white/60 font-bold",children:Ae.translating})]}),Jn&&!It&&I.jsx("p",{className:"text-white text-3xl font-black leading-tight break-words max-w-full",children:Jn}),Jn&&!It&&I.jsx("button",{onClick:()=>Dn(Jn),className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white backdrop-blur-md transition-all active:scale-90",children:I.jsx(_t.Speaker,{})})]})}),I.jsxs("div",{className:"flex justify-between items-center px-2",children:[I.jsx("button",{onClick:()=>{Zr(""),jr(""),Oi("")},className:"p-4 bg-slate-900 border border-slate-800 rounded-2xl text-slate-500 hover:text-red-400 hover:bg-red-950/20 hover:border-red-900/50 transition-all active:scale-90",children:I.jsx(_t.Trash,{})}),I.jsxs("button",{onClick:()=>kt(!ei),className:`flex items-center gap-2 px-8 py-4 rounded-2xl font-bold transition-all ${ei?"bg-indigo-600 text-white shadow-lg":"bg-slate-900 border border-slate-800 text-slate-300 hover:bg-slate-800"}`,children:[I.jsx(_t.Rotate,{})," ",Ae.flipToOther]})]}),I.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-[2rem] p-6 shadow-inner flex flex-col gap-4",children:[I.jsx("textarea",{value:zn,onChange:J=>Zr(J.target.value),placeholder:Ae.inputPlaceholder,className:"w-full bg-transparent text-white text-lg outline-none resize-none h-24 placeholder:text-slate-600"}),I.jsx("button",{onClick:Ar,disabled:!zn.trim()||It,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-800 disabled:text-slate-600 text-white font-bold py-5 rounded-2xl shadow-lg transition-all flex items-center justify-center gap-3 active:scale-95",children:I.jsx("span",{className:"text-lg",children:Ae.translateShowOther})})]})]})}),xA=()=>I.jsx(Ei,{title:Ae.flavorPal,onBack:()=>e(Re.LANDING),actions:I.jsx("div",{className:"flex gap-2",children:I.jsx("button",{onClick:()=>e(Re.HISTORY),className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-300",children:I.jsx(_t.History,{})})}),children:I.jsxs("div",{className:"flex flex-col items-center py-10 relative",children:[I.jsx("div",{className:"w-48 h-48 bg-slate-900 rounded-full flex items-center justify-center mb-10 shadow-[0_0_30px_rgba(13,148,136,0.2)] border border-slate-800",children:I.jsx("div",{className:"text-6xl animate-bounce",children:""})}),I.jsxs("div",{className:"w-full space-y-4",children:[I.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-800 mb-4",children:[I.jsx("h3",{className:"text-teal-400 font-semibold mb-2",children:Ae.targetLanguage}),I.jsxs("select",{value:a,onChange:J=>u(J.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-slate-200 outline-none focus:ring-2 ring-teal-500/50",children:[I.jsx("option",{value:"Traditional Chinese",children:""}),I.jsx("option",{value:"English",children:"English"}),I.jsx("option",{value:"Japanese",children:""})]})]}),I.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[I.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",ref:Yn,onChange:Ir}),I.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",ref:Tr,onChange:Ir}),I.jsxs("button",{onClick:()=>{var J;return(J=Yn.current)==null?void 0:J.click()},className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-5 rounded-3xl shadow-[0_10px_30px_-10px_rgba(13,148,136,0.5)] transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(_t.Camera,{}),I.jsx("span",{className:"text-lg",children:Ae.takePhoto})]}),I.jsxs("button",{onClick:()=>e(Re.UPLOAD),className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold py-4 rounded-3xl border border-slate-700 transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(_t.Photo,{}),I.jsx("span",{className:"text-sm",children:Ae.uploadGallery})]})]})]})]})}),lo=()=>I.jsx(Ei,{title:Ae.wordPal,onBack:()=>e(Re.LANDING),children:I.jsxs("div",{className:"flex flex-col items-center py-10 relative",children:[I.jsx("div",{className:"w-48 h-48 bg-slate-900 rounded-full flex items-center justify-center mb-10 shadow-[0_0_30px_rgba(99,102,241,0.2)] border border-slate-800",children:I.jsx("div",{className:"text-6xl animate-bounce",children:""})}),I.jsxs("div",{className:"w-full space-y-4",children:[I.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-800 mb-4",children:[I.jsx("h3",{className:"text-indigo-400 font-semibold mb-2",children:Ae.targetLanguage}),I.jsxs("select",{value:a,onChange:J=>u(J.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-slate-200 outline-none focus:ring-2 ring-indigo-500/50",children:[I.jsx("option",{value:"Traditional Chinese",children:""}),I.jsx("option",{value:"English",children:"English"}),I.jsx("option",{value:"Japanese",children:""}),I.jsx("option",{value:"French",children:"French"}),I.jsx("option",{value:"Korean",children:"Korean"})]})]}),I.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[I.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",ref:Yn,onChange:Ir}),I.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",ref:Tr,onChange:Ir}),I.jsxs("button",{onClick:()=>{var J;return(J=Yn.current)==null?void 0:J.click()},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-5 rounded-3xl shadow-[0_10px_30px_-10px_rgba(99,102,241,0.5)] transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(_t.Camera,{}),I.jsx("span",{className:"text-lg",children:Ae.takePhoto})]}),I.jsxs("button",{onClick:()=>e(Re.WORDPAL_UPLOAD),className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold py-4 rounded-3xl border border-slate-700 transition-all flex items-center justify-center gap-3 active:scale-95",children:[I.jsx(_t.Photo,{}),I.jsx("span",{className:"text-sm",children:Ae.uploadGallery})]})]})]})]})}),zi=()=>I.jsx(Ei,{title:t==="FLAVOR"?Ae.analyzeMenu:Ae.translateText,onBack:()=>e(t==="FLAVOR"?Re.HOME:Re.WORDPAL_HOME),children:I.jsxs("div",{className:"py-6 space-y-6",children:[I.jsx("div",{className:"grid grid-cols-2 gap-4",children:[0,1].map(J=>I.jsx("div",{className:"aspect-[3/4] rounded-2xl border-2 border-dashed border-slate-700 bg-slate-900 relative flex items-center justify-center overflow-hidden hover:border-teal-500/50 transition-colors",children:Te[J]?I.jsxs(I.Fragment,{children:[I.jsx("img",{src:Te[J],className:"w-full h-full object-cover",alt:`Snippet ${J}`}),I.jsx("button",{onClick:()=>Xe(de=>de.filter((he,ce)=>ce!==J)),className:"absolute top-2 right-2 bg-red-500/80 hover:bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs backdrop-blur-sm",children:""})]}):I.jsxs("label",{className:"cursor-pointer w-full h-full flex flex-col items-center justify-center gap-2 group",children:[I.jsx("span",{className:"text-3xl text-slate-600 group-hover:text-teal-500 transition-colors",children:"+"}),I.jsx("span",{className:"text-xs text-slate-500 group-hover:text-teal-400 transition-colors",children:"Add Image"}),I.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Ir,className:"hidden"})]})},J))}),t==="FLAVOR"&&I.jsxs("div",{className:"bg-slate-900 rounded-2xl p-5 border border-slate-800 space-y-4",children:[I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:Ae.restaurantName}),I.jsx("input",{type:"text",value:Qe,onChange:J=>ke(J.target.value),placeholder:Ae.enterRestName,className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-teal-500 outline-none text-sm placeholder:text-slate-600"})]}),I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:Ae.restaurantAddress}),I.jsxs("button",{onClick:yA,disabled:Er,className:"text-xs text-teal-400 flex items-center gap-1 hover:text-teal-300 disabled:opacity-50",children:[I.jsx(_t.Locate,{})," ",Er?Ae.locating:Ae.locate]})]}),I.jsx("input",{type:"text",value:Ot,onChange:J=>ft(J.target.value),placeholder:Ae.enterRestAddr,className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-teal-500 outline-none text-sm placeholder:text-slate-600"})]})]}),I.jsx("div",{className:"bg-indigo-900/20 rounded-2xl p-4 border border-indigo-500/20",children:I.jsxs("p",{className:"text-indigo-300 text-sm leading-relaxed",children:[" ",I.jsxs("strong",{children:[Ae.tip.split(":")[0],":"]})," ",Ae.tip.split(":")[1]]})}),I.jsxs("button",{onClick:ri,disabled:Te.length===0,className:`w-full ${t==="FLAVOR"?"bg-teal-600 hover:bg-teal-500":"bg-indigo-600 hover:bg-indigo-500"} disabled:bg-slate-800 disabled:text-slate-600 text-white font-bold py-5 rounded-3xl shadow-lg transition-all flex items-center justify-center gap-3`,children:[I.jsx(_t.Check,{}),I.jsx("span",{className:"text-lg",children:t==="FLAVOR"?Ae.analyzeMenu:Ae.translateText})]})]})}),uo=()=>I.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-950 flex flex-col items-center justify-center px-8 text-center text-slate-200",children:[I.jsxs("div",{className:"w-64 h-64 mb-10 relative",children:[I.jsx("div",{className:`absolute inset-0 ${t==="FLAVOR"?"bg-teal-500/10":"bg-indigo-500/10"} rounded-full animate-pulse`}),I.jsx("div",{className:"relative text-8xl flex items-center justify-center h-full animate-bounce",children:t==="FLAVOR"?I.jsx("span",{className:"scale-x-[-1] inline-block",children:Dt}):""})]}),I.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 shadow-xl border border-slate-800 w-full mb-8",children:[I.jsx("h2",{className:`${t==="FLAVOR"?"text-teal-500":"text-indigo-500"} font-bold tracking-widest text-xs uppercase mb-2`,children:Ae.didYouKnow}),I.jsx("p",{className:"text-slate-400 leading-relaxed italic mt-2",children:Ki||(t==="FLAVOR"?Ae.flavorFacts:Ae.wordFacts)})]}),I.jsxs("div",{className:"w-full space-y-4",children:[I.jsx("div",{className:"w-full bg-slate-800 h-2 rounded-full overflow-hidden",children:I.jsx("div",{className:`h-full ${t==="FLAVOR"?"bg-teal-500":"bg-indigo-500"} transition-all duration-300 ease-out`,style:{width:`${ki}%`}})}),I.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-mono mt-1",children:[I.jsx("span",{children:t==="FLAVOR"?sa[mn]:ro[mn]}),I.jsxs("span",{children:[Math.round(ki),"%"]})]})]})]}),la=()=>nA?I.jsx(Ei,{title:Ae.wordPal,onBack:()=>e(Re.WORDPAL_UPLOAD),actions:I.jsxs("div",{className:"text-xs bg-indigo-900/50 text-indigo-300 px-3 py-1 rounded-full border border-indigo-500/30",children:[nA.detected_language,"  ",a]}),children:I.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] gap-4 py-4",children:[I.jsxs("div",{className:"flex-1 bg-slate-900 rounded-3xl border border-slate-800 flex flex-col overflow-hidden relative group",children:[I.jsxs("div",{className:"px-6 pt-5 pb-3 bg-slate-900 border-b border-slate-800 z-10 flex justify-between items-center shrink-0",children:[I.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:Ae.originalText}),I.jsx("button",{onClick:()=>Dn(nA.original_text,nA.detected_language),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-all opacity-0 group-hover:opacity-100",children:I.jsx(_t.Speaker,{})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:I.jsx("p",{className:"text-slate-200 whitespace-pre-wrap leading-relaxed text-lg font-serif",children:nA.original_text})})]}),I.jsxs("div",{className:"flex-1 bg-slate-900 rounded-3xl border border-indigo-500/20 flex flex-col overflow-hidden relative group",children:[I.jsxs("div",{className:"px-6 pt-5 pb-3 bg-slate-900 border-b border-indigo-500/20 z-10 flex justify-between items-center shrink-0",children:[I.jsx("h3",{className:"text-xs font-bold text-indigo-400 uppercase tracking-widest",children:Ae.translation}),I.jsx("button",{onClick:()=>Dn(nA.translated_text),className:"p-2 bg-indigo-900/30 rounded-full text-indigo-300 hover:text-white transition-all",children:I.jsx(_t.Speaker,{})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:I.jsx("p",{className:"text-indigo-100 whitespace-pre-wrap leading-relaxed text-lg",children:nA.translated_text})})]}),I.jsx("button",{onClick:()=>e(Re.WORDPAL_UPLOAD),className:"w-full mt-2 text-indigo-400 hover:text-indigo-300 text-sm font-bold border border-indigo-500/30 hover:bg-indigo-500/10 py-3 rounded-2xl transition-all",children:Ae.translateNew})]})}):null,Ji=()=>{var fn,dn;if(!K)return null;const J=K.items.reduce((Ut,At)=>(Ut[At.category]||(Ut[At.category]=[]),Ut[At.category].push(At),Ut),{}),de=Object.keys(J),he=me.reduce((Ut,At)=>Ut+At.quantity,0),ce=me.reduce((Ut,At)=>Ut+At.price_original*At.quantity,0),Se=((fn=me[0])==null?void 0:fn.currency_original)||((dn=K.items[0])==null?void 0:dn.currency_original),xe=ce*(hA[Se]||1),bt=gt?ce.toFixed(0):xe.toFixed(1),Ct=gt?Se:"HKD",St=gt?xe.toFixed(1):ce.toFixed(0),pt=gt?"HKD":Se;return I.jsxs(Ei,{title:Ae.menu,onBack:()=>e(Re.UPLOAD),actions:I.jsxs("div",{className:"flex flex-col items-end gap-1",children:[I.jsx("div",{className:"flex gap-2",children:I.jsxs("button",{onClick:()=>rA(!gt),className:"text-xs bg-slate-800 px-3 py-1.5 rounded-full text-teal-400 font-bold hover:bg-slate-700 border border-slate-700",children:[Ae.swap,": ",gt?Se:"HKD"]})}),K.restaurant_name&&I.jsx("span",{className:"text-[10px] font-bold text-slate-500",children:K.restaurant_name})]}),children:[I.jsxs("div",{className:"pb-32 relative",children:[I.jsx("div",{className:"sticky top-0 z-20 bg-slate-950/90 backdrop-blur pb-2 -mx-6 px-6",children:I.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 no-scrollbar w-full flex-nowrap touch-pan-x",children:de.map(Ut=>I.jsx("button",{onClick:()=>qi(Ut),className:"whitespace-nowrap bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-full text-sm font-medium transition-colors border border-slate-700 flex-shrink-0",children:Ut},Ut))})}),I.jsx("div",{className:"space-y-8 mt-2",children:de.map(Ut=>I.jsxs("div",{ref:At=>{Mt.current[Ut]=At},children:[I.jsx("h3",{className:"text-xl font-bold text-teal-500 mb-4 px-2 border-l-4 border-teal-600",children:Ut}),I.jsx("div",{className:"space-y-4",children:J[Ut].map((At,Ln)=>{const Sr=me.find(Xn=>Xn.id===At.name_original),co=hA[At.currency_original]||1,Yi=(At.price_original*co).toFixed(1),Xi=gt?At.price_original:Yi,fo=gt?At.currency_original:"HKD",Ur=gt?Yi:At.price_original,Wi=gt?"HKD":At.currency_original;return I.jsxs("div",{className:`bg-slate-900 rounded-3xl p-5 shadow-sm border ${Sr?"border-teal-500/50 bg-teal-900/10":"border-slate-800"} transition-all`,children:[I.jsx("div",{className:"flex justify-between items-start mb-2",children:I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("h3",{className:"text-lg font-bold text-slate-200",children:At.name_translated}),I.jsx("button",{onClick:Xn=>{Xn.stopPropagation(),Dn(At.name_original,K.detected_language)},className:"text-slate-500 hover:text-teal-400 p-1 transition-colors",children:I.jsx(_t.Speaker,{})})]}),I.jsx("p",{className:"text-xs text-slate-500 italic mb-1",children:At.name_original})]})}),I.jsx("div",{className:"bg-amber-900/20 p-3 rounded-2xl border border-amber-700/30 mb-4",children:I.jsx("p",{className:"text-sm text-amber-200 leading-snug",children:At.description})}),I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-baseline gap-1",children:[I.jsxs("span",{className:"text-xl font-bold text-teal-400",children:[Cn(fo),Xi]}),I.jsx("span",{className:"text-xs font-bold text-teal-600/70",children:fo})]}),I.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-tight",children:[" ",Ur," ",Wi]})]}),I.jsxs("div",{className:"flex items-center gap-4 bg-slate-950 p-1 rounded-2xl border border-slate-800",children:[I.jsx("button",{onClick:()=>pA(At),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:text-slate-400 transition-colors",disabled:!Sr,children:I.jsx(_t.Minus,{})}),I.jsx("span",{className:"font-bold text-slate-200 w-4 text-center",children:(Sr==null?void 0:Sr.quantity)||0}),I.jsx("button",{onClick:()=>oa(At),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-teal-600 hover:bg-teal-500 shadow-lg text-white transition-colors",children:I.jsx(_t.Plus,{})})]})]})]},Ln)})})]},Ut))})]}),he>0&&I.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto p-4 bg-gradient-to-t from-slate-950 via-slate-950 to-transparent pointer-events-none z-30",children:I.jsxs("div",{className:"pointer-events-auto bg-teal-800 rounded-3xl p-6 shadow-2xl flex items-center justify-between border border-teal-600/30",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-teal-200 text-xs font-bold tracking-widest uppercase mb-1",children:Ae.estTotal}),I.jsxs("div",{className:"flex flex-col",children:[I.jsxs("div",{className:"flex items-baseline gap-1 text-white",children:[I.jsxs("span",{className:"text-2xl font-black",children:[Cn(Ct),bt]}),I.jsx("span",{className:"text-sm font-bold opacity-80",children:Ct})]}),I.jsxs("div",{className:"text-[10px] text-teal-300 opacity-80",children:[" ",pt==="HKD"?"$":Cn(pt),St," ",pt," (",Ae.currencyDisclaimer,")"]})]})]}),I.jsxs("button",{onClick:()=>e(Re.CHECKOUT),className:"bg-white text-teal-900 font-bold px-8 py-3 rounded-2xl shadow-lg active:scale-95 transition-transform flex items-center gap-2 hover:bg-slate-100",children:[Ae.checkout," ",I.jsx("span",{className:"bg-teal-900/10 text-teal-900 px-2 py-0.5 rounded-lg text-sm",children:he})]})]})})]})},Mn=J=>{var ce;let de;if(J==="checkout"){if(!K)return null;const Se=me.reduce((St,pt)=>St+pt.price_original*pt.quantity,0),xe=((ce=me[0])==null?void 0:ce.currency_original)||"HKD",bt=hA[xe]||1,Ct=Se*bt;de={restaurant_name:K.restaurant_name,restaurant_address:K.restaurant_address,date:new Date().toLocaleDateString(),items:me,total_original:Se,currency_original:xe,total_hkd:Ct,rate:bt,language:K.detected_language}}else{if(!j)return null;de={restaurant_name:j.restaurant_name,restaurant_address:j.restaurant_address,date:j.date,items:j.items,total_original:j.total_original,currency_original:j.currency_original,total_hkd:j.total_hkd,rate:j.total_hkd/j.total_original||1,language:j.detected_language}}const he=Cn(de.currency_original);return I.jsx(Ei,{title:J==="checkout"?Ae.checkout:Ae.receipt,onBack:()=>e(J==="checkout"?Re.MENU:Re.HISTORY),children:I.jsxs("div",{className:"py-6 space-y-6",children:[I.jsxs("div",{id:"receipt-container",ref:iA,className:"bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-sm flex flex-col items-center text-center gap-4",children:[I.jsx("div",{className:"text-6xl scale-x-[-1] inline-block mb-2",children:Dt}),I.jsx("h2",{className:"text-3xl font-black tracking-tighter text-white mb-1",children:(()=>{const Se=(de.language||"").toLowerCase();return Se.startsWith("ja")?"":Se.startsWith("zh")?"":"My Order"})()}),J==="receipt"&&I.jsxs(I.Fragment,{children:[I.jsx("p",{className:"text-slate-400 font-medium",children:de.restaurant_name}),de.restaurant_address&&I.jsx("p",{className:"text-xs text-slate-600 max-w-[200px] truncate",children:de.restaurant_address}),I.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest mb-2",children:de.date})]}),J==="checkout"&&I.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest mb-2",children:de.date}),I.jsx("div",{className:"w-full border-t border-dashed border-slate-700 py-6 space-y-4",children:de.items.map((Se,xe)=>I.jsxs("div",{className:"flex justify-between items-start text-left",children:[I.jsx("div",{className:"flex-1",children:I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsxs("span",{className:"font-bold text-slate-300",children:[Se.quantity,"x"]}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("h4",{className:"font-bold text-slate-200 leading-tight",children:Se.name_original}),I.jsx("button",{onClick:()=>Dn(Se.name_original,de.language),className:"text-slate-500 hover:text-teal-400 transition-colors p-1",title:"Read Aloud",children:I.jsx(_t.Speaker,{})})]}),I.jsx("p",{className:"text-xs text-slate-500",children:Se.name_translated})]})]})}),I.jsxs("div",{className:"text-right",children:[I.jsxs("p",{className:"font-bold text-slate-200",children:[he,Se.price_original*Se.quantity]}),I.jsxs("p",{className:"text-[10px] text-slate-500 uppercase",children:[" HKD ",(Se.price_original*Se.quantity*de.rate).toFixed(1)]})]})]},xe))}),I.jsxs("div",{id:"receipt-total",className:"w-full border-t-2 border-slate-800 pt-6 space-y-2",children:[I.jsxs("div",{className:"flex justify-between items-center text-slate-500 uppercase tracking-widest text-[10px] font-bold",children:[I.jsx("span",{children:Ae.subtotal}),I.jsxs("span",{children:[he,de.total_original]})]}),I.jsxs("div",{className:"flex justify-between items-center text-2xl font-black text-white",children:[I.jsx("span",{children:Ae.total}),I.jsxs("span",{children:[he,de.total_original]})]}),I.jsxs("div",{className:"bg-slate-800 text-slate-200 rounded-2xl py-3 px-4 flex justify-between items-center mt-4",children:[I.jsx("span",{className:"font-bold uppercase tracking-widest text-[10px] opacity-60",children:Ae.estHkd}),I.jsxs("span",{className:"text-xl font-bold text-teal-400",children:[" $",de.total_hkd.toFixed(1)]})]}),J==="checkout"&&I.jsx("button",{onClick:()=>e(Re.MENU),className:"w-full mt-4 text-teal-500 hover:text-teal-400 text-sm font-bold border border-teal-500/30 hover:bg-teal-500/10 py-3 rounded-2xl transition-all",children:Ae.continueOrdering})]}),I.jsxs("div",{id:"receipt-inputs",className:"w-full mt-6 space-y-2 p-4 bg-slate-900/50 rounded-2xl border border-slate-800 border-dashed",children:[I.jsx("input",{type:"text",value:J==="checkout"?(K==null?void 0:K.restaurant_name)||"":(j==null?void 0:j.restaurant_name)||"",onChange:Se=>Lt("restaurant_name",Se.target.value),placeholder:Ae.enterRestName,className:"w-full bg-slate-950/50 border border-slate-700/50 rounded-lg p-2 text-center text-slate-300 font-medium focus:border-teal-500 outline-none text-sm placeholder:text-slate-600"}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"text",value:J==="checkout"?(K==null?void 0:K.restaurant_address)||"":(j==null?void 0:j.restaurant_address)||"",onChange:Se=>Lt("restaurant_address",Se.target.value),placeholder:Ae.enterRestAddr,className:"w-full bg-slate-950/50 border border-slate-700/50 rounded-lg p-2 text-center text-slate-500 text-xs focus:border-teal-500 outline-none placeholder:text-slate-600"}),I.jsx("button",{onClick:yA,className:"absolute right-2 top-1/2 -translate-y-1/2 text-teal-400 p-2",children:I.jsx(_t.Locate,{})})]})]}),I.jsx("div",{className:"w-full mt-6 opacity-20",children:I.jsx("p",{className:"text-[8px] tracking-[0.3em] uppercase text-slate-500",children:Ae.thankYou})})]}),J==="checkout"&&I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("button",{onClick:Gi,className:"bg-slate-800 text-slate-300 font-bold py-4 rounded-3xl flex items-center justify-center gap-2 hover:bg-slate-700 transition-colors",children:[I.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Ae.receiptImg]}),I.jsx("button",{onClick:mA,className:"bg-teal-600 text-white font-bold py-4 rounded-3xl shadow-lg active:scale-95 transition-transform hover:bg-teal-500",children:Ae.finishOrder})]})]})})},qt=()=>I.jsx(Ei,{title:Ae.history,onBack:()=>e(Re.HOME),children:I.jsx("div",{className:"py-6 space-y-6",children:qe.length===0?I.jsxs("div",{className:"py-20 text-center text-slate-600",children:[I.jsx("div",{className:"text-4xl mb-4 opacity-50",children:""}),I.jsx("p",{children:"No orders yet. Start scanning!"})]}):qe.map(J=>I.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-800 space-y-4",children:[I.jsxs("div",{className:"flex justify-between items-start",children:[I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2 text-amber-500 font-bold text-xs uppercase tracking-widest mb-1",children:[I.jsx(_t.History,{}),J.date]}),I.jsx("h3",{className:"text-xl font-bold text-slate-200 leading-tight",children:J.restaurant_name})]}),I.jsx("button",{onClick:()=>nn(J.id),className:"text-slate-600 hover:text-red-400 transition-colors p-2 -mr-2",children:I.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),I.jsx("div",{className:"space-y-1",children:J.items.map((de,he)=>I.jsxs("div",{className:"flex justify-between text-sm",children:[I.jsx("span",{className:"text-slate-400",children:de.name_translated}),I.jsxs("span",{className:"text-slate-600 italic",children:["x",de.quantity]})]},he))}),I.jsxs("div",{className:"pt-2 border-t border-slate-800 flex items-baseline gap-2",children:[I.jsxs("span",{className:"text-2xl font-bold text-teal-400 tracking-tighter",children:[J.total_original," ",I.jsx("span",{className:"text-sm",children:J.currency_original})]}),I.jsxs("span",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:["( ",J.total_hkd.toFixed(1)," HKD)"]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[I.jsxs("button",{onClick:()=>window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(J.restaurant_name+" "+(J.restaurant_address||""))}`,"_blank"),className:"bg-indigo-900/30 text-indigo-400 border border-indigo-500/20 font-bold py-3 rounded-2xl flex items-center justify-center gap-2 text-sm hover:bg-indigo-900/50 transition-colors",children:[I.jsx(_t.Navigation,{})," ",Ae.navigate]}),I.jsx("button",{onClick:()=>Hl(J),className:"bg-slate-800 text-slate-300 font-bold py-3 rounded-2xl flex items-center justify-center gap-2 text-sm hover:bg-slate-700 transition-colors",children:Ae.viewReceipt})]})]},J.id))})});return k&&m?I.jsx("div",{className:"min-h-screen bg-slate-950",children:RA()}):I.jsxs("div",{className:"min-h-screen bg-slate-950",children:[n===Re.LANDING&&ao(),n===Re.HOME&&xA(),n===Re.UPLOAD&&zi(),n===Re.MENU&&Ji(),n===Re.CHECKOUT&&Mn("checkout"),n===Re.RECEIPT&&Mn("receipt"),n===Re.HISTORY&&qt(),n===Re.WORDPAL_HOME&&lo(),n===Re.WORDPAL_UPLOAD&&zi(),n===Re.WORDPAL_RESULT&&la(),n===Re.PORTABLE_TRANSLATOR&&bA(),n===Re.LOADING&&uo(),Gt()]})},ty=document.getElementById("root");if(!ty)console.error("Failed to find the root element");else try{o1.createRoot(ty).render(I.jsx(jx.StrictMode,{children:I.jsx(Y7,{})}))}catch(n){console.error("Error mounting React app:",n),ty.innerHTML=`
      <div style="color: white; padding: 20px; text-align: center;">
        <h1>Something went wrong</h1>
        <p>Please check the console for details.</p>
        <p>${n}</p>
      </div>
    `}
